let e,t,n,r,i,a,o;function s(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T,C,P,A,R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function O(e){return e&&e.__esModule?e.default:e}"use strict";"use strict";var k={},L={},N=R.parcelRequire5427;null==N&&((N=function(e){if(e in k)return k[e].exports;if(e in L){var t=L[e];delete L[e];var n={id:e,exports:{}};return k[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){L[e]=t},R.parcelRequire5427=N),N.register("1b2ls",function(e,t){"use strict";s(e.exports,"Fragment",()=>n,e=>n=e),s(e.exports,"jsx",()=>r,e=>r=e),s(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,a=N("acw62"),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,i={},a=null,s=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)u.call(t,r)&&!d.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:c.current}}n=l,r=h,i=h}),N.register("acw62",function(e,t){"use strict";e.exports=N("2pUnB")}),N.register("2pUnB",function(e,t){"use strict";s(e.exports,"Children",()=>n,e=>n=e),s(e.exports,"Component",()=>r,e=>r=e),s(e.exports,"Fragment",()=>i,e=>i=e),s(e.exports,"Profiler",()=>a,e=>a=e),s(e.exports,"PureComponent",()=>o,e=>o=e),s(e.exports,"StrictMode",()=>l,e=>l=e),s(e.exports,"Suspense",()=>u,e=>u=e),s(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),s(e.exports,"cloneElement",()=>d,e=>d=e),s(e.exports,"createContext",()=>h,e=>h=e),s(e.exports,"createElement",()=>f,e=>f=e),s(e.exports,"createFactory",()=>p,e=>p=e),s(e.exports,"createRef",()=>m,e=>m=e),s(e.exports,"forwardRef",()=>g,e=>g=e),s(e.exports,"isValidElement",()=>v,e=>v=e),s(e.exports,"lazy",()=>y,e=>y=e),s(e.exports,"memo",()=>b,e=>b=e),s(e.exports,"startTransition",()=>_,e=>_=e),s(e.exports,"unstable_act",()=>x,e=>x=e),s(e.exports,"useCallback",()=>S,e=>S=e),s(e.exports,"useContext",()=>w,e=>w=e),s(e.exports,"useDebugValue",()=>E,e=>E=e),s(e.exports,"useDeferredValue",()=>M,e=>M=e),s(e.exports,"useEffect",()=>T,e=>T=e),s(e.exports,"useId",()=>C,e=>C=e),s(e.exports,"useImperativeHandle",()=>P,e=>P=e),s(e.exports,"useInsertionEffect",()=>A,e=>A=e),s(e.exports,"useLayoutEffect",()=>R,e=>R=e),s(e.exports,"useMemo",()=>O,e=>O=e),s(e.exports,"useReducer",()=>k,e=>k=e),s(e.exports,"useRef",()=>L,e=>L=e),s(e.exports,"useState",()=>N,e=>N=e),s(e.exports,"useSyncExternalStore",()=>I,e=>I=e),s(e.exports,"useTransition",()=>D,e=>D=e),s(e.exports,"version",()=>U,e=>U=e);var n,r,i,a,o,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T,C,P,A,R,O,k,L,N,I,D,U,z=Symbol.for("react.element"),F=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),H=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,Q={};function J(e,t,n){this.props=e,this.context=t,this.refs=Q,this.updater=n||K}function ee(){}function et(e,t,n){this.props=e,this.context=t,this.refs=Q,this.updater=n||K}J.prototype.isReactComponent={},J.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},J.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=J.prototype;var en=et.prototype=new ee;en.constructor=et,Z(en,J.prototype),en.isPureReactComponent=!0;var er=Array.isArray,ei=Object.prototype.hasOwnProperty,ea={current:null},eo={key:!0,ref:!0,__self:!0,__source:!0};function es(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)ei.call(t,r)&&!eo.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:z,type:e,key:a,ref:o,props:i,_owner:ea.current}}function el(e){return"object"==typeof e&&null!==e&&e.$$typeof===z}var eu=/\/+/g;function ec(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ed(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var o,s,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case z:case F:c=!0}}if(c)return a=a(c=t),t=""===i?"."+ec(c,0):i,er(a)?(r="",null!=t&&(r=t.replace(eu,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(el(a)&&(o=a,s=r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(eu,"$&/")+"/")+t,a={$$typeof:z,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}),n.push(a)),1;if(c=0,i=""===i?".":i+":",er(t))for(var d=0;d<t.length;d++){u=t[d];var h=i+ec(u,d);c+=e(u,n,r,h,a)}else if("function"==typeof(h=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Y&&l[Y]||l["@@iterator"])?l:null))for(t=h.call(t),d=0;!(u=t.next()).done;)h=i+ec(u=u.value,d++),c+=e(u,n,r,h,a);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function eh(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ef={current:null},ep={transition:null};n={map:ed,forEach:function(e,t,n){ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(e){return e})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=J,i=j,a=V,o=et,l=B,u=X,c={ReactCurrentDispatcher:ef,ReactCurrentBatchConfig:ep,ReactCurrentOwner:ea},d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Z({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=ea.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)ei.call(t,l)&&!eo.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:z,type:e.type,key:i,ref:a,props:r,_owner:o}},h=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:G,_context:e},e.Consumer=e},f=es,p=function(e){var t=es.bind(null,e);return t.type=e,t},m=function(){return{current:null}},g=function(e){return{$$typeof:W,render:e}},v=el,y=function(e){return{$$typeof:q,_payload:{_status:-1,_result:e},_init:eh}},b=function(e,t){return{$$typeof:$,type:e,compare:void 0===t?null:t}},_=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}},x=function(){throw Error("act(...) is not supported in production builds of React.")},S=function(e,t){return ef.current.useCallback(e,t)},w=function(e){return ef.current.useContext(e)},E=function(){},M=function(e){return ef.current.useDeferredValue(e)},T=function(e,t){return ef.current.useEffect(e,t)},C=function(){return ef.current.useId()},P=function(e,t,n){return ef.current.useImperativeHandle(e,t,n)},A=function(e,t){return ef.current.useInsertionEffect(e,t)},R=function(e,t){return ef.current.useLayoutEffect(e,t)},O=function(e,t){return ef.current.useMemo(e,t)},k=function(e,t,n){return ef.current.useReducer(e,t,n)},L=function(e){return ef.current.useRef(e)},N=function(e){return ef.current.useState(e)},I=function(e,t,n){return ef.current.useSyncExternalStore(e,t,n)},D=function(){return ef.current.useTransition()},U="18.2.0"}),N.register("Xw6Mv",function(e,t){"use strict";s(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>G,e=>G=e),s(e.exports,"createPortal",()=>H,e=>H=e),s(e.exports,"createRoot",()=>W,e=>W=e),s(e.exports,"findDOMNode",()=>X,e=>X=e),s(e.exports,"flushSync",()=>$,e=>$=e),s(e.exports,"hydrate",()=>q,e=>q=e),s(e.exports,"hydrateRoot",()=>Y,e=>Y=e),s(e.exports,"render",()=>K,e=>K=e),s(e.exports,"unmountComponentAtNode",()=>Z,e=>Z=e),s(e.exports,"unstable_batchedUpdates",()=>Q,e=>Q=e),s(e.exports,"unstable_renderSubtreeIntoContainer",()=>J,e=>J=e),s(e.exports,"version",()=>ee,e=>ee=e);var n,r,i,a,o,l,u=N("acw62"),c=N("fO90s");function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)h.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},_={};function x(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function M(e,t,n,r){var i,a=S.hasOwnProperty(t)?S[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?(i=t,(!!v.call(_,i)||!v.call(b,i)&&(y.test(i)?_[i]=!0:(b[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w,E);S[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w,E);S[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w,E);S[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var T=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}var G,H,W,X,$,q,Y,K,Z,Q,J,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function ea(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function es(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=es(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=es(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ed(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eh(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=eo(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&M(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=eo(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,eo(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ev=Array.isArray;function ey(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+eo(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function eb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(d(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e_(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(d(92));if(ev(n)){if(1<n.length)throw Error(d(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function ex(e,t){var n=eo(t.value),r=eo(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eS(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ew(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eE(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ew(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eM,eT,eC=(eM=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eT=eT||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eT.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eM(e,t,n,r)})}:eM);function eP(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];function eO(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eA.hasOwnProperty(e)&&eA[e]?(""+t).trim():t+"px"}function ek(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eO(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eA).forEach(function(e){eR.forEach(function(t){eA[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eA[e]})});var eL=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eN(e,t){if(t){if(eL[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(d(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(d(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(d(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(d(62))}}function eI(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eD=null;function eU(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ez=null,eF=null,ej=null;function eB(e){if(e=rY(e)){if("function"!=typeof ez)throw Error(d(280));var t=e.stateNode;t&&(t=rZ(t),ez(e.stateNode,e.type,t))}}function eV(e){eF?ej?ej.push(e):ej=[e]:eF=e}function eG(){if(eF){var e=eF,t=ej;if(ej=eF=null,eB(e),t)for(e=0;e<t.length;e++)eB(t[e])}}function eH(e,t){return e(t)}function eW(){}var eX=!1;function e$(e,t,n){if(eX)return e(t,n);eX=!0;try{return eH(e,t,n)}finally{eX=!1,(null!==eF||null!==ej)&&(eW(),eG())}}function eq(e,t){var n=e.stateNode;if(null===n)return null;var r=rZ(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(d(231,t,typeof n));return n}var eY=!1;if(g)try{var eK={};Object.defineProperty(eK,"passive",{get:function(){eY=!0}}),window.addEventListener("test",eK,eK),window.removeEventListener("test",eK,eK)}catch(e){eY=!1}function eZ(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eQ=!1,eJ=null,e0=!1,e1=null,e2={onError:function(e){eQ=!0,eJ=e}};function e3(e,t,n,r,i,a,o,s,l){eQ=!1,eJ=null,eZ.apply(e2,arguments)}function e5(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e4(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e6(e){if(e5(e)!==e)throw Error(d(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e5(e)))throw Error(d(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e6(i),e;if(a===r)return e6(i),t;a=a.sibling}throw Error(d(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(d(189))}}if(n.alternate!==r)throw Error(d(190))}if(3!==n.tag)throw Error(d(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=c.unstable_scheduleCallback,e7=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,ta=c.unstable_UserBlockingPriority,to=c.unstable_NormalPriority,ts=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tf|0)|0},th=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=tg(s):0!=(a&=o)&&(r=tg(a))}else 0!=(o=n&~i)?r=tg(o):0!==a&&(r=tg(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-td(t)),r|=e[n],t&=~i;return r}function ty(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tb(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function t_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tx(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-td(t)]=n}function tS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-td(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tw=0;function tE(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tM,tT,tC,tP,tA,tR=!1,tO=[],tk=null,tL=null,tN=null,tI=new Map,tD=new Map,tU=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tF(e,t){switch(e){case"focusin":case"focusout":tk=null;break;case"dragenter":case"dragleave":tL=null;break;case"mouseover":case"mouseout":tN=null;break;case"pointerover":case"pointerout":tI.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tD.delete(t.pointerId)}}function tj(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=rY(t))&&tT(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function tB(e){var t=rq(e.target);if(null!==t){var n=e5(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e4(n))){e.blockedOn=t,tA(e.priority,function(){tC(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tV(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tJ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rY(n))&&tT(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eD=r,n.target.dispatchEvent(r),eD=null,t.shift()}return!0}function tG(e,t,n){tV(e)&&n.delete(t)}function tH(){tR=!1,null!==tk&&tV(tk)&&(tk=null),null!==tL&&tV(tL)&&(tL=null),null!==tN&&tV(tN)&&(tN=null),tI.forEach(tG),tD.forEach(tG)}function tW(e,t){e.blockedOn===t&&(e.blockedOn=null,tR||(tR=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tH)))}function tX(e){function t(t){return tW(t,e)}if(0<tO.length){tW(tO[0],e);for(var n=1;n<tO.length;n++){var r=tO[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tk&&tW(tk,e),null!==tL&&tW(tL,e),null!==tN&&tW(tN,e),tI.forEach(t),tD.forEach(t),n=0;n<tU.length;n++)(r=tU[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tU.length&&null===(n=tU[0]).blockedOn;)tB(n),null===n.blockedOn&&tU.shift()}var t$=T.ReactCurrentBatchConfig,tq=!0;function tY(e,t,n,r){var i=tw,a=t$.transition;t$.transition=null;try{tw=1,tZ(e,t,n,r)}finally{tw=i,t$.transition=a}}function tK(e,t,n,r){var i=tw,a=t$.transition;t$.transition=null;try{tw=4,tZ(e,t,n,r)}finally{tw=i,t$.transition=a}}function tZ(e,t,n,r){if(tq){var i=tJ(e,t,n,r);if(null===i)r_(e,t,r,tQ,n),tF(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tk=tj(tk,e,t,n,r,i),!0;case"dragenter":return tL=tj(tL,e,t,n,r,i),!0;case"mouseover":return tN=tj(tN,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tI.set(a,tj(tI.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tD.set(a,tj(tD.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tF(e,r),4&t&&-1<tz.indexOf(e)){for(;null!==i;){var a=rY(i);if(null!==a&&tM(a),null===(a=tJ(e,t,n,r))&&r_(e,t,r,tQ,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else r_(e,t,r,null,n)}}var tQ=null;function tJ(e,t,n,r){if(tQ=null,null!==(e=rq(e=eU(r)))){if(null===(t=e5(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e4(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tQ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ta:return 4;case to:case ts:return 16;case tl:return 536870912;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t5(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t4(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t6(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t6:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t6)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t6)},persist:function(){},isPersistent:t6}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),na=t9(ni),no=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),ns=t9(no),nl=t9(en({},no,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nd=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nh=t9(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function nv(){return ng}var ny=t9(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t4(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return"keypress"===e.type?t4(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t4(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nb=t9(en({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),n_=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv})),nx=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nS=t9(en({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nw=[9,13,27,32],nE=g&&"CompositionEvent"in window,nM=null;g&&"documentMode"in document&&(nM=document.documentMode);var nT=g&&"TextEvent"in window&&!nM,nC=g&&(!nE||nM&&8<nM&&11>=nM),nP=!1;function nA(e,t){switch(e){case"keyup":return -1!==nw.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nR(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nO=!1,nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nk[e.type]:"textarea"===t}function nN(e,t,n,r){eV(r),0<(t=rS(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nI=null,nD=null;function nU(e){rp(e,0)}function nz(e){if(eu(rK(e)))return e}function nF(e,t){if("change"===e)return t}var nj=!1;if(g){if(g){var nB="oninput"in document;if(!nB){var nV=document.createElement("div");nV.setAttribute("oninput","return;"),nB="function"==typeof nV.oninput}n=nB}else n=!1;nj=n&&(!document.documentMode||9<document.documentMode)}function nG(){nI&&(nI.detachEvent("onpropertychange",nH),nD=nI=null)}function nH(e){if("value"===e.propertyName&&nz(nD)){var t=[];nN(t,nD,e,eU(e)),e$(nU,t)}}function nW(e,t,n){"focusin"===e?(nG(),nI=t,nD=n,nI.attachEvent("onpropertychange",nH)):"focusout"===e&&nG()}function nX(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nz(nD)}function n$(e,t){if("click"===e)return nz(t)}function nq(e,t){if("input"===e||"change"===e)return nz(t)}var nY="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nK(e,t){if(nY(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v.call(t,i)||!nY(e[i],t[i]))return!1}return!0}function nZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nQ(e,t){var n,r=nZ(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nZ(r)}}function nJ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n5=null,n4=!1;function n6(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n4||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n5&&nK(n5,r)||(n5=r,0<(r=rS(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),ra=rt("transitionend"),ro=new Map,rs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ro.set(e,t),p(t,[e])}for(var ru=0;ru<rs.length;ru++){var rc=rs[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(ra,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,l){if(e3.apply(this,arguments),eQ){if(eQ){var u=eJ;eQ=!1,eJ=null}else throw Error(d(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;rf(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;rf(i,s,u),a=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rW];void 0===n&&(n=t[rW]=new Set);var r=e+"__bubble";n.has(r)||(rb(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),rb(n,e,r,t)}var rv="_reactListening"+Math.random().toString(36).slice(2);function ry(e){if(!e[rv]){e[rv]=!0,h.forEach(function(t){"selectionchange"!==t&&(rh.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[rv]||(t[rv]=!0,rg("selectionchange",!1,t))}}function rb(e,t,n,r){switch(t0(t)){case 1:var i=tY;break;case 4:i=tK;break;default:i=tZ}n=i.bind(null,t,n,e),i=void 0,eY&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function r_(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=rq(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}e$(function(){var r=a,i=eU(n),o=[];e:{var s=ro.get(e);if(void 0!==s){var l=nr,u=e;switch(e){case"keypress":if(0===t4(n))break e;case"keydown":case"keyup":l=ny;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=n_;break;case rn:case rr:case ri:l=nc;break;case ra:l=nx;break;case"scroll":l=na;break;case"wheel":l=nS;break;case"copy":case"cut":case"paste":l=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nb}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=eq(p,h))&&c.push(rx(p,m,f))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0==(7&t)){if(s="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(s&&n!==eD&&(u=n.relatedTarget||n.fromElement)&&(rq(u)||u[rH]))&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rq(u):null)&&(d=e5(u),u!==d||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=ns,m="onMouseLeave",h="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nb,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:rK(l),f=null==u?s:rK(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,rq(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)t:{for(c=l,h=u,p=0,f=c;f;f=rw(f))p++;for(f=0,m=h;m;m=rw(m))f++;for(;0<p-f;)c=rw(c),p--;for(;0<f-p;)h=rw(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break t;c=rw(c),h=rw(h)}c=null}else c=null;null!==l&&rE(o,s,l,c,!1),null!==u&&null!==d&&rE(o,d,u,c,!0)}e:{if("select"===(l=(s=r?rK(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g,v=nF;else if(nL(s)){if(nj)v=nq;else{v=nX;var y=nW}}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=n$);if(v&&(v=v(e,r))){nN(o,v,n,i);break e}y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&eg(s,"number",s.value)}switch(y=r?rK(r):window,e){case"focusin":(nL(y)||"true"===y.contentEditable)&&(n2=y,n3=r,n5=null);break;case"focusout":n5=n3=n2=null;break;case"mousedown":n4=!0;break;case"contextmenu":case"mouseup":case"dragend":n4=!1,n6(o,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n6(o,n,i)}if(nE)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else nO?nA(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(nC&&"ko"!==n.locale&&(nO||"onCompositionStart"!==b?"onCompositionEnd"===b&&nO&&(g=t5()):(t2="value"in(t1=i)?t1.value:t1.textContent,nO=!0)),0<(y=rS(r,b)).length&&(b=new nh(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=nR(n))&&(b.data=g))),(g=nT?function(e,t){switch(e){case"compositionend":return nR(t);case"keypress":if(32!==t.which)return null;return nP=!0," ";case"textInput":return" "===(e=t.data)&&nP?null:e;default:return null}}(e,n):function(e,t){if(nO)return"compositionend"===e||!nE&&nA(e,t)?(e=t5(),t3=t2=t1=null,nO=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nC&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rS(r,"onBeforeInput")).length&&(i=new nh("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g)}rp(o,t)})}function rx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rS(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=eq(e,n))&&r.unshift(rx(e,a,i)),null!=(a=eq(e,t))&&r.push(rx(e,a,i))),e=e.return}return r}function rw(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rE(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=eq(n,a))&&o.unshift(rx(n,l,s)):i||null!=(l=eq(n,a))&&o.push(rx(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var rM=/\r\n?/g,rT=/\u0000|\uFFFD/g;function rC(e){return("string"==typeof e?e:""+e).replace(rM,"\n").replace(rT,"")}function rP(e,t,n){if(t=rC(t),rC(e)!==t&&n)throw Error(d(425))}function rA(){}var rR=null,rO=null;function rk(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rL="function"==typeof setTimeout?setTimeout:void 0,rN="function"==typeof clearTimeout?clearTimeout:void 0,rI="function"==typeof Promise?Promise:void 0,rD="function"==typeof queueMicrotask?queueMicrotask:void 0!==rI?function(e){return rI.resolve(null).then(e).catch(rU)}:rL;function rU(e){setTimeout(function(){throw e})}function rz(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tX(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)tX(t)}function rF(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rj(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rB=Math.random().toString(36).slice(2),rV="__reactFiber$"+rB,rG="__reactProps$"+rB,rH="__reactContainer$"+rB,rW="__reactEvents$"+rB,rX="__reactListeners$"+rB,r$="__reactHandles$"+rB;function rq(e){var t=e[rV];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rH]||n[rV]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rj(e);null!==e;){if(n=e[rV])return n;e=rj(e)}return t}n=(e=n).parentNode}return null}function rY(e){return(e=e[rV]||e[rH])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rK(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(d(33))}function rZ(e){return e[rG]||null}var rQ=[],rJ=-1;function r0(e){return{current:e}}function r1(e){0>rJ||(e.current=rQ[rJ],rQ[rJ]=null,rJ--)}function r2(e,t){rQ[++rJ]=e.current,e.current=t}var r3={},r5=r0(r3),r4=r0(!1),r6=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r4),r1(r5)}function ie(e,t,n){if(r5.current!==r3)throw Error(d(168));r2(r5,t),r2(r4,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(d(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case A:return"Fragment";case P:return"Portal";case O:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case U:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case I:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case z:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r6=r5.current,r2(r5,e),r2(r4,r4.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(d(169));n?(e=it(e,t,r6),r.__reactInternalMemoizedMergedChildContext=e,r1(r4),r1(r5),r2(r5,e)):r1(r4),r2(r4,n)}var ia=null,io=!1,is=!1;function il(){if(!is&&null!==ia){is=!0;var e=0,t=tw;try{var n=ia;for(tw=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}ia=null,io=!1}catch(t){throw null!==ia&&(ia=ia.slice(e+1)),e9(ti,il),t}finally{tw=t,is=!1}}return null}var iu=[],ic=0,id=null,ih=0,ip=[],im=0,ig=null,iv=1,iy="";function ib(e,t){iu[ic++]=ih,iu[ic++]=id,id=e,ih=t}function i_(e,t,n){ip[im++]=iv,ip[im++]=iy,ip[im++]=ig,ig=e;var r=iv;e=iy;var i=32-td(r)-1;r&=~(1<<i),n+=1;var a=32-td(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,iv=1<<32-td(t)+i|n<<i|r,iy=a+e}else iv=1<<a|n<<i|r,iy=e}function ix(e){null!==e.return&&(ib(e,1),i_(e,1,0))}function iS(e){for(;e===id;)id=iu[--ic],iu[ic]=null,ih=iu[--ic],iu[ic]=null;for(;e===ig;)ig=ip[--im],ip[im]=null,iy=ip[--im],ip[im]=null,iv=ip[--im],ip[im]=null}var iw=null,iE=null,iM=!1,iT=null;function iC(e,t){var n=s8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iP(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iw=e,iE=rF(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iw=e,iE=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ig?{id:iv,overflow:iy}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=s8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iw=e,iE=null,!0);default:return!1}}function iA(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iR(e){if(iM){var t=iE;if(t){var n=t;if(!iP(e,t)){if(iA(e))throw Error(d(418));t=rF(n.nextSibling);var r=iw;t&&iP(e,t)?iC(r,n):(e.flags=-4097&e.flags|2,iM=!1,iw=e)}}else{if(iA(e))throw Error(d(418));e.flags=-4097&e.flags|2,iM=!1,iw=e}}}function iO(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iw=e}function ik(e){if(e!==iw)return!1;if(!iM)return iO(e),iM=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rk(e.type,e.memoizedProps)),t&&(t=iE)){if(iA(e))throw iL(),Error(d(418));for(;t;)iC(e,t),t=rF(t.nextSibling)}if(iO(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iE=rF(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iE=null}}else iE=iw?rF(e.stateNode.nextSibling):null;return!0}function iL(){for(var e=iE;e;)e=rF(e.nextSibling)}function iN(){iE=iw=null,iM=!1}function iI(e){null===iT?iT=[e]:iT.push(e)}var iD=T.ReactCurrentBatchConfig;function iU(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var iz=r0(null),iF=null,ij=null,iB=null;function iV(){iB=ij=iF=null}function iG(e){var t=iz.current;r1(iz),e._currentValue=t}function iH(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iW(e,t){iF=e,iB=ij=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(o_=!0),e.firstContext=null)}function iX(e){var t=e._currentValue;if(iB!==e){if(e={context:e,memoizedValue:t,next:null},null===ij){if(null===iF)throw Error(d(308));ij=e,iF.dependencies={lanes:0,firstContext:e}}else ij=ij.next=e}return t}var i$=null;function iq(e){null===i$?i$=[e]:i$.push(e)}function iY(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,iq(t)):(n.next=i.next,i.next=n),t.interleaved=n,iK(e,r)}function iK(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var iZ=!1;function iQ(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i0(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i1(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ss)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,iK(e,n)}return null===(i=r.interleaved)?(t.next=t,iq(r)):(t.next=i.next,i.next=t),r.interleaved=t,iK(e,n)}function i2(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tS(e,n)}}function i3(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function i5(e,t,n,r){var i=e.updateQueue;iZ=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=en({},d,h);break e;case 2:iZ=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do o|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);sm|=o,e.lanes=o,e.memoizedState=d}}function i4(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(d(191,i));i.call(r)}}}var i6=(new u.Component).refs;function i8(e,t,n,r){t=e.memoizedState,n=null==(n=n(r,t))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var i9={isMounted:function(e){return!!(e=e._reactInternals)&&e5(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sL(),i=sN(e),a=i0(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=i1(e,a,i))&&(sI(t,e,i,r),i2(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sL(),i=sN(e),a=i0(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=i1(e,a,i))&&(sI(t,e,i,r),i2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sL(),r=sN(e),i=i0(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i1(e,i,r))&&(sI(t,e,r,n),i2(t,e,r))}};function i7(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!nK(n,r)||!nK(i,a)}function ae(e,t,n){var r=!1,i=r3,a=t.contextType;return"object"==typeof a&&null!==a?a=iX(a):(i=r9(t)?r6:r5.current,a=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=i9,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function at(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&i9.enqueueReplaceState(t,t.state,null)}function an(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=i6,iQ(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=iX(a):(a=r9(t)?r6:r5.current,i.context=r8(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(i8(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&i9.enqueueReplaceState(i,i.state,null),i5(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ar(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(d(309));var r=n.stateNode}if(!r)throw Error(d(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===i6&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function ai(e,t){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aa(e){return(0,e._init)(e._payload)}function ao(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=s7(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=lr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===A?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===F&&aa(a)===t.type)?((r=i(t,n.props)).ref=ar(e,t,n),r.return=e,r):((r=le(n.type,n.key,n.props,null,e.mode,r)).ref=ar(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=li(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=lt(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=ar(e,null,t),n.return=e,n;case P:return(t=li(t,e.mode,n)).return=e,t;case F:var r=t._init;return h(e,r(t._payload),n)}if(ev(t)||V(t))return(t=lt(t,e.mode,n,null)).return=e,t;ai(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?l(e,t,n,r):null;case P:return n.key===i?u(e,t,n,r):null;case F:return f(e,t,(i=n._init)(n._payload),r)}if(ev(n)||V(n))return null!==i?null:c(e,t,n,r,null);ai(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return p(e,t,n,(0,r._init)(r._payload),i)}if(ev(r)||V(r))return c(t,e=e.get(n)||null,r,i,null);ai(t,r)}return null}return function s(l,u,c,m){if("object"==typeof c&&null!==c&&c.type===A&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case C:e:{for(var g=c.key,v=u;null!==v;){if(v.key===g){if((g=c.type)===A){if(7===v.tag){n(l,v.sibling),(u=i(v,c.props.children)).return=l,l=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===F&&aa(g)===v.type){n(l,v.sibling),(u=i(v,c.props)).ref=ar(l,v,c),u.return=l,l=u;break e}n(l,v);break}t(l,v),v=v.sibling}c.type===A?((u=lt(c.props.children,l.mode,m,c.key)).return=l,l=u):((m=le(c.type,c.key,c.props,null,l.mode,m)).ref=ar(l,u,c),m.return=l,l=m)}return o(l);case P:e:{for(v=c.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=li(c,l.mode,m)).return=l,l=u}return o(l);case F:return s(l,u,(v=c._init)(c._payload),m)}if(ev(c))return function(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),iM&&ib(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return iM&&ib(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),iM&&ib(i,m),u}(l,u,c,m);if(V(c))return function(i,o,s,l){var u=V(s);if("function"!=typeof u)throw Error(d(150));if(null==(s=u.call(s)))throw Error(d(151));for(var c=u=null,m=o,g=o=0,v=null,y=s.next();null!==m&&!y.done;g++,y=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===c?u=b:c.sibling=b,c=b,m=v}if(y.done)return n(i,m),iM&&ib(i,g),u;if(null===m){for(;!y.done;g++,y=s.next())null!==(y=h(i,y.value,l))&&(o=a(y,o,g),null===c?u=y:c.sibling=y,c=y);return iM&&ib(i,g),u}for(m=r(i,m);!y.done;g++,y=s.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===c?u=y:c.sibling=y,c=y);return e&&m.forEach(function(e){return t(i,e)}),iM&&ib(i,g),u}(l,u,c,m);ai(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=lr(c,l.mode,m)).return=l,l=u),o(l)):n(l,u)}}var as=ao(!0),al=ao(!1),au={},ac=r0(au),ad=r0(au),ah=r0(au);function af(e){if(e===au)throw Error(d(174));return e}function ap(e,t){switch(r2(ah,t),r2(ad,e),r2(ac,au),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eE(null,"");break;default:t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName,t=eE(t,e)}r1(ac),r2(ac,t)}function am(){r1(ac),r1(ad),r1(ah)}function ag(e){af(ah.current);var t=af(ac.current),n=eE(t,e.type);t!==n&&(r2(ad,e),r2(ac,n))}function av(e){ad.current===e&&(r1(ac),r1(ad))}var ay=r0(0);function ab(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var a_=[];function ax(){for(var e=0;e<a_.length;e++)a_[e]._workInProgressVersionPrimary=null;a_.length=0}var aS=T.ReactCurrentDispatcher,aw=T.ReactCurrentBatchConfig,aE=0,aM=null,aT=null,aC=null,aP=!1,aA=!1,aR=0,aO=0;function ak(){throw Error(d(321))}function aL(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nY(e[n],t[n]))return!1;return!0}function aN(e,t,n,r,i,a){if(aE=a,aM=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aS.current=null===e||null===e.memoizedState?os:ol,e=n(r,i),aA){a=0;do{if(aA=!1,aR=0,25<=a)throw Error(d(301));a+=1,aC=aT=null,t.updateQueue=null,aS.current=ou,e=n(r,i)}while(aA)}if(aS.current=oo,t=null!==aT&&null!==aT.next,aE=0,aC=aT=aM=null,aP=!1,t)throw Error(d(300));return e}function aI(){var e=0!==aR;return aR=0,e}function aD(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aC?aM.memoizedState=aC=e:aC=aC.next=e,aC}function aU(){if(null===aT){var e=aM.alternate;e=null!==e?e.memoizedState:null}else e=aT.next;var t=null===aC?aM.memoizedState:aC.next;if(null!==t)aC=t,aT=e;else{if(null===e)throw Error(d(310));e={memoizedState:(aT=e).memoizedState,baseState:aT.baseState,baseQueue:aT.baseQueue,queue:aT.queue,next:null},null===aC?aM.memoizedState=aC=e:aC=aC.next=e}return aC}function az(e,t){return"function"==typeof t?t(e):t}function aF(e){var t=aU(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=aT,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((aE&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,aM.lanes|=c,sm|=c}u=u.next}while(null!==u&&u!==a)null===l?o=r:l.next=s,nY(r,t.memoizedState)||(o_=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,aM.lanes|=a,sm|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aj(e){var t=aU(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i)nY(a,t.memoizedState)||(o_=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function aB(){}function aV(e,t){var n=aM,r=aU(),i=t(),a=!nY(r.memoizedState,i);if(a&&(r.memoizedState=i,o_=!0),r=r.queue,a0(aW.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==aC&&1&aC.memoizedState.tag){if(n.flags|=2048,aY(9,aH.bind(null,n,r,i,t),void 0,null),null===sl)throw Error(d(349));0!=(30&aE)||aG(n,t,i)}return i}function aG(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aM.updateQueue)?(t={lastEffect:null,stores:null},aM.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function aH(e,t,n,r){t.value=n,t.getSnapshot=r,aX(t)&&a$(e)}function aW(e,t,n){return n(function(){aX(t)&&a$(e)})}function aX(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nY(e,n)}catch(e){return!0}}function a$(e){var t=iK(e,1);null!==t&&sI(t,e,1,-1)}function aq(e){var t=aD();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:az,lastRenderedState:e},t.queue=e,e=e.dispatch=on.bind(null,aM,e),[t.memoizedState,e]}function aY(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aM.updateQueue)?(t={lastEffect:null,stores:null},aM.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aK(){return aU().memoizedState}function aZ(e,t,n,r){var i=aD();aM.flags|=e,i.memoizedState=aY(1|t,n,void 0,void 0===r?null:r)}function aQ(e,t,n,r){var i=aU();r=void 0===r?null:r;var a=void 0;if(null!==aT){var o=aT.memoizedState;if(a=o.destroy,null!==r&&aL(r,o.deps)){i.memoizedState=aY(t,n,a,r);return}}aM.flags|=e,i.memoizedState=aY(1|t,n,a,r)}function aJ(e,t){return aZ(8390656,8,e,t)}function a0(e,t){return aQ(2048,8,e,t)}function a1(e,t){return aQ(4,2,e,t)}function a2(e,t){return aQ(4,4,e,t)}function a3(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function a5(e,t,n){return n=null!=n?n.concat([e]):null,aQ(4,4,a3.bind(null,t,e),n)}function a4(){}function a6(e,t){var n=aU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a8(e,t){var n=aU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a9(e,t,n){return 0==(21&aE)?(e.baseState&&(e.baseState=!1,o_=!0),e.memoizedState=n):(nY(n,t)||(n=tb(),aM.lanes|=n,sm|=n,e.baseState=!0),t)}function a7(e,t){var n=tw;tw=0!==n&&4>n?n:4,e(!0);var r=aw.transition;aw.transition={};try{e(!1),t()}finally{tw=n,aw.transition=r}}function oe(){return aU().memoizedState}function ot(e,t,n){var r=sN(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},or(e)?oi(t,n):null!==(n=iY(e,t,n,r))&&(sI(n,e,r,sL()),oa(n,t,r))}function on(e,t,n){var r=sN(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(or(e))oi(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,nY(s,o)){var l=t.interleaved;null===l?(i.next=i,iq(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=iY(e,t,i,r))&&(sI(n,e,r,i=sL()),oa(n,t,r))}}function or(e){var t=e.alternate;return e===aM||null!==t&&t===aM}function oi(e,t){aA=aP=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tS(e,n)}}var oo={readContext:iX,useCallback:ak,useContext:ak,useEffect:ak,useImperativeHandle:ak,useInsertionEffect:ak,useLayoutEffect:ak,useMemo:ak,useReducer:ak,useRef:ak,useState:ak,useDebugValue:ak,useDeferredValue:ak,useTransition:ak,useMutableSource:ak,useSyncExternalStore:ak,useId:ak,unstable_isNewReconciler:!1},os={readContext:iX,useCallback:function(e,t){return aD().memoizedState=[e,void 0===t?null:t],e},useContext:iX,useEffect:aJ,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,aZ(4194308,4,a3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aZ(4194308,4,e,t)},useInsertionEffect:function(e,t){return aZ(4,2,e,t)},useMemo:function(e,t){var n=aD();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aD();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ot.bind(null,aM,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},aD().memoizedState=e},useState:aq,useDebugValue:a4,useDeferredValue:function(e){return aD().memoizedState=e},useTransition:function(){var e=aq(!1),t=e[0];return e=a7.bind(null,e[1]),aD().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aM,i=aD();if(iM){if(void 0===n)throw Error(d(407));n=n()}else{if(n=t(),null===sl)throw Error(d(349));0!=(30&aE)||aG(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,aJ(aW.bind(null,r,a,e),[e]),r.flags|=2048,aY(9,aH.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=aD(),t=sl.identifierPrefix;if(iM){var n=iy,r=iv;t=":"+t+"R"+(n=(r&~(1<<32-td(r)-1)).toString(32)+n),0<(n=aR++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=aO++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ol={readContext:iX,useCallback:a6,useContext:iX,useEffect:a0,useImperativeHandle:a5,useInsertionEffect:a1,useLayoutEffect:a2,useMemo:a8,useReducer:aF,useRef:aK,useState:function(){return aF(az)},useDebugValue:a4,useDeferredValue:function(e){return a9(aU(),aT.memoizedState,e)},useTransition:function(){return[aF(az)[0],aU().memoizedState]},useMutableSource:aB,useSyncExternalStore:aV,useId:oe,unstable_isNewReconciler:!1},ou={readContext:iX,useCallback:a6,useContext:iX,useEffect:a0,useImperativeHandle:a5,useInsertionEffect:a1,useLayoutEffect:a2,useMemo:a8,useReducer:aj,useRef:aK,useState:function(){return aj(az)},useDebugValue:a4,useDeferredValue:function(e){var t=aU();return null===aT?t.memoizedState=e:a9(t,aT.memoizedState,e)},useTransition:function(){return[aj(az)[0],aU().memoizedState]},useMutableSource:aB,useSyncExternalStore:aV,useId:oe,unstable_isNewReconciler:!1};function oc(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function od(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function oh(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var of="function"==typeof WeakMap?WeakMap:Map;function op(e,t,n){(n=i0(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sw||(sw=!0,sE=r),oh(e,t)},n}function om(e,t,n){(n=i0(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oh(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){oh(e,t),"function"!=typeof r&&(null===sM?sM=new Set([this]):sM.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function og(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new of;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s2.bind(null,e,t,n),t.then(e,e))}function ov(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function oy(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i0(-1,1)).tag=2,i1(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ob=T.ReactCurrentOwner,o_=!1;function ox(e,t,n,r){t.child=null===e?al(t,null,n,r):as(t,e.child,n,r)}function oS(e,t,n,r,i){n=n.render;var a=t.ref;return(iW(t,i),r=aN(e,t,n,r,a,i),n=aI(),null===e||o_)?(iM&&n&&ix(t),t.flags|=1,ox(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oB(e,t,i))}function ow(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||s9(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,oE(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nK)(o,r)&&e.ref===t.ref)return oB(e,t,i)}return t.flags|=1,(e=s7(a,r)).ref=t.ref,e.return=t,t.child=e}function oE(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nK(a,r)&&e.ref===t.ref){if(o_=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,oB(e,t,i);0!=(131072&e.flags)&&(o_=!0)}}return oC(e,t,n,r,i)}function oM(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(sh,sd),sd|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(sh,sd),sd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,r2(sh,sd),sd|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,r2(sh,sd),sd|=r;return ox(e,t,i,n),t.child}function oT(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oC(e,t,n,r,i){var a=r9(n)?r6:r5.current;return(a=r8(t,a),iW(t,i),n=aN(e,t,n,r,a,i),r=aI(),null===e||o_)?(iM&&r&&ix(t),t.flags|=1,ox(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oB(e,t,i))}function oP(e,t,n,r,i){if(r9(n)){var a=!0;ir(t)}else a=!1;if(iW(t,i),null===t.stateNode)oj(e,t),ae(t,n,r),an(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?iX(u):r8(t,u=r9(n)?r6:r5.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&at(t,o,r,u),iZ=!1;var h=t.memoizedState;o.state=h,i5(t,r,o,i),l=t.memoizedState,s!==r||h!==l||r4.current||iZ?("function"==typeof c&&(i8(t,n,c,r),l=t.memoizedState),(s=iZ||i7(t,n,s,r,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iJ(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:iU(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l="object"==typeof(l=n.contextType)&&null!==l?iX(l):r8(t,l=r9(n)?r6:r5.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&at(t,o,r,l),iZ=!1,h=t.memoizedState,o.state=h,i5(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||r4.current||iZ?("function"==typeof f&&(i8(t,n,f,r),p=t.memoizedState),(u=iZ||i7(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return oA(e,t,n,r,a,i)}function oA(e,t,n,r,i,a){oT(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&ii(t,n,!1),oB(e,t,a);r=t.stateNode,ob.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=as(t,e.child,null,a),t.child=as(t,null,s,a)):ox(e,t,s,a),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function oR(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),ap(e,t.containerInfo)}function oO(e,t,n,r,i){return iN(),iI(i),t.flags|=256,ox(e,t,n,r),t.child}var ok={dehydrated:null,treeContext:null,retryLane:0};function oL(e){return{baseLanes:e,cachePool:null,transitions:null}}function oN(e,t,n){var r,i=t.pendingProps,a=ay.current,o=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),r2(ay,1&a),null===e)return(iR(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=ln(s,i,0,null),e=lt(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=oL(n),t.memoizedState=ok,e):oI(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,oD(e,t,o,r=od(Error(d(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ln({mode:"visible",children:r.children},i,0,null),a=lt(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&as(t,e.child,null,o),t.child.memoizedState=oL(o),t.memoizedState=ok,a);if(0==(1&t.mode))return oD(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,r=od(a=Error(d(419)),r,void 0),oD(e,t,o,r)}if(s=0!=(o&e.childLanes),o_||s){if(null!==(r=sl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,iK(e,i),sI(r,e,i,-1))}return sq(),oD(e,t,o,r=od(Error(d(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=s5.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,iE=rF(i.nextSibling),iw=t,iM=!0,iT=null,null!==e&&(ip[im++]=iv,ip[im++]=iy,ip[im++]=ig,iv=e.id,iy=e.overflow,ig=t),t=oI(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=s7(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=s7(r,o):(o=lt(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?oL(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ok,i}return e=(o=e.child).sibling,i=s7(o,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function oI(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function oD(e,t,n,r){return null!==r&&iI(r),as(t,e.child,null,n),e=oI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oU(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iH(e.return,t,n)}function oz(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function oF(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ox(e,t,r.children,n),0!=(2&(r=ay.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oU(e,n,t);else if(19===e.tag)oU(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(ay,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===ab(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oz(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ab(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oz(t,!0,n,null,a);break;case"together":oz(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oj(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oB(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),sm|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(d(153));if(null!==t.child){for(n=s7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=s7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oV(e,t){if(!iM)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oG(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,af(ac.current);var a,o=null;switch(n){case"input":i=ed(e,i),r=ed(e,r),o=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),o=[];break;case"textarea":i=eb(e,i),r=eb(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rA)}for(u in eN(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null))}for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s)){if("style"===u){if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(f.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var oH=!1,oW=!1,oX="function"==typeof WeakSet?WeakSet:Set,o$=null;function oq(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){s1(e,t,n)}else n.current=null}}function oY(e,t,n){try{n()}catch(n){s1(e,t,n)}}var oK=!1;function oZ(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&oY(t,n,a)}i=i.next}while(i!==r)}}function oQ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oJ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function o0(e){return 5===e.tag||3===e.tag||4===e.tag}function o1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var o2=null,o3=!1;function o5(e,t,n){for(n=n.child;null!==n;)o4(e,t,n),n=n.sibling}function o4(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:oW||oq(n,t);case 6:var r=o2,i=o3;o2=null,o5(e,t,n),o2=r,o3=i,null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):o2.removeChild(n.stateNode));break;case 18:null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?rz(e.parentNode,n):1===e.nodeType&&rz(e,n),tX(e)):rz(o2,n.stateNode));break;case 4:r=o2,i=o3,o2=n.stateNode.containerInfo,o3=!0,o5(e,t,n),o2=r,o3=i;break;case 0:case 11:case 14:case 15:if(!oW&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)?oY(n,t,o):0!=(4&a)&&oY(n,t,o)),i=i.next}while(i!==r)}o5(e,t,n);break;case 1:if(!oW&&(oq(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){s1(n,t,e)}o5(e,t,n);break;case 21:default:o5(e,t,n);break;case 22:1&n.mode?(oW=(r=oW)||null!==n.memoizedState,o5(e,t,n),oW=r):o5(e,t,n)}}function o6(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oX),t.forEach(function(t){var r=s4.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function o8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=a;e:for(;null!==o;){switch(o.tag){case 5:o2=o.stateNode,o3=!1;break e;case 3:case 4:o2=o.stateNode.containerInfo,o3=!0;break e}o=o.return}if(null===o2)throw Error(d(160));o4(e,a,i),o2=null,o3=!1;var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){s1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)o9(t,e),t=t.sibling}function o9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(o8(t,e),o7(e),4&r){try{oZ(3,e,e.return),oQ(3,e)}catch(t){s1(e,e.return,t)}try{oZ(5,e,e.return)}catch(t){s1(e,e.return,t)}}break;case 1:o8(t,e),o7(e),512&r&&null!==n&&oq(n,n.return);break;case 5:if(o8(t,e),o7(e),512&r&&null!==n&&oq(n,n.return),32&e.flags){var i=e.stateNode;try{eP(i,"")}catch(t){s1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&ef(i,a),eI(s,o);var u=eI(s,a);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];"style"===c?ek(i,h):"dangerouslySetInnerHTML"===c?eC(i,h):"children"===c?eP(i,h):M(i,c,h,u)}switch(s){case"input":ep(i,a);break;case"textarea":ex(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ey(i,!!a.multiple,p,!1):!!a.multiple!==f&&(null!=a.defaultValue?ey(i,!!a.multiple,a.defaultValue,!0):ey(i,!!a.multiple,a.multiple?[]:"",!1))}i[rG]=a}catch(t){s1(e,e.return,t)}}break;case 6:if(o8(t,e),o7(e),4&r){if(null===e.stateNode)throw Error(d(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){s1(e,e.return,t)}}break;case 3:if(o8(t,e),o7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tX(t.containerInfo)}catch(t){s1(e,e.return,t)}break;case 4:default:o8(t,e),o7(e);break;case 13:o8(t,e),o7(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,a&&(null===i.alternate||null===i.alternate.memoizedState)&&(s_=tn())),4&r&&o6(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(oW=(u=oW)||c,o8(t,e),oW=u):o8(t,e),o7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(o$=e,c=e.child;null!==c;){for(h=o$=c;null!==o$;){switch(p=(f=o$).child,f.tag){case 0:case 11:case 14:case 15:oZ(4,f,f.return);break;case 1:oq(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){s1(r,n,e)}}break;case 5:oq(f,f.return);break;case 22:if(null!==f.memoizedState){st(h);continue}}null!==p?(p.return=f,o$=p):st(h)}c=c.sibling}e:for(c=null,h=e;;){if(5===h.tag){if(null===c){c=h;try{i=h.stateNode,u?(a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(s=h.stateNode,o=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=eO("display",o))}catch(t){s1(e,e.return,t)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){s1(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:o8(t,e),o7(e),4&r&&o6(e);case 21:}}function o7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(o0(n)){var r=n;break e}n=n.return}throw Error(d(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eP(i,""),r.flags&=-33);var a=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rA));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,o);break;default:throw Error(d(161))}}catch(t){s1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function se(e){for(;null!==o$;){var t=o$;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:oW||oQ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oW){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:iU(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&i4(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}i4(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&tX(h)}}}break;default:throw Error(d(163))}oW||512&t.flags&&oJ(t)}catch(e){s1(t,t.return,e)}}if(t===e){o$=null;break}if(null!==(n=t.sibling)){n.return=t.return,o$=n;break}o$=t.return}}function st(e){for(;null!==o$;){var t=o$;if(t===e){o$=null;break}var n=t.sibling;if(null!==n){n.return=t.return,o$=n;break}o$=t.return}}function sn(e){for(;null!==o$;){var t=o$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oQ(4,t)}catch(e){s1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){s1(t,i,e)}}var a=t.return;try{oJ(t)}catch(e){s1(t,a,e)}break;case 5:var o=t.return;try{oJ(t)}catch(e){s1(t,o,e)}}}catch(e){s1(t,t.return,e)}if(t===e){o$=null;break}var s=t.sibling;if(null!==s){s.return=t.return,o$=s;break}o$=t.return}}var sr=Math.ceil,si=T.ReactCurrentDispatcher,sa=T.ReactCurrentOwner,so=T.ReactCurrentBatchConfig,ss=0,sl=null,su=null,sc=0,sd=0,sh=r0(0),sf=0,sp=null,sm=0,sg=0,sv=0,sy=null,sb=null,s_=0,sx=1/0,sS=null,sw=!1,sE=null,sM=null,sT=!1,sC=null,sP=0,sA=0,sR=null,sO=-1,sk=0;function sL(){return 0!=(6&ss)?tn():-1!==sO?sO:sO=tn()}function sN(e){return 0==(1&e.mode)?1:0!=(2&ss)&&0!==sc?sc&-sc:null!==iD.transition?(0===sk&&(sk=tb()),sk):0!==(e=tw)?e:e=void 0===(e=window.event)?16:t0(e.type)}function sI(e,t,n,r){if(50<sA)throw sA=0,sR=null,Error(d(185));tx(e,n,r),(0==(2&ss)||e!==sl)&&(e===sl&&(0==(2&ss)&&(sg|=n),4===sf&&sj(e,sc)),sD(e,r),1===n&&0===ss&&0==(1&t.mode)&&(sx=tn()+500,io&&il()))}function sD(e,t){var n,r,i,a=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-td(a),s=1<<o,l=i[o];-1===l?(0==(s&n)||0!=(s&r))&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var o=tv(e,e===sl?sc:0);if(0===o)null!==a&&e7(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=a&&e7(a),1===t){0===e.tag&&(io=!0),n=sB.bind(null,e),null===ia?ia=[n]:ia.push(n),rD(function(){0==(6&ss)&&il()}),a=null}else{switch(tE(o)){case 1:a=ti;break;case 4:a=ta;break;case 16:default:a=to;break;case 536870912:a=tl}r=a,i=sU.bind(null,e),a=e9(r,i)}e.callbackPriority=t,e.callbackNode=a}}function sU(e,t){if(sO=-1,sk=0,0!=(6&ss))throw Error(d(327));var n=e.callbackNode;if(sJ()&&e.callbackNode!==n)return null;var r=tv(e,e===sl?sc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=sY(e,r);else{t=r;var i=ss;ss|=2;var a=s$();for((sl!==e||sc!==t)&&(sS=null,sx=tn()+500,sW(e,t));;)try{(function(){for(;null!==su&&!te();)sK(su)})();break}catch(t){sX(e,t)}iV(),si.current=a,ss=i,null!==su?t=0:(sl=null,sc=0,t=sf)}if(0!==t){if(2===t&&0!==(i=ty(e))&&(r=i,t=sz(e,i)),1===t)throw n=sp,sW(e,0),sj(e,r),sD(e,tn()),n;if(6===t)sj(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nY(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=sY(e,r))&&0!==(a=ty(e))&&(r=a,t=sz(e,a)),1===t))throw n=sp,sW(e,0),sj(e,r),sD(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(d(345));case 2:case 5:sQ(e,sb,sS);break;case 3:if(sj(e,r),(130023424&r)===r&&10<(t=s_+500-tn())){if(0!==tv(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sL(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rL(sQ.bind(null,e,sb,sS),t);break}sQ(e,sb,sS);break;case 4:if(sj(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var o=31-td(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sr(r/1960))-r)){e.timeoutHandle=rL(sQ.bind(null,e,sb,sS),r);break}sQ(e,sb,sS);break;default:throw Error(d(329))}}}return sD(e,tn()),e.callbackNode===n?sU.bind(null,e):null}function sz(e,t){var n=sy;return e.current.memoizedState.isDehydrated&&(sW(e,t).flags|=256),2!==(e=sY(e,t))&&(t=sb,sb=n,null!==t&&sF(t)),e}function sF(e){null===sb?sb=e:sb.push.apply(sb,e)}function sj(e,t){for(t&=~sv,t&=~sg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-td(t),r=1<<n;e[n]=-1,t&=~r}}function sB(e){if(0!=(6&ss))throw Error(d(327));sJ();var t=tv(e,0);if(0==(1&t))return sD(e,tn()),null;var n=sY(e,t);if(0!==e.tag&&2===n){var r=ty(e);0!==r&&(t=r,n=sz(e,r))}if(1===n)throw n=sp,sW(e,0),sj(e,t),sD(e,tn()),n;if(6===n)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sQ(e,sb,sS),sD(e,tn()),null}function sV(e,t){var n=ss;ss|=1;try{return e(t)}finally{0===(ss=n)&&(sx=tn()+500,io&&il())}}function sG(e){null!==sC&&0===sC.tag&&0==(6&ss)&&sJ();var t=ss;ss|=1;var n=so.transition,r=tw;try{if(so.transition=null,tw=1,e)return e()}finally{tw=r,so.transition=n,0==(6&(ss=t))&&il()}}function sH(){sd=sh.current,r1(sh)}function sW(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rN(n)),null!==su)for(n=su.return;null!==n;){var r=n;switch(iS(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:am(),r1(r4),r1(r5),ax();break;case 5:av(r);break;case 4:am();break;case 13:case 19:r1(ay);break;case 10:iG(r.type._context);break;case 22:case 23:sH()}n=n.return}if(sl=e,su=e=s7(e.current,null),sc=sd=t,sf=0,sp=null,sv=sg=sm=0,sb=sy=null,null!==i$){for(t=0;t<i$.length;t++)if(null!==(r=(n=i$[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}i$=null}return e}function sX(e,t){for(;;){var n=su;try{if(iV(),aS.current=oo,aP){for(var r=aM.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}aP=!1}if(aE=0,aC=aT=aM=null,aA=!1,aR=0,sa.current=null,null===n||null===n.return){sf=1,sp=t,su=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=sc,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=s,h=c.tag;if(0==(1&c.mode)&&(0===h||11===h||15===h)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ov(o);if(null!==p){p.flags&=-257,oy(p,o,s,a,t),1&p.mode&&og(a,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){og(a,u,t),sq();break e}l=Error(d(426))}else if(iM&&1&s.mode){var v=ov(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),oy(v,o,s,a,t),iI(oc(l,s));break e}}a=l=oc(l,s),4!==sf&&(sf=2),null===sy?sy=[a]:sy.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=op(a,l,t);i3(a,y);break e;case 1:s=l;var b=a.type,_=a.stateNode;if(0==(128&a.flags)&&("function"==typeof b.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===sM||!sM.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=om(a,s,t);i3(a,x);break e}}a=a.return}while(null!==a)}sZ(n)}catch(e){t=e,su===n&&null!==n&&(su=n=n.return);continue}break}}function s$(){var e=si.current;return si.current=oo,null===e?oo:e}function sq(){(0===sf||3===sf||2===sf)&&(sf=4),null===sl||0==(268435455&sm)&&0==(268435455&sg)||sj(sl,sc)}function sY(e,t){var n=ss;ss|=2;var r=s$();for((sl!==e||sc!==t)&&(sS=null,sW(e,t));;)try{(function(){for(;null!==su;)sK(su)})();break}catch(t){sX(e,t)}if(iV(),ss=n,si.current=r,null!==su)throw Error(d(261));return sl=null,sc=0,sf}function sK(e){var t=l(e.alternate,e,sd);e.memoizedProps=e.pendingProps,null===t?sZ(e):su=t,sa.current=null}function sZ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var s=t.pendingProps;switch(iS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oG(t),null;case 1:case 17:return r9(t.type)&&r7(),oG(t),null;case 3:return s=t.stateNode,am(),r1(r4),r1(r5),ax(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(null===e||null===e.child)&&(ik(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iT&&(sF(iT),iT=null))),i(e,t),oG(t),null;case 5:av(t);var l=af(ah.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(d(166));return oG(t),null}if(e=af(ac.current),ik(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[rV]=t,s[rG]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",s),rm("close",s);break;case"iframe":case"object":case"embed":rm("load",s);break;case"video":case"audio":for(l=0;l<rd.length;l++)rm(rd[l],s);break;case"source":rm("error",s);break;case"img":case"image":case"link":rm("error",s),rm("load",s);break;case"details":rm("toggle",s);break;case"input":eh(s,u),rm("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},rm("invalid",s);break;case"textarea":e_(s,u),rm("invalid",s)}for(var c in eN(n,u),l=null,u)if(u.hasOwnProperty(c)){var h=u[c];"children"===c?"string"==typeof h?s.textContent!==h&&(!0!==u.suppressHydrationWarning&&rP(s.textContent,h,e),l=["children",h]):"number"==typeof h&&s.textContent!==""+h&&(!0!==u.suppressHydrationWarning&&rP(s.textContent,h,e),l=["children",""+h]):f.hasOwnProperty(c)&&null!=h&&"onScroll"===c&&rm("scroll",s)}switch(n){case"input":el(s),em(s,u,!0);break;case"textarea":el(s),eS(s);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(s.onclick=rA)}s=l,t.updateQueue=s,null!==s&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ew(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof s.is?e=c.createElement(n,{is:s.is}):(e=c.createElement(n),"select"===n&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,n),e[rV]=t,e[rG]=s,r(e,t,!1,!1),t.stateNode=e;e:{switch(c=eI(n,s),n){case"dialog":rm("cancel",e),rm("close",e),l=s;break;case"iframe":case"object":case"embed":rm("load",e),l=s;break;case"video":case"audio":for(l=0;l<rd.length;l++)rm(rd[l],e);l=s;break;case"source":rm("error",e),l=s;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=s;break;case"details":rm("toggle",e),l=s;break;case"input":eh(e,s),l=ed(e,s),rm("invalid",e);break;case"option":default:l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=en({},s,{value:void 0}),rm("invalid",e);break;case"textarea":e_(e,s),l=eb(e,s),rm("invalid",e)}for(u in eN(n,l),h=l)if(h.hasOwnProperty(u)){var p=h[u];"style"===u?ek(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eC(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eP(e,p):"number"==typeof p&&eP(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&M(e,u,p,c))}switch(n){case"input":el(e),em(e,s,!1);break;case"textarea":el(e),eS(e);break;case"option":null!=s.value&&e.setAttribute("value",""+eo(s.value));break;case"select":e.multiple=!!s.multiple,null!=(u=s.value)?ey(e,!!s.multiple,u,!1):null!=s.defaultValue&&ey(e,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rA)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return oG(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,s);else{if("string"!=typeof s&&null===t.stateNode)throw Error(d(166));if(n=af(ah.current),af(ac.current),ik(t)){if(s=t.stateNode,n=t.memoizedProps,s[rV]=t,(u=s.nodeValue!==n)&&null!==(e=iw))switch(e.tag){case 3:rP(s.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rP(s.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[rV]=t,t.stateNode=s}return oG(t),null;case 13:if(r1(ay),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iM&&null!==iE&&0!=(1&t.mode)&&0==(128&t.flags))iL(),iN(),t.flags|=98560,u=!1;else if(u=ik(t),null!==s&&null!==s.dehydrated){if(null===e){if(!u)throw Error(d(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(d(317));u[rV]=t}else iN(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;oG(t),u=!1}else null!==iT&&(sF(iT),iT=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(s=null!==s)!=(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ay.current)?0===sf&&(sf=3):sq())),null!==t.updateQueue&&(t.flags|=4),oG(t),null;case 4:return am(),i(e,t),null===e&&ry(t.stateNode.containerInfo),oG(t),null;case 10:return iG(t.type._context),oG(t),null;case 19:if(r1(ay),null===(u=t.memoizedState))return oG(t),null;if(s=0!=(128&t.flags),null===(c=u.rendering)){if(s)oV(u,!1);else{if(0!==sf||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ab(e))){for(t.flags|=128,oV(u,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)u=n,e=s,u.flags&=14680066,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(ay,1&ay.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>sx&&(t.flags|=128,s=!0,oV(u,!1),t.lanes=4194304)}}else{if(!s){if(null!==(e=ab(c))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oV(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!iM)return oG(t),null}else 2*tn()-u.renderingStartTime>sx&&1073741824!==n&&(t.flags|=128,s=!0,oV(u,!1),t.lanes=4194304)}u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=ay.current,r2(ay,s?1&n|2:1&n),t;return oG(t),null;case 22:case 23:return sH(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!=(1&t.mode)?0!=(1073741824&sd)&&(oG(t),6&t.subtreeFlags&&(t.flags|=8192)):oG(t),null;case 24:case 25:return null}throw Error(d(156,t.tag))}(n,t,sd))){su=n;return}}else{if(null!==(n=function(e,t){switch(iS(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return am(),r1(r4),r1(r5),ax(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return av(t),null;case 13:if(r1(ay),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(d(340));iN()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(ay),null;case 4:return am(),null;case 10:return iG(t.type._context),null;case 22:case 23:return sH(),null;default:return null}}(n,t))){n.flags&=32767,su=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sf=6,su=null;return}}if(null!==(t=t.sibling)){su=t;return}su=t=e}while(null!==t)0===sf&&(sf=5)}function sQ(e,t,n){var r=tw,i=so.transition;try{so.transition=null,tw=1,function(e,t,n,r){do sJ();while(null!==sC)if(0!=(6&ss))throw Error(d(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-td(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===sl&&(su=sl=null,sc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||sT||(sT=!0,o=to,s=function(){return sJ(),null},e9(o,s)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=so.transition,so.transition=null;var o,s,l,u,c,h=tw;tw=1;var f=ss;ss|=4,sa.current=null,function(e,t){if(rR=tq,n0(e=nJ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,f=e,p=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++c===a&&(l=s),p===o&&++h===r&&(u=s),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rO={focusedElem:e,selectionRange:n},tq=!1,o$=t;null!==o$;)if(e=(t=o$).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,o$=e;else for(;null!==o$;){t=o$;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:iU(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(d(163))}}catch(e){s1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,o$=e;break}o$=t.return}m=oK,oK=!1}(e,n),o9(n,e),function(e){var t=nJ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nQ(n,a);var o=nQ(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rO),tq=!!rR,rO=rR=null,e.current=n,l=n,u=e,c=i,o$=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==o$;){var a=o$,o=a.child;if(22===a.tag&&i){var s=null!==a.memoizedState||oH;if(!s){var l=a.alternate,u=null!==l&&null!==l.memoizedState||oW;l=oH;var c=oW;if(oH=s,(oW=u)&&!c)for(o$=a;null!==o$;)u=(s=o$).child,22===s.tag&&null!==s.memoizedState?sn(a):null!==u?(u.return=s,o$=u):sn(a);for(;null!==o;)o$=o,e(o,n,r),o=o.sibling;o$=a,oH=l,oW=c}se(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==o?(o.return=a,o$=o):se(t,n,r)}}(l,u,c),tt(),ss=f,tw=h,so.transition=a}else e.current=n;if(sT&&(sT=!1,sC=e,sP=i),0===(a=e.pendingLanes)&&(sM=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),sD(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(sw)throw sw=!1,e=sE,sE=null,e;0!=(1&sP)&&0!==e.tag&&sJ(),0!=(1&(a=e.pendingLanes))?e===sR?sA++:(sA=0,sR=e):sA=0,il()}}(e,t,n,r)}finally{so.transition=i,tw=r}return null}function sJ(){if(null!==sC){var e=tE(sP),t=so.transition,n=tw;try{if(so.transition=null,tw=16>e?16:e,null===sC)var r=!1;else{if(e=sC,sC=null,sP=0,0!=(6&ss))throw Error(d(331));var i=ss;for(ss|=4,o$=e.current;null!==o$;){var a=o$,o=a.child;if(0!=(16&o$.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(o$=u;null!==o$;){var c=o$;switch(c.tag){case 0:case 11:case 15:oZ(8,c,a)}var h=c.child;if(null!==h)h.return=c,o$=h;else for(;null!==o$;){var f=(c=o$).sibling,p=c.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rV],delete n[rG],delete n[rW],delete n[rX],delete n[r$]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){o$=null;break}if(null!==f){f.return=p,o$=f;break}o$=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}o$=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,o$=o;else for(;null!==o$;){if(a=o$,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:oZ(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,o$=y;break}o$=a.return}}var b=e.current;for(o$=b;null!==o$;){var _=(o=o$).child;if(0!=(2064&o.subtreeFlags)&&null!==_)_.return=o,o$=_;else for(o=b;null!==o$;){if(s=o$,0!=(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:oQ(9,s)}}catch(e){s1(s,s.return,e)}if(s===o){o$=null;break}var x=s.sibling;if(null!==x){x.return=s.return,o$=x;break}o$=s.return}}if(ss=i,il(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tw=n,so.transition=t}}return!1}function s0(e,t,n){t=oc(n,t),t=op(e,t,1),e=i1(e,t,1),t=sL(),null!==e&&(tx(e,1,t),sD(e,t))}function s1(e,t,n){if(3===e.tag)s0(e,e,n);else for(;null!==t;){if(3===t.tag){s0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===sM||!sM.has(r))){e=oc(n,e),e=om(t,e,1),t=i1(t,e,1),e=sL(),null!==t&&(tx(t,1,e),sD(t,e));break}}t=t.return}}function s2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sL(),e.pingedLanes|=e.suspendedLanes&n,sl===e&&(sc&n)===n&&(4===sf||3===sf&&(130023424&sc)===sc&&500>tn()-s_?sW(e,0):sv|=n),sD(e,t)}function s3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(130023424&(tm<<=1))&&(tm=4194304)));var n=sL();null!==(e=iK(e,t))&&(tx(e,t,n),sD(e,n))}function s5(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),s3(e,n)}function s4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(d(314))}null!==r&&r.delete(t),s3(e,n)}function s6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function s8(e,t,n,r){return new s6(e,t,n,r)}function s9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function s7(e,t){var n=e.alternate;return null===n?((n=s8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)s9(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case A:return lt(n.children,i,a,t);case R:o=8,i|=8;break;case O:return(e=s8(12,n,t,2|i)).elementType=O,e.lanes=a,e;case D:return(e=s8(13,n,t,i)).elementType=D,e.lanes=a,e;case U:return(e=s8(19,n,t,i)).elementType=U,e.lanes=a,e;case j:return ln(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case L:o=9;break e;case I:o=11;break e;case z:o=14;break e;case F:o=16,r=null;break e}throw Error(d(130,null==e?e:typeof e,""))}return(t=s8(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function lt(e,t,n,r){return(e=s8(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=s8(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=s8(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=s8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function la(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t_(0),this.expirationTimes=t_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lo(e,t,n,r,i,a,o,s,l){return e=new la(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=s8(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iQ(a),e}function ls(e){if(!e)return r3;e=e._reactInternals;e:{if(e5(e)!==e||1!==e.tag)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(d(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,a,o,s,l){return(e=lo(n,r,!0,e,i,a,o,s,l)).context=ls(null),n=e.current,(a=i0(r=sL(),i=sN(n))).callback=null!=t?t:null,i1(n,a,i),e.current.lanes=i,tx(e,i,r),sD(e,r),e}function lu(e,t,n,r){var i=t.current,a=sL(),o=sN(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=i0(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i1(i,t,o))&&(sI(e,i,o,a),i2(e,i,o)),o}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ld(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lh(e,t){ld(e,t),(e=e.alternate)&&ld(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r4.current)o_=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return o_=!1,function(e,t,n){switch(t.tag){case 3:oR(t),iN();break;case 5:ag(t);break;case 1:r9(t.type)&&ir(t);break;case 4:ap(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iz,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(ay,1&ay.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return oN(e,t,n);return r2(ay,1&ay.current),null!==(e=oB(e,t,n))?e.sibling:null}r2(ay,1&ay.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return oF(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(ay,ay.current),!r)return null;break;case 22:case 23:return t.lanes=0,oM(e,t,n)}return oB(e,t,n)}(e,t,n);o_=0!=(131072&e.flags)}}else o_=!1,iM&&0!=(1048576&t.flags)&&i_(t,ih,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oj(e,t),e=t.pendingProps;var i=r8(t,r5.current);iW(t,n),i=aN(null,t,r,e,i,n);var a=aI();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(a=!0,ir(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iQ(t),i.updater=i9,t.stateNode=i,i._reactInternals=t,an(t,r,e,n),t=oA(null,t,r,!0,a,n)):(t.tag=0,iM&&a&&ix(t),ox(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oj(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return s9(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===z)return 14}return 2}(r),e=iU(r,e),i){case 0:t=oC(null,t,r,e,n);break e;case 1:t=oP(null,t,r,e,n);break e;case 11:t=oS(null,t,r,e,n);break e;case 14:t=ow(null,t,r,iU(r.type,e),n);break e}throw Error(d(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),oC(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),oP(e,t,r,i,n);case 3:e:{if(oR(t),null===e)throw Error(d(387));r=t.pendingProps,i=(a=t.memoizedState).element,iJ(e,t),i5(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=oc(Error(d(423)),t),t=oO(e,t,r,n,i);break e}if(r!==i){i=oc(Error(d(424)),t),t=oO(e,t,r,n,i);break e}for(iE=rF(t.stateNode.containerInfo.firstChild),iw=t,iM=!0,iT=null,n=al(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iN(),r===i){t=oB(e,t,n);break e}ox(e,t,r,n)}t=t.child}return t;case 5:return ag(t),null===e&&iR(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,rk(r,i)?o=null:null!==a&&rk(r,a)&&(t.flags|=32),oT(e,t),ox(e,t,o,n),t.child;case 6:return null===e&&iR(t),null;case 13:return oN(e,t,n);case 4:return ap(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=as(t,null,r,n):ox(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),oS(e,t,r,i,n);case 7:return ox(e,t,t.pendingProps,n),t.child;case 8:case 12:return ox(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,r2(iz,r._currentValue),r._currentValue=o,null!==a){if(nY(a.value,o)){if(a.children===i.children&&!r4.current){t=oB(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=i0(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),iH(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(d(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),iH(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}ox(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iW(t,n),i=iX(i),r=r(i),t.flags|=1,ox(e,t,r,n),t.child;case 14:return i=iU(r=t.type,t.pendingProps),i=iU(r.type,i),ow(e,t,r,i,n);case 15:return oE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),oj(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iW(t,n),ae(t,r,i),an(t,r,i,n),oA(null,t,r,!0,e,n);case 19:return oF(e,t,n);case 22:return oM(e,t,n)}throw Error(d(156,t.tag))};var lf="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lm(e){this._internalRoot=e}function lg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ly(){}function lb(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=lc(o);s.call(e)}}lu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=lc(o);a.call(e)}}var o=ll(t,r,e,0,null,!1,!1,"",ly);return e._reactRootContainer=o,e[rH]=o.current,ry(8===e.nodeType?e.parentNode:e),sG(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=lc(l);s.call(e)}}var l=lo(e,0,!1,null,null,!1,!1,"",ly);return e._reactRootContainer=l,e[rH]=l.current,ry(8===e.nodeType?e.parentNode:e),sG(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(o)}lm.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(d(409));lu(e,t,null,null)},lm.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sG(function(){lu(null,e,null,null)}),t[rH]=null}},lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tU.length&&0!==t&&t<tU[n].priority;n++);tU.splice(n,0,e),0===n&&tB(e)}},tM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tS(t,1|n),sD(t,tn()),0==(6&ss)&&(sx=tn()+500,il()))}break;case 13:sG(function(){var t=iK(e,1);null!==t&&sI(t,e,1,sL())}),lh(e,1)}},tT=function(e){if(13===e.tag){var t=iK(e,134217728);null!==t&&sI(t,e,134217728,sL()),lh(e,134217728)}},tC=function(e){if(13===e.tag){var t=sN(e),n=iK(e,t);null!==n&&sI(n,e,t,sL()),lh(e,t)}},tP=function(){return tw},tA=function(e,t){var n=tw;try{return tw=e,t()}finally{tw=n}},ez=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rZ(r);if(!i)throw Error(d(90));eu(r),ep(r,i)}}}break;case"textarea":ex(e,n);break;case"select":null!=(t=n.value)&&ey(e,!!n.multiple,t,!1)}},eH=sV,eW=sG;var l_={findFiberByHostInstance:rq,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lx={bundleType:l_.bundleType,version:l_.version,rendererPackageName:l_.rendererPackageName,rendererConfig:l_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:l_.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lS.isDisabled&&lS.supportsFiber)try{tu=lS.inject(lx),tc=lS}catch(e){}}G={usingClientEntryPoint:!1,Events:[rY,rK,rZ,eV,eG,sV]},H=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lg(t))throw Error(d(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==r?null:""+r,children:e,containerInfo:t,implementation:null}}(e,t,null,n)},W=function(e,t){if(!lg(e))throw Error(d(299));var n=!1,r="",i=lf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=lo(e,1,!1,null,null,n,!1,r,i),e[rH]=t.current,ry(8===e.nodeType?e.parentNode:e),new lp(t)},X=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},$=function(e){return sG(e)},q=function(e,t,n){if(!lv(t))throw Error(d(200));return lb(null,e,t,!0,n)},Y=function(e,t,n){if(!lg(e))throw Error(d(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=lf;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,a,o),e[rH]=t.current,ry(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lm(t)},K=function(e,t,n){if(!lv(t))throw Error(d(200));return lb(null,e,t,!1,n)},Z=function(e){if(!lv(e))throw Error(d(40));return!!e._reactRootContainer&&(sG(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[rH]=null})}),!0)},Q=sV,J=function(e,t,n,r){if(!lv(n))throw Error(d(200));if(null==e||void 0===e._reactInternals)throw Error(d(38));return lb(e,t,n,!1,r)},ee="18.2.0-next-9e3b772b8-20220608"}),N.register("fO90s",function(e,t){"use strict";e.exports=N("gcnCG")}),N.register("gcnCG",function(e,t){"use strict";function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(s(e.exports,"unstable_now",()=>o,e=>o=e),s(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),s(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),s(e.exports,"unstable_LowPriority",()=>c,e=>c=e),s(e.exports,"unstable_NormalPriority",()=>d,e=>d=e),s(e.exports,"unstable_Profiling",()=>h,e=>h=e),s(e.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),s(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),s(e.exports,"unstable_continueExecution",()=>m,e=>m=e),s(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),s(e.exports,"unstable_getCurrentPriorityLevel",()=>v,e=>v=e),s(e.exports,"unstable_getFirstCallbackNode",()=>y,e=>y=e),s(e.exports,"unstable_next",()=>b,e=>b=e),s(e.exports,"unstable_pauseExecution",()=>_,e=>_=e),s(e.exports,"unstable_requestPaint",()=>x,e=>x=e),s(e.exports,"unstable_runWithPriority",()=>S,e=>S=e),s(e.exports,"unstable_scheduleCallback",()=>w,e=>w=e),s(e.exports,"unstable_shouldYield",()=>E,e=>E=e),s(e.exports,"unstable_wrapCallback",()=>M,e=>M=e),"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T,C=performance;o=function(){return C.now()}}else{var P=Date,A=P.now();o=function(){return P.now()-A}}var R=[],O=[],k=1,L=null,N=3,I=!1,D=!1,U=!1,z="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function B(e){for(var t=r(O);null!==t;){if(null===t.callback)i(O);else if(t.startTime<=e)i(O),t.sortIndex=t.expirationTime,n(R,t);else break;t=r(O)}}function V(e){if(U=!1,B(e),!D){if(null!==r(R))D=!0,J(G);else{var t=r(O);null!==t&&ee(V,t.startTime-e)}}}function G(e,t){D=!1,U&&(U=!1,F(X),X=-1),I=!0;var n=N;try{for(B(t),L=r(R);null!==L&&(!(L.expirationTime>t)||e&&!Y());){var a=L.callback;if("function"==typeof a){L.callback=null,N=L.priorityLevel;var s=a(L.expirationTime<=t);t=o(),"function"==typeof s?L.callback=s:L===r(R)&&i(R),B(t)}else i(R);L=r(R)}if(null!==L)var l=!0;else{var u=r(O);null!==u&&ee(V,u.startTime-t),l=!1}return l}finally{L=null,N=n,I=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H=!1,W=null,X=-1,$=5,q=-1;function Y(){return!(o()-q<$)}function K(){if(null!==W){var e=o();q=e;var t=!0;try{t=W(!0,e)}finally{t?T():(H=!1,W=null)}}else H=!1}if("function"==typeof j)T=function(){j(K)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=K,T=function(){Q.postMessage(null)}}else T=function(){z(K,0)};function J(e){W=e,H||(H=!0,T())}function ee(e,t){X=z(function(){e(o())},t)}l=5,u=1,c=4,d=3,h=null,f=2,p=function(e){e.callback=null},m=function(){D||I||(D=!0,J(G))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<e?Math.floor(1e3/e):5},v=function(){return N},y=function(){return r(R)},b=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},_=function(){},x=function(){},S=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},w=function(e,t,i){var a=o();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=i+s,e={id:k++,callback:t,priorityLevel:e,startTime:i,expirationTime:s,sortIndex:-1},i>a?(e.sortIndex=i,n(O,e),null===r(R)&&e===r(O)&&(U?(F(X),X=-1):U=!0,ee(V,i-a))):(e.sortIndex=s,n(R,e),D||I||(D=!0,J(G))),e},E=Y,M=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}}),N.register("f1q41",function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=1/0,s=0/0,l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",d="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",g="[object Map]",v="[object Number]",y="[object Object]",b="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",w="[object Symbol]",E="[object WeakMap]",M="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",A="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",D="[object Uint32Array]",U=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,B=/[&<>"']/g,V=RegExp(j.source),G=RegExp(B.source),H=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(K.source),Q=/^\s+/,J=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,en=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ei=/[()=,{}\[\]\/\s]/,ea=/\\(\\)?/g,eo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,es=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,ec=/^\[object .+?Constructor\]$/,ed=/^0o[0-7]+$/i,eh=/^(?:0|[1-9]\d*)$/,ef=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ep=/($^)/,em=/['\n\r\u2028\u2029\\]/g,eg="\ud800-\udfff",ev="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ey="\\u2700-\\u27bf",eb="a-z\\xdf-\\xf6\\xf8-\\xff",e_="A-Z\\xc0-\\xd6\\xd8-\\xde",ex="\\ufe0e\\ufe0f",eS="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ew="['’]",eE="["+eS+"]",eM="["+ev+"]",eT="["+eb+"]",eC="[^"+eg+eS+"\\d+"+ey+eb+e_+"]",eP="\ud83c[\udffb-\udfff]",eA="[^"+eg+"]",eR="(?:\ud83c[\udde6-\uddff]){2}",eO="[\ud800-\udbff][\udc00-\udfff]",ek="["+e_+"]",eL="\\u200d",eN="(?:"+eT+"|"+eC+")",eI="(?:"+ew+"(?:d|ll|m|re|s|t|ve))?",eD="(?:"+ew+"(?:D|LL|M|RE|S|T|VE))?",eU="(?:"+eM+"|"+eP+")?",ez="["+ex+"]?",eF="(?:"+eL+"(?:"+[eA,eR,eO].join("|")+")"+ez+eU+")*",ej=ez+eU+eF,eB="(?:"+["["+ey+"]",eR,eO].join("|")+")"+ej,eV="(?:"+[eA+eM+"?",eM,eR,eO,"["+eg+"]"].join("|")+")",eG=RegExp(ew,"g"),eH=RegExp(eM,"g"),eW=RegExp(eP+"(?="+eP+")|"+eV+ej,"g"),eX=RegExp([ek+"?"+eT+"+"+eI+"(?="+[eE,ek,"$"].join("|")+")","(?:"+ek+"|"+eC+")+"+eD+"(?="+[eE,ek+eN,"$"].join("|")+")",ek+"?"+eN+"+"+eI,ek+"+"+eD,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eB].join("|"),"g"),e$=RegExp("["+eL+eg+ev+ex+"]"),eq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eK=-1,eZ={};eZ[C]=eZ[P]=eZ[A]=eZ[O]=eZ[k]=eZ[L]=eZ[N]=eZ[I]=eZ[D]=!0,eZ[u]=eZ[c]=eZ[M]=eZ[d]=eZ[T]=eZ[h]=eZ[f]=eZ[p]=eZ[g]=eZ[v]=eZ[y]=eZ[_]=eZ[x]=eZ[S]=eZ[E]=!1;var eQ={};eQ[u]=eQ[c]=eQ[M]=eQ[T]=eQ[d]=eQ[h]=eQ[C]=eQ[P]=eQ[A]=eQ[O]=eQ[k]=eQ[g]=eQ[v]=eQ[y]=eQ[_]=eQ[x]=eQ[S]=eQ[w]=eQ[L]=eQ[N]=eQ[I]=eQ[D]=!0,eQ[f]=eQ[p]=eQ[E]=!1;var eJ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e0=parseFloat,e1=parseInt,e2="object"==typeof R&&R&&R.Object===Object&&R,e3="object"==typeof self&&self&&self.Object===Object&&self,e5=e2||e3||Function("return this")(),e4=t&&!t.nodeType&&t,e6=e4&&e&&!e.nodeType&&e,e8=e6&&e6.exports===e4,e9=e8&&e2.process,e7=function(){try{var e=e6&&e6.require&&e6.require("util").types;if(e)return e;return e9&&e9.binding&&e9.binding("util")}catch(e){}}(),te=e7&&e7.isArrayBuffer,tt=e7&&e7.isDate,tn=e7&&e7.isMap,tr=e7&&e7.isRegExp,ti=e7&&e7.isSet,ta=e7&&e7.isTypedArray;function to(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ts(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function tl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function tu(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function tc(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function td(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function th(e,t){return!!(null==e?0:e.length)&&tS(e,t,0)>-1}function tf(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function tp(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tg(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function tv(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ty(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tb=tT("length");function t_(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function tx(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}function tS(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,n):tx(e,tE,n)}function tw(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return -1}function tE(e){return e!=e}function tM(e,t){var n=null==e?0:e.length;return n?tA(e,t)/n:s}function tT(e){return function(t){return null==t?n:t[e]}}function tC(e){return function(t){return null==e?n:e[t]}}function tP(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function tA(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function tR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function tO(e){return e?e.slice(0,t$(e)+1).replace(Q,""):e}function tk(e){return function(t){return e(t)}}function tL(e,t){return tp(t,function(t){return e[t]})}function tN(e,t){return e.has(t)}function tI(e,t){for(var n=-1,r=e.length;++n<r&&tS(t,e[n],0)>-1;);return n}function tD(e,t){for(var n=e.length;n--&&tS(t,e[n],0)>-1;);return n}var tU=tC({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tz=tC({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tF(e){return"\\"+eJ[e]}function tj(e){return e$.test(e)}function tB(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function tV(e,t){return function(n){return e(t(n))}}function tG(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];(s===t||s===a)&&(e[n]=a,o[i++]=n)}return o}function tH(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function tW(e){return tj(e)?function(e){for(var t=eW.lastIndex=0;eW.test(e);)++t;return t}(e):tb(e)}function tX(e){return tj(e)?e.match(eW)||[]:e.split("")}function t$(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}var tq=tC({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tY=function e(t){var R,J,eg,ev,ey=(t=null==t?e5:tY.defaults(e5.Object(),t,tY.pick(e5,eY))).Array,eb=t.Date,e_=t.Error,ex=t.Function,eS=t.Math,ew=t.Object,eE=t.RegExp,eM=t.String,eT=t.TypeError,eC=ey.prototype,eP=ex.prototype,eA=ew.prototype,eR=t["__core-js_shared__"],eO=eP.toString,ek=eA.hasOwnProperty,eL=0,eN=(R=/[^.]+$/.exec(eR&&eR.keys&&eR.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",eI=eA.toString,eD=eO.call(ew),eU=e5._,ez=eE("^"+eO.call(ek).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eF=e8?t.Buffer:n,ej=t.Symbol,eB=t.Uint8Array,eV=eF?eF.allocUnsafe:n,eW=tV(ew.getPrototypeOf,ew),e$=ew.create,eJ=eA.propertyIsEnumerable,e2=eC.splice,e3=ej?ej.isConcatSpreadable:n,e4=ej?ej.iterator:n,e6=ej?ej.toStringTag:n,e9=function(){try{var e=i_(ew,"defineProperty");return e({},"",{}),e}catch(e){}}(),e7=t.clearTimeout!==e5.clearTimeout&&t.clearTimeout,tb=eb&&eb.now!==e5.Date.now&&eb.now,tC=t.setTimeout!==e5.setTimeout&&t.setTimeout,tK=eS.ceil,tZ=eS.floor,tQ=ew.getOwnPropertySymbols,tJ=eF?eF.isBuffer:n,t0=t.isFinite,t1=eC.join,t2=tV(ew.keys,ew),t3=eS.max,t5=eS.min,t4=eb.now,t6=t.parseInt,t8=eS.random,t9=eC.reverse,t7=i_(t,"DataView"),ne=i_(t,"Map"),nt=i_(t,"Promise"),nn=i_(t,"Set"),nr=i_(t,"WeakMap"),ni=i_(ew,"create"),na=nr&&new nr,no={},ns=iW(t7),nl=iW(ne),nu=iW(nt),nc=iW(nn),nd=iW(nr),nh=ej?ej.prototype:n,nf=nh?nh.valueOf:n,np=nh?nh.toString:n;function nm(e){if(aQ(e)&&!aB(e)&&!(e instanceof nb)){if(e instanceof ny)return e;if(ek.call(e,"__wrapped__"))return iX(e)}return new ny(e)}var ng=function(){function e(){}return function(t){if(!aZ(t))return{};if(e$)return e$(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function nv(){}function ny(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function nb(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function n_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nx(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nw(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nS;++t<n;)this.add(e[t])}function nE(e){var t=this.__data__=new nx(e);this.size=t.size}function nM(e,t){var n=aB(e),r=!n&&aj(e),i=!n&&!r&&aW(e),a=!n&&!r&&!i&&a6(e),o=n||r||i||a,s=o?tR(e.length,eM):[],l=s.length;for(var u in e)(t||ek.call(e,u))&&!(o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||iC(u,l)))&&s.push(u);return s}function nT(e){var t=e.length;return t?e[rh(0,t-1)]:n}function nC(e,t){return iV(rX(e),nD(t,0,e.length))}function nP(e){return iV(rX(e))}function nA(e,t,r){(r===n||aU(e[t],r))&&(r!==n||t in e)||nN(e,t,r)}function nR(e,t,r){var i=e[t];ek.call(e,t)&&aU(i,r)&&(r!==n||t in e)||nN(e,t,r)}function nO(e,t){for(var n=e.length;n--;)if(aU(e[n][0],t))return n;return -1}function nk(e,t,n,r){return nB(e,function(e,i,a){t(r,e,n(e),a)}),r}function nL(e,t){return e&&r$(t,oy(t),e)}function nN(e,t,n){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nI(e,t){for(var r=-1,i=t.length,a=ey(i),o=null==e;++r<i;)a[r]=o?n:of(e,t[r]);return a}function nD(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function nU(e,t,r,i,a,o){var s,l=1&t,c=2&t,f=4&t;if(r&&(s=a?r(e,i,a,o):r(e)),s!==n)return s;if(!aZ(e))return e;var b=aB(e);if(b){if(E=e.length,R=new e.constructor(E),E&&"string"==typeof e[0]&&ek.call(e,"index")&&(R.index=e.index,R.input=e.input),s=R,!l)return rX(e,s)}else{var E,R,U,z,F,j=iw(e),B=j==p||j==m;if(aW(e))return rj(e,l);if(j==y||j==u||B&&!a){if(s=c||B?{}:iM(e),!l)return c?(U=(F=s)&&r$(e,ob(e),F),r$(e,iS(e),U)):(z=nL(s,e),r$(e,ix(e),z))}else{if(!eQ[j])return a?e:{};s=function(e,t,n){var r,i,a=e.constructor;switch(t){case M:return rB(e);case d:case h:return new a(+e);case T:return r=n?rB(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case C:case P:case A:case O:case k:case L:case N:case I:case D:return rV(e,n);case g:return new a;case v:case S:return new a(e);case _:return(i=new e.constructor(e.source,es.exec(e))).lastIndex=e.lastIndex,i;case x:return new a;case w:return nf?ew(nf.call(e)):{}}}(e,j,l)}}o||(o=new nE);var V=o.get(e);if(V)return V;o.set(e,s),a3(e)?e.forEach(function(n){s.add(nU(n,t,r,n,e,o))}):aJ(e)&&e.forEach(function(n,i){s.set(i,nU(n,t,r,i,e,o))});var G=f?c?ih:id:c?ob:oy,H=b?n:G(e);return tl(H||e,function(n,i){H&&(n=e[i=n]),nR(s,i,nU(n,t,r,i,e,o))}),s}function nz(e,t,r){var i=r.length;if(null==e)return!i;for(e=ew(e);i--;){var a=r[i],o=t[a],s=e[a];if(s===n&&!(a in e)||!o(s))return!1}return!0}function nF(e,t,i){if("function"!=typeof e)throw new eT(r);return iz(function(){e.apply(n,i)},t)}function nj(e,t,n,r){var i=-1,a=th,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=tp(t,tk(n))),r?(a=tf,o=!1):t.length>=200&&(a=tN,o=!1,t=new nw(t));n:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var h=u;h--;)if(t[h]===d)continue n;l.push(c)}else a(t,d,r)||l.push(c)}return l}nm.templateSettings={escape:H,evaluate:W,interpolate:X,variable:"",imports:{_:nm}},nm.prototype=nv.prototype,nm.prototype.constructor=nm,ny.prototype=ng(nv.prototype),ny.prototype.constructor=ny,nb.prototype=ng(nv.prototype),nb.prototype.constructor=nb,n_.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},n_.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},n_.prototype.get=function(e){var t=this.__data__;if(ni){var r=t[e];return r===i?n:r}return ek.call(t,e)?t[e]:n},n_.prototype.has=function(e){var t=this.__data__;return ni?t[e]!==n:ek.call(t,e)},n_.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ni&&t===n?i:t,this},nx.prototype.clear=function(){this.__data__=[],this.size=0},nx.prototype.delete=function(e){var t=this.__data__,n=nO(t,e);return!(n<0)&&(n==t.length-1?t.pop():e2.call(t,n,1),--this.size,!0)},nx.prototype.get=function(e){var t=this.__data__,r=nO(t,e);return r<0?n:t[r][1]},nx.prototype.has=function(e){return nO(this.__data__,e)>-1},nx.prototype.set=function(e,t){var n=this.__data__,r=nO(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},nS.prototype.clear=function(){this.size=0,this.__data__={hash:new n_,map:new(ne||nx),string:new n_}},nS.prototype.delete=function(e){var t=iy(this,e).delete(e);return this.size-=t?1:0,t},nS.prototype.get=function(e){return iy(this,e).get(e)},nS.prototype.has=function(e){return iy(this,e).has(e)},nS.prototype.set=function(e,t){var n=iy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},nw.prototype.add=nw.prototype.push=function(e){return this.__data__.set(e,i),this},nw.prototype.has=function(e){return this.__data__.has(e)},nE.prototype.clear=function(){this.__data__=new nx,this.size=0},nE.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nE.prototype.get=function(e){return this.__data__.get(e)},nE.prototype.has=function(e){return this.__data__.has(e)},nE.prototype.set=function(e,t){var n=this.__data__;if(n instanceof nx){var r=n.__data__;if(!ne||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nS(r)}return n.set(e,t),this.size=n.size,this};var nB=rK(nY),nV=rK(nK,!0);function nG(e,t){var n=!0;return nB(e,function(e,r,i){return n=!!t(e,r,i)}),n}function nH(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===n?s==s&&!a4(s):r(s,l)))var l=s,u=o}return u}function nW(e,t){var n=[];return nB(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function nX(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=iT),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?nX(s,t-1,n,r,i):tm(i,s):r||(i[i.length]=s)}return i}var n$=rZ(),nq=rZ(!0);function nY(e,t){return e&&n$(e,t,oy)}function nK(e,t){return e&&nq(e,t,oy)}function nZ(e,t){return td(t,function(t){return aq(e[t])})}function nQ(e,t){t=rU(t,e);for(var r=0,i=t.length;null!=e&&r<i;)e=e[iH(t[r++])];return r&&r==i?e:n}function nJ(e,t,n){var r=t(e);return aB(e)?r:tm(r,n(e))}function n0(e){return null==e?e===n?"[object Undefined]":"[object Null]":e6&&e6 in ew(e)?function(e){var t=ek.call(e,e6),r=e[e6];try{e[e6]=n;var i=!0}catch(e){}var a=eI.call(e);return i&&(t?e[e6]=r:delete e[e6]),a}(e):eI.call(e)}function n1(e,t){return e>t}function n2(e,t){return null!=e&&ek.call(e,t)}function n3(e,t){return null!=e&&t in ew(e)}function n5(e,t,r){for(var i=r?tf:th,a=e[0].length,o=e.length,s=o,l=ey(o),u=1/0,c=[];s--;){var d=e[s];s&&t&&(d=tp(d,tk(t))),u=t5(d.length,u),l[s]=!r&&(t||a>=120&&d.length>=120)?new nw(s&&d):n}d=e[0];var h=-1,f=l[0];n:for(;++h<a&&c.length<u;){var p=d[h],m=t?t(p):p;if(p=r||0!==p?p:0,!(f?tN(f,m):i(c,m,r))){for(s=o;--s;){var g=l[s];if(!(g?tN(g,m):i(e[s],m,r)))continue n}f&&f.push(m),c.push(p)}}return c}function n4(e,t,r){t=rU(t,e);var i=null==(e=iI(e,t))?e:e[iH(i3(t))];return null==i?n:to(i,e,r)}function n6(e){return aQ(e)&&n0(e)==u}function n8(e,t,r,i,a){return e===t||(null!=e&&null!=t&&(aQ(e)||aQ(t))?function(e,t,r,i,a,o){var s=aB(e),l=aB(t),p=s?c:iw(e),m=l?c:iw(t);p=p==u?y:p,m=m==u?y:m;var b=p==y,E=m==y,C=p==m;if(C&&aW(e)){if(!aW(t))return!1;s=!0,b=!1}if(C&&!b)return o||(o=new nE),s||a6(e)?iu(e,t,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case M:if(e.byteLength!=t.byteLength||!a(new eB(e),new eB(t)))break;return!0;case d:case h:case v:return aU(+e,+t);case f:return e.name==t.name&&e.message==t.message;case _:case S:return e==t+"";case g:var s=tB;case x:var l=1&r;if(s||(s=tH),e.size!=t.size&&!l)break;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=iu(s(e),s(t),r,i,a,o);return o.delete(e),c;case w:if(nf)return nf.call(e)==nf.call(t)}return!1}(e,t,p,r,i,a,o);if(!(1&r)){var P=b&&ek.call(e,"__wrapped__"),A=E&&ek.call(t,"__wrapped__");if(P||A){var R=P?e.value():e,O=A?t.value():t;return o||(o=new nE),a(R,O,r,i,o)}}return!!C&&(o||(o=new nE),function(e,t,r,i,a,o){var s=1&r,l=id(e),u=l.length;if(u!=id(t).length&&!s)return!1;for(var c=u;c--;){var d=l[c];if(!(s?d in t:ek.call(t,d)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=s;++c<u;){var g=e[d=l[c]],v=t[d];if(i)var y=s?i(v,g,d,t,e,o):i(g,v,d,e,t,o);if(!(y===n?g===v||a(g,v,r,i,o):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,i,a,o))}(e,t,r,i,n8,a):e!=e&&t!=t)}function n9(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=ew(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=r[a])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===n&&!(u in e))return!1}else{var h=new nE;if(i)var f=i(c,d,u,e,t,h);if(!(f===n?n8(d,c,3,i,h):f))return!1}}return!0}function n7(e){return!(!aZ(e)||eN&&eN in e)&&(aq(e)?ez:ec).test(iW(e))}function re(e){return"function"==typeof e?e:null==e?oH:"object"==typeof e?aB(e)?ra(e[0],e[1]):ri(e):oJ(e)}function rt(e){if(!ik(e))return t2(e);var t=[];for(var n in ew(e))ek.call(e,n)&&"constructor"!=n&&t.push(n);return t}function rn(e,t){return e<t}function rr(e,t){var n=-1,r=aG(e)?ey(e.length):[];return nB(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function ri(e){var t=ib(e);return 1==t.length&&t[0][2]?iL(t[0][0],t[0][1]):function(n){return n===e||n9(n,e,t)}}function ra(e,t){var r;return iA(e)&&(r=t)==r&&!aZ(r)?iL(iH(e),t):function(r){var i=of(r,e);return i===n&&i===t?op(r,e):n8(t,i,3)}}function ro(e,t,r,i,a){e!==t&&n$(t,function(o,s){if(a||(a=new nE),aZ(o))(function(e,t,r,i,a,o,s){var l=iD(e,r),u=iD(t,r),c=s.get(u);if(c){nA(e,r,c);return}var d=o?o(l,u,r+"",e,t,s):n,h=d===n;if(h){var f=aB(u),p=!f&&aW(u),m=!f&&!p&&a6(u);d=u,f||p||m?aB(l)?d=l:aH(l)?d=rX(l):p?(h=!1,d=rj(u,!0)):m?(h=!1,d=rV(u,!0)):d=[]:a1(u)||aj(u)?(d=l,aj(l)?d=oi(l):(!aZ(l)||aq(l))&&(d=iM(u))):h=!1}h&&(s.set(u,d),a(d,u,i,o,s),s.delete(u)),nA(e,r,d)})(e,t,s,r,ro,i,a);else{var l=i?i(iD(e,s),o,s+"",e,t,a):n;l===n&&(l=o),nA(e,s,l)}},ob)}function rs(e,t){var r=e.length;if(r)return iC(t+=t<0?r:0,r)?e[t]:n}function rl(e,t,n){t=t.length?tp(t,function(e){return aB(e)?function(t){return nQ(t,1===e.length?e[0]:e)}:e}):[oH];var r=-1;return t=tp(t,tk(iv())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(rr(e,function(e,n,i){return{criteria:tp(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=rG(i[r],a[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,n)})}function ru(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=nQ(e,o);n(s,o)&&rv(a,rU(o,e),s)}return a}function rc(e,t,n,r){var i=r?tw:tS,a=-1,o=t.length,s=e;for(e===t&&(t=rX(t)),n&&(s=tp(e,tk(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&e2.call(s,l,1),e2.call(e,l,1);return e}function rd(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;iC(i)?e2.call(e,i,1):rA(e,i)}}return e}function rh(e,t){return e+tZ(t8()*(t-e+1))}function rf(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do t%2&&(n+=e),(t=tZ(t/2))&&(e+=e);while(t)return n}function rp(e,t){return iF(iN(e,t,oH),e+"")}function rm(e){return nT(oC(e))}function rg(e,t){var n=oC(e);return iV(n,nD(t,0,n.length))}function rv(e,t,r,i){if(!aZ(e))return e;t=rU(t,e);for(var a=-1,o=t.length,s=o-1,l=e;null!=l&&++a<o;){var u=iH(t[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(a!=s){var d=l[u];(c=i?i(d,u,l):n)===n&&(c=aZ(d)?d:iC(t[a+1])?[]:{})}nR(l,u,c),l=l[u]}return e}var ry=na?function(e,t){return na.set(e,t),e}:oH,rb=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:oB(t),writable:!0})}:oH;function r_(e){return iV(oC(e))}function rx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=ey(i);++r<i;)a[r]=e[r+t];return a}function rS(e,t){var n;return nB(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function rw(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!a4(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return rE(e,t,oH,n)}function rE(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!=t,l=null===t,u=a4(t),c=t===n;a<o;){var d=tZ((a+o)/2),h=r(e[d]),f=h!==n,p=null===h,m=h==h,g=a4(h);if(s)var v=i||m;else v=c?m&&(i||f):l?m&&f&&(i||!p):u?m&&f&&!p&&(i||!g):!p&&!g&&(i?h<=t:h<t);v?a=d+1:o=d}return t5(o,4294967294)}function rM(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!aU(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function rT(e){return"number"==typeof e?e:a4(e)?s:+e}function rC(e){if("string"==typeof e)return e;if(aB(e))return tp(e,rC)+"";if(a4(e))return np?np.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function rP(e,t,n){var r=-1,i=th,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=tf;else if(a>=200){var u=t?null:ir(e);if(u)return tH(u);o=!1,i=tN,l=new nw}else l=t?[]:s;n:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue n;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function rA(e,t){return t=rU(t,e),null==(e=iI(e,t))||delete e[iH(i3(t))]}function rR(e,t,n,r){return rv(e,t,n(nQ(e,t)),r)}function rO(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?rx(e,r?0:a,r?a+1:i):rx(e,r?a+1:0,r?i:a)}function rk(e,t){var n=e;return n instanceof nb&&(n=n.value()),tg(t,function(e,t){return t.func.apply(t.thisArg,tm([e],t.args))},n)}function rL(e,t,n){var r=e.length;if(r<2)return r?rP(e[0]):[];for(var i=-1,a=ey(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=nj(a[i]||o,e[s],t,n));return rP(nX(a,1),t,n)}function rN(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:n;r(s,e[i],l)}return s}function rI(e){return aH(e)?e:[]}function rD(e){return"function"==typeof e?e:oH}function rU(e,t){return aB(e)?e:iA(e,t)?[e]:iG(oa(e))}function rz(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:rx(e,t,r)}var rF=e7||function(e){return e5.clearTimeout(e)};function rj(e,t){if(t)return e.slice();var n=e.length,r=eV?eV(n):new e.constructor(n);return e.copy(r),r}function rB(e){var t=new e.constructor(e.byteLength);return new eB(t).set(new eB(e)),t}function rV(e,t){var n=t?rB(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function rG(e,t){if(e!==t){var r=e!==n,i=null===e,a=e==e,o=a4(e),s=t!==n,l=null===t,u=t==t,c=a4(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return -1}return 0}function rH(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=t3(a-o,0),c=ey(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function rW(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=t3(a-s,0),d=ey(c+u),h=!r;++i<c;)d[i]=e[i];for(var f=i;++l<u;)d[f+l]=t[l];for(;++o<s;)(h||i<a)&&(d[f+n[o]]=e[i++]);return d}function rX(e,t){var n=-1,r=e.length;for(t||(t=ey(r));++n<r;)t[n]=e[n];return t}function r$(e,t,r,i){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),a?nN(r,l,u):nR(r,l,u)}return r}function rq(e,t){return function(n,r){var i=aB(n)?ts:nk,a=t?t():{};return i(n,e,iv(r,2),a)}}function rY(e){return rp(function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,s&&iP(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=ew(t);++i<a;){var l=r[i];l&&e(t,l,i,o)}return t})}function rK(e,t){return function(n,r){if(null==n)return n;if(!aG(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=ew(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function rZ(e){return function(t,n,r){for(var i=-1,a=ew(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function rQ(e){return function(t){var r=tj(t=oa(t))?tX(t):n,i=r?rz(r,1).join(""):t.slice(1);return(r?r[0]:t.charAt(0))[e]()+i}}function rJ(e){return function(t){return tg(oz(oR(t).replace(eG,"")),e,"")}}function r0(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ng(e.prototype),r=e.apply(n,t);return aZ(r)?r:n}}function r1(e){return function(t,r,i){var a=ew(t);if(!aG(t)){var o=iv(r,3);t=oy(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}}function r2(e){return ic(function(t){var i=t.length,a=i,o=ny.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new eT(r);if(o&&!l&&"wrapper"==im(s))var l=new ny([],!0)}for(a=l?a:i;++a<i;){var u=im(s=t[a]),c="wrapper"==u?ip(s):n;l=c&&iR(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[im(c[0])].apply(l,c[3]):1==s.length&&iR(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&aB(n))return l.plant(n).value();for(var r=0,a=i?t[r].apply(this,e):n;++r<i;)a=t[r].call(this,a);return a}})}function r3(e,t,r,i,a,o,s,l,u,c){var d=128&t,h=1&t,f=2&t,p=24&t,m=512&t,g=f?n:r0(e);return function v(){for(var y=arguments.length,b=ey(y),_=y;_--;)b[_]=arguments[_];if(p)var x=ig(v),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,x);if(i&&(b=rH(b,i,a,p)),o&&(b=rW(b,o,s,p)),y-=S,p&&y<c){var w=tG(b,x);return ie(e,t,r3,v.placeholder,r,b,w,l,u,c-y)}var E=h?r:this,M=f?E[e]:e;return y=b.length,l?b=function(e,t){for(var r=e.length,i=t5(t.length,r),a=rX(e);i--;){var o=t[i];e[i]=iC(o,r)?a[o]:n}return e}(b,l):m&&y>1&&b.reverse(),d&&u<y&&(b.length=u),this&&this!==e5&&this instanceof v&&(M=g||r0(M)),M.apply(E,b)}}function r5(e,t){return function(n,r){var i,a;return i=t(r),a={},nY(n,function(t,n,r){e(a,i(t),n,r)}),a}}function r4(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=rC(r),i=rC(i)):(r=rT(r),i=rT(i)),a=e(r,i)}return a}}function r6(e){return ic(function(t){return t=tp(t,tk(iv())),rp(function(n){var r=this;return e(t,function(e){return to(e,r,n)})})})}function r8(e,t){var r=(t=t===n?" ":rC(t)).length;if(r<2)return r?rf(t,e):t;var i=rf(t,tK(e/tW(t)));return tj(t)?rz(tX(i),0,e).join(""):i.slice(0,e)}function r9(e){return function(t,r,i){return i&&"number"!=typeof i&&iP(t,r,i)&&(r=i=n),t=oe(t),r===n?(r=t,t=0):r=oe(r),i=i===n?t<r?1:-1:oe(i),function(e,t,n,r){for(var i=-1,a=t3(tK((t-e)/(n||1)),0),o=ey(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,r,i,e)}}function r7(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=or(t),n=or(n)),e(t,n)}}function ie(e,t,r,i,a,o,s,l,u,c){var d=8&t,h=d?s:n,f=d?n:s,p=d?o:n,m=d?n:o;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var g=[e,t,a,p,h,m,f,l,u,c],v=r.apply(n,g);return iR(e)&&iU(v,g),v.placeholder=i,ij(v,e,t)}function it(e){var t=eS[e];return function(e,n){if(e=or(e),(n=null==n?0:t5(ot(n),292))&&t0(e)){var r=(oa(e)+"e").split("e");return+((r=(oa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ir=nn&&1/tH(new nn([,-0]))[1]==o?function(e){return new nn(e)}:oY;function ii(e){return function(t){var n,r,i=iw(t);return i==g?tB(t):i==x?(n=-1,r=Array(t.size),t.forEach(function(e){r[++n]=[e,e]}),r):tp(e(t),function(e){return[e,t[e]]})}}function ia(e,t,i,o,s,l,u,c){var d=2&t;if(!d&&"function"!=typeof e)throw new eT(r);var h=o?o.length:0;if(h||(t&=-97,o=s=n),u=u===n?u:t3(ot(u),0),c=c===n?c:ot(c),h-=s?s.length:0,64&t){var f=o,p=s;o=s=n}var m=d?n:ip(e),g=[e,t,i,o,s,f,p,l,u,c];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(o||s){1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?rH(u,l,t[4]):l,e[4]=u?tG(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?rW(u,l,t[6]):l,e[6]=u?tG(e[5],a):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:t5(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(g,m),e=g[0],t=g[1],i=g[2],o=g[3],s=g[4],(c=g[9]=g[9]===n?d?0:e.length:t3(g[9]-h,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(v=e,y=t,b=c,_=r0(v),k=function e(){for(var t=arguments.length,r=ey(t),i=t,a=ig(e);i--;)r[i]=arguments[i];var o=t<3&&r[0]!==a&&r[t-1]!==a?[]:tG(r,a);return(t-=o.length)<b?ie(v,y,r3,e.placeholder,n,r,o,n,n,b-t):to(this&&this!==e5&&this instanceof e?_:v,this,r)}):32!=t&&33!=t||s.length?k=r3.apply(n,g):(x=e,S=t,w=i,E=o,M=1&S,T=r0(x),k=function e(){for(var t=-1,n=arguments.length,r=-1,i=E.length,a=ey(i+n),o=this&&this!==e5&&this instanceof e?T:x;++r<i;)a[r]=E[r];for(;n--;)a[r++]=arguments[++t];return to(o,M?w:this,a)});else var v,y,b,_,x,S,w,E,M,T,C,P,A,R,O,k=(C=e,P=t,A=i,R=1&P,O=r0(C),function e(){return(this&&this!==e5&&this instanceof e?O:C).apply(R?A:this,arguments)});return ij((m?ry:iU)(k,g),e,t)}function io(e,t,r,i){return e===n||aU(e,eA[r])&&!ek.call(i,r)?t:e}function is(e,t,r,i,a,o){return aZ(e)&&aZ(t)&&(o.set(t,e),ro(e,t,n,is,o),o.delete(t)),e}function il(e){return a1(e)?n:e}function iu(e,t,r,i,a,o){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var h=-1,f=!0,p=2&r?new nw:n;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],g=t[h];if(i)var v=s?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(v!==n){if(v)continue;f=!1;break}if(p){if(!ty(t,function(e,t){if(!tN(p,t)&&(m===e||a(m,e,r,i,o)))return p.push(t)})){f=!1;break}}else if(!(m===g||a(m,g,r,i,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function ic(e){return iF(iN(e,n,iQ),e+"")}function id(e){return nJ(e,oy,ix)}function ih(e){return nJ(e,ob,iS)}var ip=na?function(e){return na.get(e)}:oY;function im(e){for(var t=e.name+"",n=no[t],r=ek.call(no,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ig(e){return(ek.call(nm,"placeholder")?nm:e).placeholder}function iv(){var e=nm.iteratee||oW;return e=e===oW?re:e,arguments.length?e(arguments[0],arguments[1]):e}function iy(e,t){var n,r=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function ib(e){for(var t=oy(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!aZ(i)]}return t}function i_(e,t){var r=null==e?n:e[t];return n7(r)?r:n}var ix=tQ?function(e){return null==e?[]:td(tQ(e=ew(e)),function(t){return eJ.call(e,t)})}:o2,iS=tQ?function(e){for(var t=[];e;)tm(t,ix(e)),e=eW(e);return t}:o2,iw=n0;function iE(e,t,n){t=rU(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=iH(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&aK(i)&&iC(o,i)&&(aB(e)||aj(e))}function iM(e){return"function"!=typeof e.constructor||ik(e)?{}:ng(eW(e))}function iT(e){return aB(e)||aj(e)||!!(e3&&e&&e[e3])}function iC(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eh.test(e))&&e>-1&&e%1==0&&e<t}function iP(e,t,n){if(!aZ(n))return!1;var r=typeof t;return("number"==r?!!(aG(n)&&iC(t,n.length)):"string"==r&&t in n)&&aU(n[t],e)}function iA(e,t){if(aB(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||a4(e))||q.test(e)||!$.test(e)||null!=t&&e in ew(t)}function iR(e){var t=im(e),n=nm[t];if("function"!=typeof n||!(t in nb.prototype))return!1;if(e===n)return!0;var r=ip(n);return!!r&&e===r[0]}(t7&&iw(new t7(new ArrayBuffer(1)))!=T||ne&&iw(new ne)!=g||nt&&iw(nt.resolve())!=b||nn&&iw(new nn)!=x||nr&&iw(new nr)!=E)&&(iw=function(e){var t=n0(e),r=t==y?e.constructor:n,i=r?iW(r):"";if(i)switch(i){case ns:return T;case nl:return g;case nu:return b;case nc:return x;case nd:return E}return t});var iO=eR?aq:o3;function ik(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||eA;return e===n}function iL(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in ew(r))}}function iN(e,t,r){return t=t3(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=t3(n.length-t,0),o=ey(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=ey(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),to(e,this,s)}}function iI(e,t){return t.length<2?e:nQ(e,rx(t,0,-1))}function iD(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var iU=iB(ry),iz=tC||function(e,t){return e5.setTimeout(e,t)},iF=iB(rb);function ij(e,t,n){var r,i,a=t+"";return iF(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ee,"{\n/* [wrapped with "+t+"] */\n")}(a,(r=(i=a.match(et))?i[1].split(en):[],tl(l,function(e){var t="_."+e[0];n&e[1]&&!th(r,t)&&r.push(t)}),r.sort())))}function iB(e){var t=0,r=0;return function(){var i=t4(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function iV(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=rh(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var iG=(eg=(J=aO(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Y,function(e,n,r,i){t.push(r?i.replace(ea,"$1"):n||e)}),t},function(e){return 500===eg.size&&eg.clear(),e})).cache,J);function iH(e){if("string"==typeof e||a4(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function iW(e){if(null!=e){try{return eO.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function iX(e){if(e instanceof nb)return e.clone();var t=new ny(e.__wrapped__,e.__chain__);return t.__actions__=rX(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var i$=rp(function(e,t){return aH(e)?nj(e,nX(t,1,aH,!0)):[]}),iq=rp(function(e,t){var r=i3(t);return aH(r)&&(r=n),aH(e)?nj(e,nX(t,1,aH,!0),iv(r,2)):[]}),iY=rp(function(e,t){var r=i3(t);return aH(r)&&(r=n),aH(e)?nj(e,nX(t,1,aH,!0),n,r):[]});function iK(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:ot(n);return i<0&&(i=t3(r+i,0)),tx(e,iv(t,3),i)}function iZ(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var a=i-1;return r!==n&&(a=ot(r),a=r<0?t3(i+a,0):t5(a,i-1)),tx(e,iv(t,3),a,!0)}function iQ(e){return(null==e?0:e.length)?nX(e,1):[]}function iJ(e){return e&&e.length?e[0]:n}var i0=rp(function(e){var t=tp(e,rI);return t.length&&t[0]===e[0]?n5(t):[]}),i1=rp(function(e){var t=i3(e),r=tp(e,rI);return t===i3(r)?t=n:r.pop(),r.length&&r[0]===e[0]?n5(r,iv(t,2)):[]}),i2=rp(function(e){var t=i3(e),r=tp(e,rI);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?n5(r,n,t):[]});function i3(e){var t=null==e?0:e.length;return t?e[t-1]:n}var i5=rp(i4);function i4(e,t){return e&&e.length&&t&&t.length?rc(e,t):e}var i6=ic(function(e,t){var n=null==e?0:e.length,r=nI(e,t);return rd(e,tp(t,function(e){return iC(e,n)?+e:e}).sort(rG)),r});function i8(e){return null==e?e:t9.call(e)}var i9=rp(function(e){return rP(nX(e,1,aH,!0))}),i7=rp(function(e){var t=i3(e);return aH(t)&&(t=n),rP(nX(e,1,aH,!0),iv(t,2))}),ae=rp(function(e){var t=i3(e);return t="function"==typeof t?t:n,rP(nX(e,1,aH,!0),n,t)});function at(e){if(!(e&&e.length))return[];var t=0;return e=td(e,function(e){if(aH(e))return t=t3(e.length,t),!0}),tR(t,function(t){return tp(e,tT(t))})}function an(e,t){if(!(e&&e.length))return[];var r=at(e);return null==t?r:tp(r,function(e){return to(t,n,e)})}var ar=rp(function(e,t){return aH(e)?nj(e,t):[]}),ai=rp(function(e){return rL(td(e,aH))}),aa=rp(function(e){var t=i3(e);return aH(t)&&(t=n),rL(td(e,aH),iv(t,2))}),ao=rp(function(e){var t=i3(e);return t="function"==typeof t?t:n,rL(td(e,aH),n,t)}),as=rp(at),al=rp(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,an(e,r)});function au(e){var t=nm(e);return t.__chain__=!0,t}function ac(e,t){return t(e)}var ad=ic(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return nI(t,e)};return!(t>1)&&!this.__actions__.length&&i instanceof nb&&iC(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ac,args:[a],thisArg:n}),new ny(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(a)}),ah=rq(function(e,t,n){ek.call(e,n)?++e[n]:nN(e,n,1)}),af=r1(iK),ap=r1(iZ);function am(e,t){return(aB(e)?tl:nB)(e,iv(t,3))}function ag(e,t){return(aB(e)?tu:nV)(e,iv(t,3))}var av=rq(function(e,t,n){ek.call(e,n)?e[n].push(t):nN(e,n,[t])}),ay=rp(function(e,t,n){var r=-1,i="function"==typeof t,a=aG(e)?ey(e.length):[];return nB(e,function(e){a[++r]=i?to(t,e,n):n4(e,t,n)}),a}),ab=rq(function(e,t,n){nN(e,n,t)});function a_(e,t){return(aB(e)?tp:rr)(e,iv(t,3))}var ax=rq(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),aS=rp(function(e,t){if(null==e)return[];var n=t.length;return n>1&&iP(e,t[0],t[1])?t=[]:n>2&&iP(t[0],t[1],t[2])&&(t=[t[0]]),rl(e,nX(t,1),[])}),aw=tb||function(){return e5.Date.now()};function aE(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,ia(e,128,n,n,n,n,t)}function aM(e,t){var i;if("function"!=typeof t)throw new eT(r);return e=ot(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var aT=rp(function(e,t,n){var r=1;if(n.length){var i=tG(n,ig(aT));r|=32}return ia(e,r,t,n,i)}),aC=rp(function(e,t,n){var r=3;if(n.length){var i=tG(n,ig(aC));r|=32}return ia(t,r,e,n,i)});function aP(e,t,i){var a,o,s,l,u,c,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new eT(r);function m(t){var r=a,i=o;return a=o=n,d=t,l=e.apply(i,r)}function g(e){var r=e-c,i=e-d;return c===n||r>=t||r<0||f&&i>=s}function v(){var e,n,r,i=aw();if(g(i))return y(i);u=iz(v,(e=i-c,n=i-d,r=t-e,f?t5(r,s-n):r))}function y(e){return(u=n,p&&a)?m(e):(a=o=n,l)}function b(){var e,r=aw(),i=g(r);if(a=arguments,o=this,c=r,i){if(u===n)return d=e=c,u=iz(v,t),h?m(e):l;if(f)return rF(u),u=iz(v,t),m(c)}return u===n&&(u=iz(v,t)),l}return t=or(t)||0,aZ(i)&&(h=!!i.leading,s=(f="maxWait"in i)?t3(or(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){u!==n&&rF(u),d=0,a=c=o=u=n},b.flush=function(){return u===n?l:y(aw())},b}var aA=rp(function(e,t){return nF(e,1,t)}),aR=rp(function(e,t,n){return nF(e,or(t)||0,n)});function aO(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eT(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(aO.Cache||nS),n}function ak(e){if("function"!=typeof e)throw new eT(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}aO.Cache=nS;var aL=rp(function(e,t){var n=(t=1==t.length&&aB(t[0])?tp(t[0],tk(iv())):tp(nX(t,1),tk(iv()))).length;return rp(function(r){for(var i=-1,a=t5(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return to(e,this,r)})}),aN=rp(function(e,t){var r=tG(t,ig(aN));return ia(e,32,n,t,r)}),aI=rp(function(e,t){var r=tG(t,ig(aI));return ia(e,64,n,t,r)}),aD=ic(function(e,t){return ia(e,256,n,n,n,t)});function aU(e,t){return e===t||e!=e&&t!=t}var az=r7(n1),aF=r7(function(e,t){return e>=t}),aj=n6(function(){return arguments}())?n6:function(e){return aQ(e)&&ek.call(e,"callee")&&!eJ.call(e,"callee")},aB=ey.isArray,aV=te?tk(te):function(e){return aQ(e)&&n0(e)==M};function aG(e){return null!=e&&aK(e.length)&&!aq(e)}function aH(e){return aQ(e)&&aG(e)}var aW=tJ||o3,aX=tt?tk(tt):function(e){return aQ(e)&&n0(e)==h};function a$(e){if(!aQ(e))return!1;var t=n0(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!a1(e)}function aq(e){if(!aZ(e))return!1;var t=n0(e);return t==p||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function aY(e){return"number"==typeof e&&e==ot(e)}function aK(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function aZ(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function aQ(e){return null!=e&&"object"==typeof e}var aJ=tn?tk(tn):function(e){return aQ(e)&&iw(e)==g};function a0(e){return"number"==typeof e||aQ(e)&&n0(e)==v}function a1(e){if(!aQ(e)||n0(e)!=y)return!1;var t=eW(e);if(null===t)return!0;var n=ek.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eO.call(n)==eD}var a2=tr?tk(tr):function(e){return aQ(e)&&n0(e)==_},a3=ti?tk(ti):function(e){return aQ(e)&&iw(e)==x};function a5(e){return"string"==typeof e||!aB(e)&&aQ(e)&&n0(e)==S}function a4(e){return"symbol"==typeof e||aQ(e)&&n0(e)==w}var a6=ta?tk(ta):function(e){return aQ(e)&&aK(e.length)&&!!eZ[n0(e)]},a8=r7(rn),a9=r7(function(e,t){return e<=t});function a7(e){if(!e)return[];if(aG(e))return a5(e)?tX(e):rX(e);if(e4&&e[e4])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[e4]());var t=iw(e);return(t==g?tB:t==x?tH:oC)(e)}function oe(e){return e?(e=or(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function ot(e){var t=oe(e),n=t%1;return t==t?n?t-n:t:0}function on(e){return e?nD(ot(e),0,4294967295):0}function or(e){if("number"==typeof e)return e;if(a4(e))return s;if(aZ(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=aZ(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tO(e);var n=eu.test(e);return n||ed.test(e)?e1(e.slice(2),n?2:8):el.test(e)?s:+e}function oi(e){return r$(e,ob(e))}function oa(e){return null==e?"":rC(e)}var oo=rY(function(e,t){if(ik(t)||aG(t)){r$(t,oy(t),e);return}for(var n in t)ek.call(t,n)&&nR(e,n,t[n])}),os=rY(function(e,t){r$(t,ob(t),e)}),ol=rY(function(e,t,n,r){r$(t,ob(t),e,r)}),ou=rY(function(e,t,n,r){r$(t,oy(t),e,r)}),oc=ic(nI),od=rp(function(e,t){e=ew(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&iP(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=ob(o),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===n||aU(d,eA[c])&&!ek.call(e,c))&&(e[c]=o[c])}return e}),oh=rp(function(e){return e.push(n,is),to(ox,n,e)});function of(e,t,r){var i=null==e?n:nQ(e,t);return i===n?r:i}function op(e,t){return null!=e&&iE(e,t,n3)}var om=r5(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eI.call(t)),e[t]=n},oB(oH)),og=r5(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eI.call(t)),ek.call(e,t)?e[t].push(n):e[t]=[n]},iv),ov=rp(n4);function oy(e){return aG(e)?nM(e):rt(e)}function ob(e){return aG(e)?nM(e,!0):function(e){if(!aZ(e))return function(e){var t=[];if(null!=e)for(var n in ew(e))t.push(n);return t}(e);var t=ik(e),n=[];for(var r in e)"constructor"==r&&(t||!ek.call(e,r))||n.push(r);return n}(e)}var o_=rY(function(e,t,n){ro(e,t,n)}),ox=rY(function(e,t,n,r){ro(e,t,n,r)}),oS=ic(function(e,t){var n={};if(null==e)return n;var r=!1;t=tp(t,function(t){return t=rU(t,e),r||(r=t.length>1),t}),r$(e,ih(e),n),r&&(n=nU(n,7,il));for(var i=t.length;i--;)rA(n,t[i]);return n}),ow=ic(function(e,t){return null==e?{}:ru(e,t,function(t,n){return op(e,n)})});function oE(e,t){if(null==e)return{};var n=tp(ih(e),function(e){return[e]});return t=iv(t),ru(e,n,function(e,n){return t(e,n[0])})}var oM=ii(oy),oT=ii(ob);function oC(e){return null==e?[]:tL(e,oy(e))}var oP=rJ(function(e,t,n){return t=t.toLowerCase(),e+(n?oA(t):t)});function oA(e){return oU(oa(e).toLowerCase())}function oR(e){return(e=oa(e))&&e.replace(ef,tU).replace(eH,"")}var oO=rJ(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ok=rJ(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),oL=rQ("toLowerCase"),oN=rJ(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),oI=rJ(function(e,t,n){return e+(n?" ":"")+oU(t)}),oD=rJ(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),oU=rQ("toUpperCase");function oz(e,t,r){if(e=oa(e),(t=r?n:t)===n){var i;return(i=e,eq.test(i))?e.match(eX)||[]:e.match(er)||[]}return e.match(t)||[]}var oF=rp(function(e,t){try{return to(e,n,t)}catch(e){return a$(e)?e:new e_(e)}}),oj=ic(function(e,t){return tl(t,function(t){nN(e,t=iH(t),aT(e[t],e))}),e});function oB(e){return function(){return e}}var oV=r2(),oG=r2(!0);function oH(e){return e}function oW(e){return re("function"==typeof e?e:nU(e,1))}var oX=rp(function(e,t){return function(n){return n4(n,e,t)}}),o$=rp(function(e,t){return function(n){return n4(e,n,t)}});function oq(e,t,n){var r=oy(t),i=nZ(t,r);null!=n||aZ(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=nZ(t,oy(t)));var a=!(aZ(n)&&"chain"in n)||!!n.chain,o=aq(e);return tl(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=rX(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tm([this.value()],arguments))})}),e}function oY(){}var oK=r6(tp),oZ=r6(tc),oQ=r6(ty);function oJ(e){return iA(e)?tT(iH(e)):function(t){return nQ(t,e)}}var o0=r9(),o1=r9(!0);function o2(){return[]}function o3(){return!1}var o5=r4(function(e,t){return e+t},0),o4=it("ceil"),o6=r4(function(e,t){return e/t},1),o8=it("floor"),o9=r4(function(e,t){return e*t},1),o7=it("round"),se=r4(function(e,t){return e-t},0);return nm.after=function(e,t){if("function"!=typeof t)throw new eT(r);return e=ot(e),function(){if(--e<1)return t.apply(this,arguments)}},nm.ary=aE,nm.assign=oo,nm.assignIn=os,nm.assignInWith=ol,nm.assignWith=ou,nm.at=oc,nm.before=aM,nm.bind=aT,nm.bindAll=oj,nm.bindKey=aC,nm.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return aB(e)?e:[e]},nm.chain=au,nm.chunk=function(e,t,r){t=(r?iP(e,t,r):t===n)?1:t3(ot(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=ey(tK(i/t));a<i;)s[o++]=rx(e,a,a+=t);return s},nm.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},nm.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ey(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tm(aB(n)?rX(n):[n],nX(t,1))},nm.cond=function(e){var t=null==e?0:e.length,n=iv();return e=t?tp(e,function(e){if("function"!=typeof e[1])throw new eT(r);return[n(e[0]),e[1]]}):[],rp(function(n){for(var r=-1;++r<t;){var i=e[r];if(to(i[0],this,n))return to(i[1],this,n)}})},nm.conforms=function(e){var t,n;return t=nU(e,1),n=oy(t),function(e){return nz(e,t,n)}},nm.constant=oB,nm.countBy=ah,nm.create=function(e,t){var n=ng(e);return null==t?n:nL(n,t)},nm.curry=function e(t,r,i){r=i?n:r;var a=ia(t,8,n,n,n,n,n,r);return a.placeholder=e.placeholder,a},nm.curryRight=function e(t,r,i){r=i?n:r;var a=ia(t,16,n,n,n,n,n,r);return a.placeholder=e.placeholder,a},nm.debounce=aP,nm.defaults=od,nm.defaultsDeep=oh,nm.defer=aA,nm.delay=aR,nm.difference=i$,nm.differenceBy=iq,nm.differenceWith=iY,nm.drop=function(e,t,r){var i=null==e?0:e.length;return i?rx(e,(t=r||t===n?1:ot(t))<0?0:t,i):[]},nm.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?rx(e,0,(t=i-(t=r||t===n?1:ot(t)))<0?0:t):[]},nm.dropRightWhile=function(e,t){return e&&e.length?rO(e,iv(t,3),!0,!0):[]},nm.dropWhile=function(e,t){return e&&e.length?rO(e,iv(t,3),!0):[]},nm.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&iP(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=ot(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:ot(i))<0&&(i+=a),i=r>i?0:on(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},nm.filter=function(e,t){return(aB(e)?td:nW)(e,iv(t,3))},nm.flatMap=function(e,t){return nX(a_(e,t),1)},nm.flatMapDeep=function(e,t){return nX(a_(e,t),o)},nm.flatMapDepth=function(e,t,r){return r=r===n?1:ot(r),nX(a_(e,t),r)},nm.flatten=iQ,nm.flattenDeep=function(e){return(null==e?0:e.length)?nX(e,o):[]},nm.flattenDepth=function(e,t){return(null==e?0:e.length)?nX(e,t=t===n?1:ot(t)):[]},nm.flip=function(e){return ia(e,512)},nm.flow=oV,nm.flowRight=oG,nm.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},nm.functions=function(e){return null==e?[]:nZ(e,oy(e))},nm.functionsIn=function(e){return null==e?[]:nZ(e,ob(e))},nm.groupBy=av,nm.initial=function(e){return(null==e?0:e.length)?rx(e,0,-1):[]},nm.intersection=i0,nm.intersectionBy=i1,nm.intersectionWith=i2,nm.invert=om,nm.invertBy=og,nm.invokeMap=ay,nm.iteratee=oW,nm.keyBy=ab,nm.keys=oy,nm.keysIn=ob,nm.map=a_,nm.mapKeys=function(e,t){var n={};return t=iv(t,3),nY(e,function(e,r,i){nN(n,t(e,r,i),e)}),n},nm.mapValues=function(e,t){var n={};return t=iv(t,3),nY(e,function(e,r,i){nN(n,r,t(e,r,i))}),n},nm.matches=function(e){return ri(nU(e,1))},nm.matchesProperty=function(e,t){return ra(e,nU(t,1))},nm.memoize=aO,nm.merge=o_,nm.mergeWith=ox,nm.method=oX,nm.methodOf=o$,nm.mixin=oq,nm.negate=ak,nm.nthArg=function(e){return e=ot(e),rp(function(t){return rs(t,e)})},nm.omit=oS,nm.omitBy=function(e,t){return oE(e,ak(iv(t)))},nm.once=function(e){return aM(2,e)},nm.orderBy=function(e,t,r,i){return null==e?[]:(aB(t)||(t=null==t?[]:[t]),aB(r=i?n:r)||(r=null==r?[]:[r]),rl(e,t,r))},nm.over=oK,nm.overArgs=aL,nm.overEvery=oZ,nm.overSome=oQ,nm.partial=aN,nm.partialRight=aI,nm.partition=ax,nm.pick=ow,nm.pickBy=oE,nm.property=oJ,nm.propertyOf=function(e){return function(t){return null==e?n:nQ(e,t)}},nm.pull=i5,nm.pullAll=i4,nm.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?rc(e,t,iv(n,2)):e},nm.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?rc(e,t,n,r):e},nm.pullAt=i6,nm.range=o0,nm.rangeRight=o1,nm.rearg=aD,nm.reject=function(e,t){return(aB(e)?td:nW)(e,ak(iv(t,3)))},nm.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;for(t=iv(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return rd(e,i),n},nm.rest=function(e,t){if("function"!=typeof e)throw new eT(r);return rp(e,t=t===n?t:ot(t))},nm.reverse=i8,nm.sampleSize=function(e,t,r){return t=(r?iP(e,t,r):t===n)?1:ot(t),(aB(e)?nC:rg)(e,t)},nm.set=function(e,t,n){return null==e?e:rv(e,t,n)},nm.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:rv(e,t,r,i)},nm.shuffle=function(e){return(aB(e)?nP:r_)(e)},nm.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&iP(e,t,r)?(t=0,r=i):(t=null==t?0:ot(t),r=r===n?i:ot(r)),rx(e,t,r)):[]},nm.sortBy=aS,nm.sortedUniq=function(e){return e&&e.length?rM(e):[]},nm.sortedUniqBy=function(e,t){return e&&e.length?rM(e,iv(t,2)):[]},nm.split=function(e,t,r){return(r&&"number"!=typeof r&&iP(e,t,r)&&(t=r=n),r=r===n?4294967295:r>>>0)?(e=oa(e))&&("string"==typeof t||null!=t&&!a2(t))&&!(t=rC(t))&&tj(e)?rz(tX(e),0,r):e.split(t,r):[]},nm.spread=function(e,t){if("function"!=typeof e)throw new eT(r);return t=null==t?0:t3(ot(t),0),rp(function(n){var r=n[t],i=rz(n,0,t);return r&&tm(i,r),to(e,this,i)})},nm.tail=function(e){var t=null==e?0:e.length;return t?rx(e,1,t):[]},nm.take=function(e,t,r){return e&&e.length?rx(e,0,(t=r||t===n?1:ot(t))<0?0:t):[]},nm.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?rx(e,(t=i-(t=r||t===n?1:ot(t)))<0?0:t,i):[]},nm.takeRightWhile=function(e,t){return e&&e.length?rO(e,iv(t,3),!1,!0):[]},nm.takeWhile=function(e,t){return e&&e.length?rO(e,iv(t,3)):[]},nm.tap=function(e,t){return t(e),e},nm.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new eT(r);return aZ(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),aP(e,t,{leading:i,maxWait:t,trailing:a})},nm.thru=ac,nm.toArray=a7,nm.toPairs=oM,nm.toPairsIn=oT,nm.toPath=function(e){return aB(e)?tp(e,iH):a4(e)?[e]:rX(iG(oa(e)))},nm.toPlainObject=oi,nm.transform=function(e,t,n){var r=aB(e),i=r||aW(e)||a6(e);if(t=iv(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:aZ(e)&&aq(a)?ng(eW(e)):{}}return(i?tl:nY)(e,function(e,r,i){return t(n,e,r,i)}),n},nm.unary=function(e){return aE(e,1)},nm.union=i9,nm.unionBy=i7,nm.unionWith=ae,nm.uniq=function(e){return e&&e.length?rP(e):[]},nm.uniqBy=function(e,t){return e&&e.length?rP(e,iv(t,2)):[]},nm.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?rP(e,n,t):[]},nm.unset=function(e,t){return null==e||rA(e,t)},nm.unzip=at,nm.unzipWith=an,nm.update=function(e,t,n){return null==e?e:rR(e,t,rD(n))},nm.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:rR(e,t,rD(r),i)},nm.values=oC,nm.valuesIn=function(e){return null==e?[]:tL(e,ob(e))},nm.without=ar,nm.words=oz,nm.wrap=function(e,t){return aN(rD(t),e)},nm.xor=ai,nm.xorBy=aa,nm.xorWith=ao,nm.zip=as,nm.zipObject=function(e,t){return rN(e||[],t||[],nR)},nm.zipObjectDeep=function(e,t){return rN(e||[],t||[],rv)},nm.zipWith=al,nm.entries=oM,nm.entriesIn=oT,nm.extend=os,nm.extendWith=ol,oq(nm,nm),nm.add=o5,nm.attempt=oF,nm.camelCase=oP,nm.capitalize=oA,nm.ceil=o4,nm.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=or(r))==r?r:0),t!==n&&(t=(t=or(t))==t?t:0),nD(or(e),t,r)},nm.clone=function(e){return nU(e,4)},nm.cloneDeep=function(e){return nU(e,5)},nm.cloneDeepWith=function(e,t){return nU(e,5,t="function"==typeof t?t:n)},nm.cloneWith=function(e,t){return nU(e,4,t="function"==typeof t?t:n)},nm.conformsTo=function(e,t){return null==t||nz(e,t,oy(t))},nm.deburr=oR,nm.defaultTo=function(e,t){return null==e||e!=e?t:e},nm.divide=o6,nm.endsWith=function(e,t,r){e=oa(e),t=rC(t);var i=e.length,a=r=r===n?i:nD(ot(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},nm.eq=aU,nm.escape=function(e){return(e=oa(e))&&G.test(e)?e.replace(B,tz):e},nm.escapeRegExp=function(e){return(e=oa(e))&&Z.test(e)?e.replace(K,"\\$&"):e},nm.every=function(e,t,r){var i=aB(e)?tc:nG;return r&&iP(e,t,r)&&(t=n),i(e,iv(t,3))},nm.find=af,nm.findIndex=iK,nm.findKey=function(e,t){return t_(e,iv(t,3),nY)},nm.findLast=ap,nm.findLastIndex=iZ,nm.findLastKey=function(e,t){return t_(e,iv(t,3),nK)},nm.floor=o8,nm.forEach=am,nm.forEachRight=ag,nm.forIn=function(e,t){return null==e?e:n$(e,iv(t,3),ob)},nm.forInRight=function(e,t){return null==e?e:nq(e,iv(t,3),ob)},nm.forOwn=function(e,t){return e&&nY(e,iv(t,3))},nm.forOwnRight=function(e,t){return e&&nK(e,iv(t,3))},nm.get=of,nm.gt=az,nm.gte=aF,nm.has=function(e,t){return null!=e&&iE(e,t,n2)},nm.hasIn=op,nm.head=iJ,nm.identity=oH,nm.includes=function(e,t,n,r){e=aG(e)?e:oC(e),n=n&&!r?ot(n):0;var i=e.length;return n<0&&(n=t3(i+n,0)),a5(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&tS(e,t,n)>-1},nm.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:ot(n);return i<0&&(i=t3(r+i,0)),tS(e,t,i)},nm.inRange=function(e,t,r){var i,a,o;return t=oe(t),r===n?(r=t,t=0):r=oe(r),(i=e=or(e))>=t5(a=t,o=r)&&i<t3(a,o)},nm.invoke=ov,nm.isArguments=aj,nm.isArray=aB,nm.isArrayBuffer=aV,nm.isArrayLike=aG,nm.isArrayLikeObject=aH,nm.isBoolean=function(e){return!0===e||!1===e||aQ(e)&&n0(e)==d},nm.isBuffer=aW,nm.isDate=aX,nm.isElement=function(e){return aQ(e)&&1===e.nodeType&&!a1(e)},nm.isEmpty=function(e){if(null==e)return!0;if(aG(e)&&(aB(e)||"string"==typeof e||"function"==typeof e.splice||aW(e)||a6(e)||aj(e)))return!e.length;var t=iw(e);if(t==g||t==x)return!e.size;if(ik(e))return!rt(e).length;for(var n in e)if(ek.call(e,n))return!1;return!0},nm.isEqual=function(e,t){return n8(e,t)},nm.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?n8(e,t,n,r):!!i},nm.isError=a$,nm.isFinite=function(e){return"number"==typeof e&&t0(e)},nm.isFunction=aq,nm.isInteger=aY,nm.isLength=aK,nm.isMap=aJ,nm.isMatch=function(e,t){return e===t||n9(e,t,ib(t))},nm.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,n9(e,t,ib(t),r)},nm.isNaN=function(e){return a0(e)&&e!=+e},nm.isNative=function(e){if(iO(e))throw new e_("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return n7(e)},nm.isNil=function(e){return null==e},nm.isNull=function(e){return null===e},nm.isNumber=a0,nm.isObject=aZ,nm.isObjectLike=aQ,nm.isPlainObject=a1,nm.isRegExp=a2,nm.isSafeInteger=function(e){return aY(e)&&e>=-9007199254740991&&e<=9007199254740991},nm.isSet=a3,nm.isString=a5,nm.isSymbol=a4,nm.isTypedArray=a6,nm.isUndefined=function(e){return e===n},nm.isWeakMap=function(e){return aQ(e)&&iw(e)==E},nm.isWeakSet=function(e){return aQ(e)&&"[object WeakSet]"==n0(e)},nm.join=function(e,t){return null==e?"":t1.call(e,t)},nm.kebabCase=oO,nm.last=i3,nm.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var a=i;return r!==n&&(a=(a=ot(r))<0?t3(i+a,0):t5(a,i-1)),t==t?function(e,t,n){for(var r=n+1;r--&&e[r]!==t;);return r}(e,t,a):tx(e,tE,a,!0)},nm.lowerCase=ok,nm.lowerFirst=oL,nm.lt=a8,nm.lte=a9,nm.max=function(e){return e&&e.length?nH(e,oH,n1):n},nm.maxBy=function(e,t){return e&&e.length?nH(e,iv(t,2),n1):n},nm.mean=function(e){return tM(e,oH)},nm.meanBy=function(e,t){return tM(e,iv(t,2))},nm.min=function(e){return e&&e.length?nH(e,oH,rn):n},nm.minBy=function(e,t){return e&&e.length?nH(e,iv(t,2),rn):n},nm.stubArray=o2,nm.stubFalse=o3,nm.stubObject=function(){return{}},nm.stubString=function(){return""},nm.stubTrue=function(){return!0},nm.multiply=o9,nm.nth=function(e,t){return e&&e.length?rs(e,ot(t)):n},nm.noConflict=function(){return e5._===this&&(e5._=eU),this},nm.noop=oY,nm.now=aw,nm.pad=function(e,t,n){e=oa(e);var r=(t=ot(t))?tW(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return r8(tZ(i),n)+e+r8(tK(i),n)},nm.padEnd=function(e,t,n){e=oa(e);var r=(t=ot(t))?tW(e):0;return t&&r<t?e+r8(t-r,n):e},nm.padStart=function(e,t,n){e=oa(e);var r=(t=ot(t))?tW(e):0;return t&&r<t?r8(t-r,n)+e:e},nm.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),t6(oa(e).replace(Q,""),t||0)},nm.random=function(e,t,r){if(r&&"boolean"!=typeof r&&iP(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=oe(e),t===n?(t=e,e=0):t=oe(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=t8();return t5(e+a*(t-e+e0("1e-"+((a+"").length-1))),t)}return rh(e,t)},nm.reduce=function(e,t,n){var r=aB(e)?tg:tP,i=arguments.length<3;return r(e,iv(t,4),n,i,nB)},nm.reduceRight=function(e,t,n){var r=aB(e)?tv:tP,i=arguments.length<3;return r(e,iv(t,4),n,i,nV)},nm.repeat=function(e,t,r){return t=(r?iP(e,t,r):t===n)?1:ot(t),rf(oa(e),t)},nm.replace=function(){var e=arguments,t=oa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},nm.result=function(e,t,r){t=rU(t,e);var i=-1,a=t.length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[iH(t[i])];o===n&&(i=a,o=r),e=aq(o)?o.call(e):o}return e},nm.round=o7,nm.runInContext=e,nm.sample=function(e){return(aB(e)?nT:rm)(e)},nm.size=function(e){if(null==e)return 0;if(aG(e))return a5(e)?tW(e):e.length;var t=iw(e);return t==g||t==x?e.size:rt(e).length},nm.snakeCase=oN,nm.some=function(e,t,r){var i=aB(e)?ty:rS;return r&&iP(e,t,r)&&(t=n),i(e,iv(t,3))},nm.sortedIndex=function(e,t){return rw(e,t)},nm.sortedIndexBy=function(e,t,n){return rE(e,t,iv(n,2))},nm.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=rw(e,t);if(r<n&&aU(e[r],t))return r}return -1},nm.sortedLastIndex=function(e,t){return rw(e,t,!0)},nm.sortedLastIndexBy=function(e,t,n){return rE(e,t,iv(n,2),!0)},nm.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=rw(e,t,!0)-1;if(aU(e[n],t))return n}return -1},nm.startCase=oI,nm.startsWith=function(e,t,n){return e=oa(e),n=null==n?0:nD(ot(n),0,e.length),t=rC(t),e.slice(n,n+t.length)==t},nm.subtract=se,nm.sum=function(e){return e&&e.length?tA(e,oH):0},nm.sumBy=function(e,t){return e&&e.length?tA(e,iv(t,2)):0},nm.template=function(e,t,r){var i=nm.templateSettings;r&&iP(e,t,r)&&(t=n),e=oa(e),t=ol({},t,i,io);var a,o,s=ol({},t.imports,i.imports,io),l=oy(s),u=tL(s,l),c=0,d=t.interpolate||ep,h="__p += '",f=eE((t.escape||ep).source+"|"+d.source+"|"+(d===X?eo:ep).source+"|"+(t.evaluate||ep).source+"|$","g"),p="//# sourceURL="+(ek.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eK+"]")+"\n";e.replace(f,function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace(em,tF),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var m=ek.call(t,"variable")&&t.variable;if(m){if(ei.test(m))throw new e_("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(U,""):h).replace(z,"$1").replace(F,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=oF(function(){return ex(l,p+"return "+h).apply(n,u)});if(g.source=h,a$(g))throw g;return g},nm.times=function(e,t){if((e=ot(e))<1||e>9007199254740991)return[];var n=4294967295,r=t5(e,4294967295);t=iv(t),e-=4294967295;for(var i=tR(r,t);++n<e;)t(n);return i},nm.toFinite=oe,nm.toInteger=ot,nm.toLength=on,nm.toLower=function(e){return oa(e).toLowerCase()},nm.toNumber=or,nm.toSafeInteger=function(e){return e?nD(ot(e),-9007199254740991,9007199254740991):0===e?e:0},nm.toString=oa,nm.toUpper=function(e){return oa(e).toUpperCase()},nm.trim=function(e,t,r){if((e=oa(e))&&(r||t===n))return tO(e);if(!e||!(t=rC(t)))return e;var i=tX(e),a=tX(t),o=tI(i,a),s=tD(i,a)+1;return rz(i,o,s).join("")},nm.trimEnd=function(e,t,r){if((e=oa(e))&&(r||t===n))return e.slice(0,t$(e)+1);if(!e||!(t=rC(t)))return e;var i=tX(e),a=tD(i,tX(t))+1;return rz(i,0,a).join("")},nm.trimStart=function(e,t,r){if((e=oa(e))&&(r||t===n))return e.replace(Q,"");if(!e||!(t=rC(t)))return e;var i=tX(e),a=tI(i,tX(t));return rz(i,a).join("")},nm.truncate=function(e,t){var r=30,i="...";if(aZ(t)){var a="separator"in t?t.separator:a;r="length"in t?ot(t.length):r,i="omission"in t?rC(t.omission):i}var o=(e=oa(e)).length;if(tj(e)){var s=tX(e);o=s.length}if(r>=o)return e;var l=r-tW(i);if(l<1)return i;var u=s?rz(s,0,l).join(""):e.slice(0,l);if(a===n)return u+i;if(s&&(l+=u.length-l),a2(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=eE(a.source,oa(es.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var h=c.index;u=u.slice(0,h===n?l:h)}}else if(e.indexOf(rC(a),l)!=l){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+i},nm.unescape=function(e){return(e=oa(e))&&V.test(e)?e.replace(j,tq):e},nm.uniqueId=function(e){var t=++eL;return oa(e)+t},nm.upperCase=oD,nm.upperFirst=oU,nm.each=am,nm.eachRight=ag,nm.first=iJ,oq(nm,(ev={},nY(nm,function(e,t){ek.call(nm.prototype,t)||(ev[t]=e)}),ev),{chain:!1}),nm.VERSION="4.17.21",tl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){nm[e].placeholder=nm}),tl(["drop","take"],function(e,t){nb.prototype[e]=function(r){r=r===n?1:t3(ot(r),0);var i=this.__filtered__&&!t?new nb(this):this.clone();return i.__filtered__?i.__takeCount__=t5(r,i.__takeCount__):i.__views__.push({size:t5(r,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},nb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tl(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;nb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:iv(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),tl(["head","last"],function(e,t){var n="take"+(t?"Right":"");nb.prototype[e]=function(){return this[n](1).value()[0]}}),tl(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");nb.prototype[e]=function(){return this.__filtered__?new nb(this):this[n](1)}}),nb.prototype.compact=function(){return this.filter(oH)},nb.prototype.find=function(e){return this.filter(e).head()},nb.prototype.findLast=function(e){return this.reverse().find(e)},nb.prototype.invokeMap=rp(function(e,t){return"function"==typeof e?new nb(this):this.map(function(n){return n4(n,e,t)})}),nb.prototype.reject=function(e){return this.filter(ak(iv(e)))},nb.prototype.slice=function(e,t){e=ot(e);var r=this;return r.__filtered__&&(e>0||t<0)?new nb(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ot(t))<0?r.dropRight(-t):r.take(t-e)),r)},nb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},nb.prototype.toArray=function(){return this.take(4294967295)},nY(nb.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=nm[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(nm.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof nb,u=s[0],c=l||aB(t),d=function(e){var t=a.apply(nm,tm([e],s));return i&&h?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=l&&!f;if(!o&&c){t=m?t:new nb(this);var g=e.apply(t,s);return g.__actions__.push({func:ac,args:[d],thisArg:n}),new ny(g,h)}return p&&m?e.apply(this,s):(g=this.thru(d),p?i?g.value()[0]:g.value():g)})}),tl(["pop","push","shift","sort","splice","unshift"],function(e){var t=eC[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);nm.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(aB(i)?i:[],e)}return this[n](function(n){return t.apply(aB(n)?n:[],e)})}}),nY(nb.prototype,function(e,t){var n=nm[t];if(n){var r=n.name+"";ek.call(no,r)||(no[r]=[]),no[r].push({name:t,func:n})}}),no[r3(n,2).name]=[{name:"wrapper",func:n}],nb.prototype.clone=function(){var e=new nb(this.__wrapped__);return e.__actions__=rX(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rX(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rX(this.__views__),e},nb.prototype.reverse=function(){if(this.__filtered__){var e=new nb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},nb.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=aB(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=t5(t,e+o);break;case"takeRight":e=t3(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,h=0,f=t5(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return rk(e,this.__actions__);var p=[];n:for(;l--&&h<f;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue n;break n}}p[h++]=g}return p},nm.prototype.at=ad,nm.prototype.chain=function(){return au(this)},nm.prototype.commit=function(){return new ny(this.value(),this.__chain__)},nm.prototype.next=function(){this.__values__===n&&(this.__values__=a7(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}},nm.prototype.plant=function(e){for(var t,r=this;r instanceof nv;){var i=iX(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},nm.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof nb){var t=e;return this.__actions__.length&&(t=new nb(this)),(t=t.reverse()).__actions__.push({func:ac,args:[i8],thisArg:n}),new ny(t,this.__chain__)}return this.thru(i8)},nm.prototype.toJSON=nm.prototype.valueOf=nm.prototype.value=function(){return rk(this.__wrapped__,this.__actions__)},nm.prototype.first=nm.prototype.head,e4&&(nm.prototype[e4]=function(){return this}),nm}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e5._=tY,define(function(){return tY})):e6?((e6.exports=tY)._=tY,e4._=tY):e5._=tY}).call(this)}),N.register("dNL7g",function(e,t){"use strict";s(e.exports,"AsyncMode",()=>n,e=>n=e),s(e.exports,"ConcurrentMode",()=>r,e=>r=e),s(e.exports,"ContextConsumer",()=>i,e=>i=e),s(e.exports,"ContextProvider",()=>a,e=>a=e),s(e.exports,"Element",()=>o,e=>o=e),s(e.exports,"ForwardRef",()=>l,e=>l=e),s(e.exports,"Fragment",()=>u,e=>u=e),s(e.exports,"Lazy",()=>c,e=>c=e),s(e.exports,"Memo",()=>d,e=>d=e),s(e.exports,"Portal",()=>h,e=>h=e),s(e.exports,"Profiler",()=>f,e=>f=e),s(e.exports,"StrictMode",()=>p,e=>p=e),s(e.exports,"Suspense",()=>m,e=>m=e),s(e.exports,"isAsyncMode",()=>g,e=>g=e),s(e.exports,"isConcurrentMode",()=>v,e=>v=e),s(e.exports,"isContextConsumer",()=>y,e=>y=e),s(e.exports,"isContextProvider",()=>b,e=>b=e),s(e.exports,"isElement",()=>_,e=>_=e),s(e.exports,"isForwardRef",()=>x,e=>x=e),s(e.exports,"isFragment",()=>S,e=>S=e),s(e.exports,"isLazy",()=>w,e=>w=e),s(e.exports,"isMemo",()=>E,e=>E=e),s(e.exports,"isPortal",()=>M,e=>M=e),s(e.exports,"isProfiler",()=>T,e=>T=e),s(e.exports,"isStrictMode",()=>C,e=>C=e),s(e.exports,"isSuspense",()=>P,e=>P=e),s(e.exports,"isValidElementType",()=>A,e=>A=e),s(e.exports,"typeOf",()=>R,e=>R=e);var n,r,i,a,o,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T,C,P,A,R,O="function"==typeof Symbol&&Symbol.for,k=O?Symbol.for("react.element"):60103,L=O?Symbol.for("react.portal"):60106,N=O?Symbol.for("react.fragment"):60107,I=O?Symbol.for("react.strict_mode"):60108,D=O?Symbol.for("react.profiler"):60114,U=O?Symbol.for("react.provider"):60109,z=O?Symbol.for("react.context"):60110,F=O?Symbol.for("react.async_mode"):60111,j=O?Symbol.for("react.concurrent_mode"):60111,B=O?Symbol.for("react.forward_ref"):60112,V=O?Symbol.for("react.suspense"):60113,G=O?Symbol.for("react.suspense_list"):60120,H=O?Symbol.for("react.memo"):60115,W=O?Symbol.for("react.lazy"):60116,X=O?Symbol.for("react.block"):60121,$=O?Symbol.for("react.fundamental"):60117,q=O?Symbol.for("react.responder"):60118,Y=O?Symbol.for("react.scope"):60119;function K(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case k:switch(e=e.type){case F:case j:case N:case D:case I:case V:return e;default:switch(e=e&&e.$$typeof){case z:case B:case W:case H:case U:return e;default:return t}}case L:return t}}}function Z(e){return K(e)===j}n=F,r=j,i=z,a=U,o=k,l=B,u=N,c=W,d=H,h=L,f=D,p=I,m=V,g=function(e){return Z(e)||K(e)===F},v=Z,y=function(e){return K(e)===z},b=function(e){return K(e)===U},_=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===k},x=function(e){return K(e)===B},S=function(e){return K(e)===N},w=function(e){return K(e)===W},E=function(e){return K(e)===H},M=function(e){return K(e)===L},T=function(e){return K(e)===D},C=function(e){return K(e)===I},P=function(e){return K(e)===V},A=function(e){return"string"==typeof e||"function"==typeof e||e===N||e===j||e===D||e===I||e===V||e===G||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===H||e.$$typeof===U||e.$$typeof===z||e.$$typeof===B||e.$$typeof===$||e.$$typeof===q||e.$$typeof===Y||e.$$typeof===X)},R=K}),N.register("7Ekty",function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return n.default}});var n=N("bbT5Q")}),N.register("bbT5Q",function(e,t){s(e.exports,"default",()=>o);var n=N("8nd05"),r=N("acw62"),i=N("3ErGR"),a=N("ayMG0");function o(e,t){function o(r,o){return(0,a.jsx)(i.default,(0,n.default)({"data-testid":`${t}Icon`,ref:o},r,{children:e}))}return o.muiName=i.default.muiName,r.memo(r.forwardRef(o))}}),N.register("8nd05",function(e,t){s(e.exports,"default",()=>n);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}}),N.register("3ErGR",function(e,t){s(e.exports,"default",()=>v);var n=N("8nd05"),r=N("1En50"),i=N("acw62"),a=N("1SA7b"),o=N("8Indx"),l=N("jTnBY"),u=N("6g9fa"),c=N("d8seH"),d=N("aiIP4"),h=N("ayMG0");let f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],p=e=>{let{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&`color${(0,l.default)(t)}`,`fontSize${(0,l.default)(n)}`]};return(0,o.default)(i,d.getSvgIconUtilityClass,r)},m=(0,c.default)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.default)(n.color)}`],t[`fontSize${(0,l.default)(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)?void 0:null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(i=e.transitions)?void 0:null==(a=i.duration)?void 0:a.shorter}),fontSize:({inherit:"inherit",small:(null==(o=e.typography)?void 0:null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(l=e.typography)?void 0:null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=e.typography)?void 0:null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"})[t.fontSize],color:null!=(h=null==(f=(e.vars||e).palette)?void 0:null==(p=f[t.color])?void 0:p.main)?h:({action:null==(m=(e.vars||e).palette)?void 0:null==(g=m.action)?void 0:g.active,disabled:null==(v=(e.vars||e).palette)?void 0:null==(y=v.action)?void 0:y.disabled,inherit:void 0})[t.color]}}),g=i.forwardRef(function(e,t){let o=(0,u.default)({props:e,name:"MuiSvgIcon"}),{children:s,className:l,color:c="inherit",component:d="svg",fontSize:g="medium",htmlColor:v,inheritViewBox:y=!1,titleAccess:b,viewBox:_="0 0 24 24"}=o,x=(0,r.default)(o,f),S=i.isValidElement(s)&&"svg"===s.type,w=(0,n.default)({},o,{color:c,component:d,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:_,hasSvgAsChild:S}),E={};y||(E.viewBox=_);let M=p(w);return(0,h.jsxs)(m,(0,n.default)({as:d,className:(0,a.default)(M.root,l),focusable:"false",color:v,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},E,x,S&&s.props,{ownerState:w,children:[S?s.props.children:s,b?(0,h.jsx)("title",{children:b}):null]}))});g.muiName="SvgIcon";var v=g}),N.register("1En50",function(e,t){s(e.exports,"default",()=>n);function n(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}}),N.register("1SA7b",function(e,t){s(e.exports,"default",()=>n);var n=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(r&&(r+=" "),r+=t);return r}}),N.register("8Indx",function(e,t){s(e.exports,"default",()=>n);function n(e,t,n){let r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((e,r)=>{if(r){let i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}}),N.register("jTnBY",function(e,t){s(e.exports,"default",()=>n);var n=N("gxvzd").default}),N.register("gxvzd",function(e,t){s(e.exports,"default",()=>r);var n=N("bUPtf");function r(e){if("string"!=typeof e)throw Error((0,n.default)(7));return e.charAt(0).toUpperCase()+e.slice(1)}}),N.register("bUPtf",function(e,t){s(e.exports,"default",()=>n);function n(e){let t="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}}),N.register("6g9fa",function(e,t){s(e.exports,"default",()=>a);var n=N("dFNG2"),r=N("jR9F1"),i=N("4jPsi");function a({props:e,name:t}){return(0,n.default)({props:e,name:t,defaultTheme:r.default,themeId:i.default})}}),N.register("dFNG2",function(e,t){s(e.exports,"default",()=>i);var n=N("cfUWu"),r=N("7HKeb");function i({props:e,name:t,defaultTheme:i,themeId:a}){let o=(0,r.default)(i);a&&(o=o[a]||o);let s=(0,n.default)({theme:o,name:t,props:e});return s}}),N.register("cfUWu",function(e,t){s(e.exports,"default",()=>r);var n=N("1vDzc");function r(e){let{theme:t,name:r,props:i}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,n.default)(t.components[r].defaultProps,i):i}}),N.register("1vDzc",function(e,t){s(e.exports,"default",()=>function e(t,r){let i=(0,n.default)({},r);return Object.keys(t).forEach(a=>{if(a.toString().match(/^(components|slots)$/))i[a]=(0,n.default)({},t[a],i[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){let o=t[a]||{},s=r[a];i[a]={},s&&Object.keys(s)?o&&Object.keys(o)?(i[a]=(0,n.default)({},s),Object.keys(o).forEach(t=>{i[a][t]=e(o[t],s[t])})):i[a]=s:i[a]=o}else void 0===i[a]&&(i[a]=t[a])}),i});var n=N("8nd05")}),N.register("7HKeb",function(e,t){s(e.exports,"default",()=>a);var n=N("6o2lr"),r=N("2HliV");let i=(0,n.default)();var a=function(e=i){return(0,r.default)(e)}}),N.register("6o2lr",function(e,t){s(e.exports,"default",()=>h);var n=N("8nd05"),r=N("1En50"),i=N("17r9Q"),a=N("dLM8u"),o=N("bVuw0"),l=N("2GcsG"),u=N("9dZwz"),c=N("kOOck");let d=["breakpoints","palette","spacing","shape"];var h=function(e={},...t){let{breakpoints:s={},palette:h={},spacing:f,shape:p={}}=e,m=(0,r.default)(e,d),g=(0,a.default)(s),v=(0,l.default)(f),y=(0,i.default)({breakpoints:g,direction:"ltr",components:{},palette:(0,n.default)({mode:"light"},h),spacing:v,shape:(0,n.default)({},o.default,p)},m);return(y=t.reduce((e,t)=>(0,i.default)(e,t),y)).unstable_sxConfig=(0,n.default)({},c.default,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.default)({sx:e,theme:this})},y}}),N.register("17r9Q",function(e,t){s(e.exports,"isPlainObject",()=>r),s(e.exports,"default",()=>function e(t,i,a={clone:!0}){let o=a.clone?(0,n.default)({},t):t;return r(t)&&r(i)&&Object.keys(i).forEach(n=>{"__proto__"!==n&&(r(i[n])&&n in t&&r(t[n])?o[n]=e(t[n],i[n],a):a.clone?o[n]=r(i[n])?function e(t){if(!r(t))return t;let n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}(i[n]):i[n]:o[n]=i[n])}),o});var n=N("8nd05");function r(e){return null!==e&&"object"==typeof e&&e.constructor===Object}}),N.register("dLM8u",function(e,t){s(e.exports,"default",()=>o);var n=N("1En50"),r=N("8nd05");let i=["values","unit","step"],a=e=>{let t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,r.default)({},e,{[t.key]:t.val}),{})};function o(e){let{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=e,l=(0,n.default)(e,i),u=a(t),c=Object.keys(u);function d(e){let n="number"==typeof t[e]?t[e]:e;return`@media (min-width:${n}${o})`}function h(e){let n="number"==typeof t[e]?t[e]:e;return`@media (max-width:${n-s/100}${o})`}function f(e,n){let r=c.indexOf(n);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${o}) and (max-width:${(-1!==r&&"number"==typeof t[c[r]]?t[c[r]]:n)-s/100}${o})`}return(0,r.default)({keys:c,values:u,up:d,down:h,between:f,only:function(e){return c.indexOf(e)+1<c.length?f(e,c[c.indexOf(e)+1]):d(e)},not:function(e){let t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?h(c[t]):f(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},l)}}),N.register("bVuw0",function(e,t){s(e.exports,"default",()=>n);var n={borderRadius:4}}),N.register("2GcsG",function(e,t){s(e.exports,"default",()=>r);var n=N("cKRCq");function r(e=8){if(e.mui)return e;let t=(0,n.createUnarySpacing)({spacing:e}),r=(...e)=>{let n=0===e.length?[1]:e;return n.map(e=>{let n=t(e);return"number"==typeof n?`${n}px`:n}).join(" ")};return r.mui=!0,r}}),N.register("cKRCq",function(e,t){s(e.exports,"createUnaryUnit",()=>p),s(e.exports,"createUnarySpacing",()=>m),s(e.exports,"getValue",()=>g),s(e.exports,"margin",()=>y),s(e.exports,"padding",()=>b);var n=N("3OJTQ"),r=N("k0igC"),i=N("aFh0N"),a=N("hsAPr");let o={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=(0,a.default)(e=>{if(e.length>2){if(!u[e])return[e];e=u[e]}let[t,n]=e.split(""),r=o[t],i=l[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...d,...h];function p(e,t,n,i){var a;let o=null!=(a=(0,r.getPath)(e,t,!1))?a:n;return"number"==typeof o?e=>"string"==typeof e?e:o*e:Array.isArray(o)?e=>"string"==typeof e?e:o[e]:"function"==typeof o?o:()=>void 0}function m(e){return p(e,"spacing",8,"spacing")}function g(e,t){if("string"==typeof t||null==t)return t;let n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function v(e,t){let r=m(e.theme);return Object.keys(e).map(i=>(function(e,t,r,i){if(-1===t.indexOf(r))return null;let a=c(r),o=e[r];return(0,n.handleBreakpoints)(e,o,e=>a.reduce((t,n)=>(t[n]=g(i,e),t),{}))})(e,t,i,r)).reduce(i.default,{})}function y(e){return v(e,d)}function b(e){return v(e,h)}function _(e){return v(e,f)}y.propTypes={},y.filterProps=d,b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=f}),N.register("3OJTQ",function(e,t){s(e.exports,"values",()=>r),s(e.exports,"handleBreakpoints",()=>a),s(e.exports,"createEmptyBreakpointObject",()=>o),s(e.exports,"removeUnusedBreakpoints",()=>l),s(e.exports,"mergeBreakpointsInOrder",()=>u),s(e.exports,"resolveBreakpointValues",()=>c),N("8nd05");var n=N("17r9Q");N("aFh0N");let r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function a(e,t,n){let a=e.theme||{};if(Array.isArray(t)){let e=a.breakpoints||i;return t.reduce((r,i,a)=>(r[e.up(e.keys[a])]=n(t[a]),r),{})}if("object"==typeof t){let e=a.breakpoints||i;return Object.keys(t).reduce((i,a)=>{if(-1!==Object.keys(e.values||r).indexOf(a)){let r=e.up(a);i[r]=n(t[a],a)}else i[a]=t[a];return i},{})}let o=n(t);return o}function o(e={}){var t;let n=null==(t=e.keys)?void 0:t.reduce((t,n)=>{let r=e.up(n);return t[r]={},t},{});return n||{}}function l(e,t){return e.reduce((e,t)=>{let n=e[t],r=!n||0===Object.keys(n).length;return r&&delete e[t],e},t)}function u(e,...t){let r=o(e),i=[r,...t].reduce((e,t)=>(0,n.default)(e,t),{});return l(Object.keys(r),i)}function c({values:e,breakpoints:t,base:n}){let r;let i=n||function(e,t){if("object"!=typeof e)return{};let n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(e,t),a=Object.keys(i);return 0===a.length?e:a.reduce((t,n,i)=>(Array.isArray(e)?(t[n]=null!=e[i]?e[i]:e[r],r=i):"object"==typeof e?(t[n]=null!=e[n]?e[n]:e[r],r=n):t[n]=e,t),{})}}),N.register("aFh0N",function(e,t){s(e.exports,"default",()=>r);var n=N("17r9Q"),r=function(e,t){return t?(0,n.default)(e,t,{clone:!1}):e}}),N.register("k0igC",function(e,t){s(e.exports,"getPath",()=>i),s(e.exports,"getStyleValue",()=>a),s(e.exports,"default",()=>o);var n=N("gxvzd"),r=N("3OJTQ");function i(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){let n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function a(e,t,n,r=n){let a;return a="function"==typeof e?e(n):Array.isArray(e)?e[n]||r:i(e,n)||r,t&&(a=t(a,r,e)),a}var o=function(e){let{prop:t,cssProperty:o=e.prop,themeKey:s,transform:l}=e,u=e=>{if(null==e[t])return null;let u=e[t],c=e.theme,d=i(c,s)||{};return(0,r.handleBreakpoints)(e,u,e=>{let r=a(d,l,e);return(e===r&&"string"==typeof e&&(r=a(d,l,`${t}${"default"===e?"":(0,n.default)(e)}`,e)),!1===o)?r:{[o]:r}})};return u.propTypes={},u.filterProps=[t],u}}),N.register("hsAPr",function(e,t){s(e.exports,"default",()=>n);function n(e){let t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}}),N.register("9dZwz",function(e,t){s(e.exports,"default",()=>u);var n=N("gxvzd"),r=N("aFh0N"),i=N("k0igC"),a=N("3OJTQ"),o=N("kOOck");let l=function(){function e(e,t,r,o){let s={[e]:t,theme:r},l=o[e];if(!l)return{[e]:t};let{cssProperty:u=e,themeKey:c,transform:d,style:h}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};let f=(0,i.getPath)(r,c)||{};return h?h(s):(0,a.handleBreakpoints)(s,t,t=>{let r=(0,i.getStyleValue)(f,d,t);return(t===r&&"string"==typeof t&&(r=(0,i.getStyleValue)(f,d,`${e}${"default"===t?"":(0,n.default)(t)}`,t)),!1===u)?r:{[u]:r}})}return function t(n){var i;let{sx:s,theme:l={}}=n||{};if(!s)return null;let u=null!=(i=l.unstable_sxConfig)?i:o.default;function c(n){let i=n;if("function"==typeof n)i=n(l);else if("object"!=typeof n)return n;if(!i)return null;let o=(0,a.createEmptyBreakpointObject)(l.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach(n=>{var o;let s="function"==typeof(o=i[n])?o(l):o;if(null!=s){if("object"==typeof s){if(u[n])c=(0,r.default)(c,e(n,s,l,u));else{let e=(0,a.handleBreakpoints)({theme:l},s,e=>({[n]:e}));(function(...e){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]),n=new Set(t);return e.every(e=>n.size===Object.keys(e).length)})(e,s)?c[n]=t({sx:s,theme:l}):c=(0,r.default)(c,e)}}else c=(0,r.default)(c,e(n,s,l,u))}}),(0,a.removeUnusedBreakpoints)(s,c)}return Array.isArray(s)?s.map(c):c(s)}}();l.filterProps=["sx"];var u=l}),N.register("kOOck",function(e,t){s(e.exports,"default",()=>u);var n=N("cKRCq"),r=N("jxD4j"),i=N("nZvud"),a=N("8ru1G"),o=N("imjyU");let l={border:{themeKey:"borders",transform:r.borderTransform},borderTop:{themeKey:"borders",transform:r.borderTransform},borderRight:{themeKey:"borders",transform:r.borderTransform},borderBottom:{themeKey:"borders",transform:r.borderTransform},borderLeft:{themeKey:"borders",transform:r.borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:r.borderRadius},color:{themeKey:"palette",transform:a.paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a.paletteTransform},backgroundColor:{themeKey:"palette",transform:a.paletteTransform},p:{style:n.padding},pt:{style:n.padding},pr:{style:n.padding},pb:{style:n.padding},pl:{style:n.padding},px:{style:n.padding},py:{style:n.padding},padding:{style:n.padding},paddingTop:{style:n.padding},paddingRight:{style:n.padding},paddingBottom:{style:n.padding},paddingLeft:{style:n.padding},paddingX:{style:n.padding},paddingY:{style:n.padding},paddingInline:{style:n.padding},paddingInlineStart:{style:n.padding},paddingInlineEnd:{style:n.padding},paddingBlock:{style:n.padding},paddingBlockStart:{style:n.padding},paddingBlockEnd:{style:n.padding},m:{style:n.margin},mt:{style:n.margin},mr:{style:n.margin},mb:{style:n.margin},ml:{style:n.margin},mx:{style:n.margin},my:{style:n.margin},margin:{style:n.margin},marginTop:{style:n.margin},marginRight:{style:n.margin},marginBottom:{style:n.margin},marginLeft:{style:n.margin},marginX:{style:n.margin},marginY:{style:n.margin},marginInline:{style:n.margin},marginInlineStart:{style:n.margin},marginInlineEnd:{style:n.margin},marginBlock:{style:n.margin},marginBlockStart:{style:n.margin},marginBlockEnd:{style:n.margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:i.gap},rowGap:{style:i.rowGap},columnGap:{style:i.columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:o.sizingTransform},maxWidth:{style:o.maxWidth},minWidth:{transform:o.sizingTransform},height:{transform:o.sizingTransform},maxHeight:{transform:o.sizingTransform},minHeight:{transform:o.sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};var u=l}),N.register("jxD4j",function(e,t){s(e.exports,"borderTransform",()=>o),s(e.exports,"borderRadius",()=>y);var n=N("k0igC"),r=N("gojsU"),i=N("cKRCq"),a=N("3OJTQ");function o(e){return"number"!=typeof e?e:`${e}px solid`}let l=(0,n.default)({prop:"border",themeKey:"borders",transform:o}),u=(0,n.default)({prop:"borderTop",themeKey:"borders",transform:o}),c=(0,n.default)({prop:"borderRight",themeKey:"borders",transform:o}),d=(0,n.default)({prop:"borderBottom",themeKey:"borders",transform:o}),h=(0,n.default)({prop:"borderLeft",themeKey:"borders",transform:o}),f=(0,n.default)({prop:"borderColor",themeKey:"palette"}),p=(0,n.default)({prop:"borderTopColor",themeKey:"palette"}),m=(0,n.default)({prop:"borderRightColor",themeKey:"palette"}),g=(0,n.default)({prop:"borderBottomColor",themeKey:"palette"}),v=(0,n.default)({prop:"borderLeftColor",themeKey:"palette"}),y=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=(0,i.createUnaryUnit)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.handleBreakpoints)(e,e.borderRadius,e=>({borderRadius:(0,i.getValue)(t,e)}))}return null};y.propTypes={},y.filterProps=["borderRadius"],(0,r.default)(l,u,c,d,h,f,p,m,g,v,y)}),N.register("gojsU",function(e,t){s(e.exports,"default",()=>r);var n=N("aFh0N"),r=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),r=e=>Object.keys(e).reduce((r,i)=>t[i]?(0,n.default)(r,t[i](e)):r,{});return r.propTypes={},r.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),r}}),N.register("nZvud",function(e,t){s(e.exports,"gap",()=>o),s(e.exports,"columnGap",()=>l),s(e.exports,"rowGap",()=>u);var n=N("k0igC"),r=N("gojsU"),i=N("cKRCq"),a=N("3OJTQ");let o=e=>{if(void 0!==e.gap&&null!==e.gap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"gap");return(0,a.handleBreakpoints)(e,e.gap,e=>({gap:(0,i.getValue)(t,e)}))}return null};o.propTypes={},o.filterProps=["gap"];let l=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"columnGap");return(0,a.handleBreakpoints)(e,e.columnGap,e=>({columnGap:(0,i.getValue)(t,e)}))}return null};l.propTypes={},l.filterProps=["columnGap"];let u=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"rowGap");return(0,a.handleBreakpoints)(e,e.rowGap,e=>({rowGap:(0,i.getValue)(t,e)}))}return null};u.propTypes={},u.filterProps=["rowGap"];let c=(0,n.default)({prop:"gridColumn"}),d=(0,n.default)({prop:"gridRow"}),h=(0,n.default)({prop:"gridAutoFlow"}),f=(0,n.default)({prop:"gridAutoColumns"}),p=(0,n.default)({prop:"gridAutoRows"}),m=(0,n.default)({prop:"gridTemplateColumns"}),g=(0,n.default)({prop:"gridTemplateRows"}),v=(0,n.default)({prop:"gridTemplateAreas"}),y=(0,n.default)({prop:"gridArea"});(0,r.default)(o,l,u,c,d,h,f,p,m,g,v,y)}),N.register("8ru1G",function(e,t){s(e.exports,"paletteTransform",()=>i);var n=N("k0igC"),r=N("gojsU");function i(e,t){return"grey"===t?t:e}let a=(0,n.default)({prop:"color",themeKey:"palette",transform:i}),o=(0,n.default)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),l=(0,n.default)({prop:"backgroundColor",themeKey:"palette",transform:i});(0,r.default)(a,o,l)}),N.register("imjyU",function(e,t){s(e.exports,"sizingTransform",()=>a),s(e.exports,"maxWidth",()=>l);var n=N("k0igC"),r=N("gojsU"),i=N("3OJTQ");function a(e){return e<=1&&0!==e?`${100*e}%`:e}let o=(0,n.default)({prop:"width",transform:a}),l=e=>void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.handleBreakpoints)(e,e.maxWidth,t=>{var n,r,o;let s=(null==(n=e.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(o=r.values)?void 0:o[t])||i.values[t];return{maxWidth:s||a(t)}}):null;l.filterProps=["maxWidth"];let u=(0,n.default)({prop:"minWidth",transform:a}),c=(0,n.default)({prop:"height",transform:a}),d=(0,n.default)({prop:"maxHeight",transform:a}),h=(0,n.default)({prop:"minHeight",transform:a});(0,n.default)({prop:"size",cssProperty:"width",transform:a}),(0,n.default)({prop:"size",cssProperty:"height",transform:a});let f=(0,n.default)({prop:"boxSizing"});(0,r.default)(o,l,u,c,d,h,f)}),N.register("2HliV",function(e,t){s(e.exports,"default",()=>i);var n=N("acw62");N("8zogs");var r=N("1my5K"),i=function(e=null){let t=n.useContext(r.T);return t&&0!==Object.keys(t).length?t:e}}),N.register("8zogs",function(e,t){s(e.exports,"keyframes",()=>i),s(e.exports,"ThemeContext",()=>N("1my5K").T),s(e.exports,"withEmotionCache",()=>N("1my5K").w),N("1my5K"),N("acw62"),N("2Hahg"),N("2cQcJ");var n=N("cqnxX");function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.serializeStyles)(t)}N("lDTld"),N("3p9rK"),N("iq6RI"),N("9ORqK");var i=function(){var e=r.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}}),N.register("1my5K",function(e,t){s(e.exports,"i",()=>l),s(e.exports,"h",()=>u),s(e.exports,"w",()=>d),s(e.exports,"T",()=>h),s(e.exports,"c",()=>p),s(e.exports,"E",()=>g);var n=N("acw62"),r=N("lDTld");N("8nd05"),N("iq6RI"),N("kKN31");var i=N("2Hahg"),a=N("cqnxX"),o=N("2cQcJ"),l=!0,u={}.hasOwnProperty,c=n.createContext("undefined"!=typeof HTMLElement?(0,r.default)({key:"css"}):null);c.Provider;var d=function(e){return(0,n.forwardRef)(function(t,r){return e(t,(0,n.useContext)(c),r)})};l||(d=function(e){return function(t){var i=(0,n.useContext)(c);return null===i?(i=(0,r.default)({key:"css"}),n.createElement(c.Provider,{value:i},e(t,i))):e(t,i)}});var h=n.createContext({}),f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);return n[f]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.registerStyles)(t,n,r),(0,o.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,i.insertStyles)(t,n,r)}),null},g=d(function(e,t,r){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[f],l=[o],c="";"string"==typeof e.className?c=(0,i.getRegisteredStyles)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var d=(0,a.serializeStyles)(l,void 0,n.useContext(h));c+=t.key+"-"+d.name;var p={};for(var g in e)u.call(e,g)&&"css"!==g&&g!==f&&(p[g]=e[g]);return p.ref=r,p.className=c,n.createElement(n.Fragment,null,n.createElement(m,{cache:t,serialized:d,isStringTag:"string"==typeof s}),n.createElement(s,p))})}),N.register("lDTld",function(e,t){s(e.exports,"default",()=>d);var n=N("jmsCu"),r=N("fm8kz");N("iq6RI"),N("9ffXE");var i=function(e,t,n){for(var i=0,a=0;i=a,a=(0,r.peek)(),38===i&&12===a&&(t[n]=1),!(0,r.token)(a);)(0,r.next)();return(0,r.slice)(e,r.position)},a=function(e,t){var n=-1,a=44;do switch((0,r.token)(a)){case 0:38===a&&12===(0,r.peek)()&&(t[n]=1),e[n]+=i(r.position-1,t,n);break;case 2:e[n]+=(0,r.delimit)(a);break;case 4:if(44===a){e[++n]=58===(0,r.peek)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=(0,r.from)(a)}while(a=(0,r.next)())return e},o=new WeakMap,l=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||o.get(n))&&!i){o.set(e,!0);for(var s=[],l=(0,r.dealloc)(a((0,r.alloc)(t),s)),u=n.props,c=0,d=0;c<l.length;c++)for(var h=0;h<u.length;h++,d++)e.props[d]=s[c]?l[c].replace(/&\f/g,u[h]):u[h]+" "+l[c]}}},u=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},c=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case r.DECLARATION:e.return=function e(t,n){switch((0,r.hash)(t,n)){case 5103:return r.WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return r.WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return r.WEBKIT+t+r.MOZ+t+r.MS+t+t;case 6828:case 4268:return r.WEBKIT+t+r.MS+t+t;case 6165:return r.WEBKIT+t+r.MS+"flex-"+t+t;case 5187:return r.WEBKIT+t+(0,r.replace)(t,/(\w+).+(:[^]+)/,r.WEBKIT+"box-$1$2"+r.MS+"flex-$1$2")+t;case 5443:return r.WEBKIT+t+r.MS+"flex-item-"+(0,r.replace)(t,/flex-|-self/,"")+t;case 4675:return r.WEBKIT+t+r.MS+"flex-line-pack"+(0,r.replace)(t,/align-content|flex-|-self/,"")+t;case 5548:return r.WEBKIT+t+r.MS+(0,r.replace)(t,"shrink","negative")+t;case 5292:return r.WEBKIT+t+r.MS+(0,r.replace)(t,"basis","preferred-size")+t;case 6060:return r.WEBKIT+"box-"+(0,r.replace)(t,"-grow","")+r.WEBKIT+t+r.MS+(0,r.replace)(t,"grow","positive")+t;case 4554:return r.WEBKIT+(0,r.replace)(t,/([^-])(transform)/g,"$1"+r.WEBKIT+"$2")+t;case 6187:return(0,r.replace)((0,r.replace)((0,r.replace)(t,/(zoom-|grab)/,r.WEBKIT+"$1"),/(image-set)/,r.WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return(0,r.replace)(t,/(image-set\([^]*)/,r.WEBKIT+"$1$`$1");case 4968:return(0,r.replace)((0,r.replace)(t,/(.+:)(flex-)?(.*)/,r.WEBKIT+"box-pack:$3"+r.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+r.WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return(0,r.replace)(t,/(.+)-inline(.+)/,r.WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,r.strlen)(t)-1-n>6)switch((0,r.charat)(t,n+1)){case 109:if(45!==(0,r.charat)(t,n+4))break;case 102:return(0,r.replace)(t,/(.+:)(.+)-([^]+)/,"$1"+r.WEBKIT+"$2-$3$1"+r.MOZ+(108==(0,r.charat)(t,n+3)?"$3":"$2-$3"))+t;case 115:return~(0,r.indexof)(t,"stretch")?e((0,r.replace)(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==(0,r.charat)(t,n+1))break;case 6444:switch((0,r.charat)(t,(0,r.strlen)(t)-3-(~(0,r.indexof)(t,"!important")&&10))){case 107:return(0,r.replace)(t,":",":"+r.WEBKIT)+t;case 101:return(0,r.replace)(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+r.WEBKIT+(45===(0,r.charat)(t,14)?"inline-":"")+"box$3$1"+r.WEBKIT+"$2$3$1"+r.MS+"$2box$3")+t}break;case 5936:switch((0,r.charat)(t,n+11)){case 114:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return r.WEBKIT+t+r.MS+t+t}return t}(e.value,e.length);break;case r.KEYFRAMES:return(0,r.serialize)([(0,r.copy)(e,{value:(0,r.replace)(e.value,"@","@"+r.WEBKIT)})],i);case r.RULESET:if(e.length)return(0,r.combine)(e.props,function(t){switch((0,r.match)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,r.serialize)([(0,r.copy)(e,{props:[(0,r.replace)(t,/:(read-\w+)/,":"+r.MOZ+"$1")]})],i);case"::placeholder":return(0,r.serialize)([(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,":"+r.WEBKIT+"input-$1")]}),(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,":"+r.MOZ+"$1")]}),(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,r.MS+"input-$1")]})],i)}return""})}}],d=function(e){var t,i,a=e.key;if("css"===a){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var s=e.stylisPlugins||c,d={},h=[];t=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)d[t[n]]=!0;h.push(e)});var f=[r.stringify,(0,r.rulesheet)(function(e){i.insert(e)})],p=(0,r.middleware)([l,u].concat(s,f)),m={key:a,sheet:new n.StyleSheet({key:a,container:t,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:d,registered:{},insert:function(e,t,n,a){var o;i=n,o=e?e+"{"+t.styles+"}":t.styles,(0,r.serialize)((0,r.compile)(o),p),a&&(m.inserted[t.name]=!0)}};return m.sheet.hydrate(h),m}}),N.register("jmsCu",function(e,t){s(e.exports,"StyleSheet",()=>n);var n=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t;this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t))}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}()}),N.register("fm8kz",function(e,t){s(e.exports,"MS",()=>n),s(e.exports,"MOZ",()=>r),s(e.exports,"WEBKIT",()=>i),s(e.exports,"RULESET",()=>o),s(e.exports,"DECLARATION",()=>l),s(e.exports,"KEYFRAMES",()=>u),s(e.exports,"from",()=>d),s(e.exports,"hash",()=>f),s(e.exports,"charat",()=>v),s(e.exports,"match",()=>p),s(e.exports,"replace",()=>m),s(e.exports,"indexof",()=>g),s(e.exports,"strlen",()=>b),s(e.exports,"combine",()=>x),s(e.exports,"position",()=>M),s(e.exports,"copy",()=>A),s(e.exports,"next",()=>R),s(e.exports,"peek",()=>O),s(e.exports,"slice",()=>k),s(e.exports,"token",()=>L),s(e.exports,"alloc",()=>N),s(e.exports,"dealloc",()=>I),s(e.exports,"delimit",()=>D),s(e.exports,"compile",()=>U),s(e.exports,"serialize",()=>j),s(e.exports,"stringify",()=>B),s(e.exports,"middleware",()=>V),s(e.exports,"rulesheet",()=>G);var n="-ms-",r="-moz-",i="-webkit-",a="comm",o="rule",l="decl",u="@keyframes",c=Math.abs,d=String.fromCharCode,h=Object.assign;function f(e,t){return 45^v(e,0)?(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3):0}function p(e,t){return(e=t.exec(e))?e[0]:e}function m(e,t,n){return e.replace(t,n)}function g(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function y(e,t,n){return e.slice(t,n)}function b(e){return e.length}function _(e,t){return t.push(e),e}function x(e,t){return e.map(t).join("")}var S=1,w=1,E=0,M=0,T=0,C="";function P(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:S,column:w,length:o,return:""}}function A(e,t){return h(P("",null,null,"",null,null,0),e,{length:-e.length},t)}function R(){return T=M<E?v(C,M++):0,w++,10===T&&(w=1,S++),T}function O(){return v(C,M)}function k(e,t){return y(C,e,t)}function L(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return S=w=1,E=b(C=e),M=0,[]}function I(e){return C="",e}function D(e){return k(M-1,function e(t){for(;R();)switch(T){case t:return M;case 34:case 39:34!==t&&39!==t&&e(T);break;case 40:41===t&&e(t);break;case 92:R()}return M}(91===e?e+2:40===e?e+1:e)).trim()}function U(e){return I(function e(t,n,r,i,o,s,l,u,c){for(var h,f=0,p=0,x=l,E=0,A=0,N=0,I=1,U=1,j=1,B=0,V="",G=o,H=s,W=i,X=V;U;)switch(N=B,B=R()){case 40:if(108!=N&&58==v(X,x-1)){-1!=g(X+=m(D(B),"&","&\f"),"&\f")&&(j=-1);break}case 34:case 39:case 91:X+=D(B);break;case 9:case 10:case 13:case 32:X+=function(e){for(;T=O();)if(T<33)R();else break;return L(e)>2||L(T)>3?"":" "}(N);break;case 92:X+=function(e,t){for(;--t&&R()&&!(T<48)&&!(T>102)&&(!(T>57)||!(T<65))&&(!(T>70)||!(T<97)););return k(e,M+(t<6&&32==O()&&32==R()))}(M-1,7);continue;case 47:switch(O()){case 42:case 47:_(P(h=function(e,t){for(;R();)if(e+T===57)break;else if(e+T===84&&47===O())break;return"/*"+k(t,M-1)+"*"+d(47===e?e:R())}(R(),M),n,r,a,d(T),y(h,2,-2),0),c);break;default:X+="/"}break;case 123*I:u[f++]=b(X)*j;case 125*I:case 59:case 0:switch(B){case 0:case 125:U=0;case 59+p:-1==j&&(X=m(X,/\f/g,"")),A>0&&b(X)-x&&_(A>32?F(X+";",i,r,x-1):F(m(X," ","")+";",i,r,x-2),c);break;case 59:X+=";";default:if(_(W=z(X,n,r,f,p,o,u,V,G=[],H=[],x),s),123===B){if(0===p)e(X,n,W,W,G,s,x,u,H);else switch(99===E&&110===v(X,3)?100:E){case 100:case 108:case 109:case 115:e(t,W,W,i&&_(z(t,W,W,0,0,o,u,V,o,G=[],x),H),o,H,x,u,i?G:H);break;default:e(X,W,W,W,[""],H,0,u,H)}}}f=p=A=0,I=j=1,V=X="",x=l;break;case 58:x=1+b(X),A=N;default:if(I<1){if(123==B)--I;else if(125==B&&0==I++&&125==(T=M>0?v(C,--M):0,w--,10===T&&(w=1,S--),T))continue}switch(X+=d(B),B*I){case 38:j=p>0?1:(X+="\f",-1);break;case 44:u[f++]=(b(X)-1)*j,j=1;break;case 64:45===O()&&(X+=D(R())),E=O(),p=x=b(V=X+=function(e){for(;!L(O());)R();return k(e,M)}(M)),B++;break;case 45:45===N&&2==b(X)&&(I=0)}}return s}("",null,null,null,[""],e=N(e),0,[0],e))}function z(e,t,n,r,i,a,s,l,u,d,h){for(var f=i-1,p=0===i?a:[""],g=p.length,v=0,b=0,_=0;v<r;++v)for(var x=0,S=y(e,f+1,f=c(b=s[v])),w=e;x<g;++x)(w=(b>0?p[x]+" "+S:m(S,/&\f/g,p[x])).trim())&&(u[_++]=w);return P(e,t,n,0===i?o:l,u,d,h)}function F(e,t,n,r){return P(e,t,n,l,y(e,0,r),y(e,r+1,-1),r)}function j(e,t){for(var n="",r=e.length,i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function B(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case l:return e.return=e.return||e.value;case a:return"";case u:return e.return=e.value+"{"+j(e.children,r)+"}";case o:e.value=e.props.join(",")}return b(n=j(e.children,r))?e.return=e.value+"{"+n+"}":""}function V(e){var t=e.length;return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function G(e){return function(t){!t.root&&(t=t.return)&&e(t)}}}),N.register("iq6RI",function(e,t){s(e.exports,"default",()=>n);var n=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}}),N.register("9ffXE",function(e,t){s(e.exports,"default",()=>n);function n(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}),N.register("kKN31",function(e,t){s(e.exports,"default",()=>r);var n=N("9ORqK"),r=function(e,t){return O(n)(e,t)}}),N.register("9ORqK",function(e,t){"use strict";var n=N("2qzd6"),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var a=h(n);a&&a!==f&&e(t,a,r)}var o=u(n);c&&(o=o.concat(c(n)));for(var p=s(t),m=s(n),g=0;g<o.length;++g){var v=o[g];if(!i[v]&&!(r&&r[v])&&!(m&&m[v])&&!(p&&p[v])){var y=d(n,v);try{l(t,v,y)}catch(e){}}}}return t}}),N.register("2qzd6",function(e,t){"use strict";e.exports=N("dNL7g")}),N.register("2Hahg",function(e,t){function n(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}s(e.exports,"getRegisteredStyles",()=>n),s(e.exports,"registerStyles",()=>r),s(e.exports,"insertStyles",()=>i);var r=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){r(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do e.insert(t===a?"."+i:"",a,e.sheet,!0),a=a.next;while(void 0!==a)}}}),N.register("cqnxX",function(e,t){s(e.exports,"serializeStyles",()=>m);var n,r=N("4EiWM"),i=N("cEIH4"),a=N("9ffXE"),o=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},d=(0,a.default)(function(e){return u(e)?e:e.replace(o,"-$&").toLowerCase()}),h=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(l,function(e,t,r){return n={name:t,styles:r,next:n},t})}return 1===i.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return n={name:r.name,styles:r.styles,next:n},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)n={name:i.name,styles:i.styles,next:n},i=i.next;return r.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=d(a)+":"+h(a,o)+";");else if(Array.isArray(o)&&"string"==typeof o[0]&&(null==t||void 0===t[o[0]]))for(var s=0;s<o.length;s++)c(o[s])&&(r+=d(a)+":"+h(a,o[s])+";");else{var l=f(e,t,o);switch(a){case"animation":case"animationName":r+=d(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}}return r}(e,t,r);case"function":if(void 0!==e){var a=n,o=r(e);return n=a,f(e,t,o)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var p=/label:\s*([^\s;\n{]+)\s*(;|$)/g,m=function(e,t,i){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a,o=!0,s="";n=void 0;var l=e[0];null==l||void 0===l.raw?(o=!1,s+=f(i,t,l)):s+=l[0];for(var u=1;u<e.length;u++)s+=f(i,t,e[u]),o&&(s+=l[u]);p.lastIndex=0;for(var c="";null!==(a=p.exec(s));)c+="-"+a[1];return{name:(0,r.default)(s)+c,styles:s,next:n}}}),N.register("4EiWM",function(e,t){s(e.exports,"default",()=>n);function n(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}}),N.register("cEIH4",function(e,t){s(e.exports,"default",()=>n);var n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}),N.register("2cQcJ",function(e,t){s(e.exports,"useInsertionEffectAlwaysWithSyncFallback",()=>i),s(e.exports,"useInsertionEffectWithLayoutFallback",()=>a);var n=N("acw62"),r=!!n.useInsertionEffect&&n.useInsertionEffect,i=r||function(e){return e()},a=r||n.useLayoutEffect}),N.register("3p9rK",function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),N.register("jR9F1",function(e,t){s(e.exports,"default",()=>i);var n=N("ijOKP");let r=(0,n.default)();var i=r}),N.register("ijOKP",function(e,t){s(e.exports,"default",()=>v);var n=N("8nd05"),r=N("1En50"),i=N("17r9Q"),a=N("bUPtf"),o=N("6o2lr"),l=N("kOOck"),u=N("9dZwz"),c=N("6plKN"),d=N("4Gk6P"),h=N("d6q8u"),f=N("jtCFx"),p=N("bmoVh"),m=N("lhXgK");let g=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];var v=function(e={},...t){let{mixins:s={},palette:v={},transitions:y={},typography:b={}}=e,_=(0,r.default)(e,g);if(e.vars)throw Error((0,a.default)(18));let x=(0,d.default)(v),S=(0,o.default)(e),w=(0,i.default)(S,{mixins:(0,c.default)(S.breakpoints,s),palette:x,shadows:(0,f.default).slice(),typography:(0,h.default)(x,b),transitions:(0,p.default)(y),zIndex:(0,n.default)({},m.default)});return w=(0,i.default)(w,_),(w=t.reduce((e,t)=>(0,i.default)(e,t),w)).unstable_sxConfig=(0,n.default)({},l.default,null==_?void 0:_.unstable_sxConfig),w.unstable_sx=function(e){return(0,u.default)({sx:e,theme:this})},w}}),N.register("6plKN",function(e,t){s(e.exports,"default",()=>r);var n=N("8nd05");function r(e,t){return(0,n.default)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}}),N.register("4Gk6P",function(e,t){s(e.exports,"default",()=>_);var n=N("8nd05"),r=N("1En50"),i=N("17r9Q"),a=N("bUPtf"),o=N("jgarO"),l=N("dzxhF"),u=N("eU5ou"),c=N("kSXRh"),d=N("ln9F4"),h=N("dMYym"),f=N("bKnBV"),p=N("iDVue"),m=N("e4nxq");let g=["mode","contrastThreshold","tonalOffset"],v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.default.white,default:l.default.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},y={text:{primary:l.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:l.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b(e,t,n,r){let i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,o.lighten)(e.main,i):"dark"===t&&(e.dark=(0,o.darken)(e.main,a)))}function _(e){let{mode:t="light",contrastThreshold:s=3,tonalOffset:_=.2}=e,x=(0,r.default)(e,g),S=e.primary||function(e="light"){return"dark"===e?{main:f.default[200],light:f.default[50],dark:f.default[400]}:{main:f.default[700],light:f.default[400],dark:f.default[800]}}(t),w=e.secondary||function(e="light"){return"dark"===e?{main:c.default[200],light:c.default[50],dark:c.default[400]}:{main:c.default[500],light:c.default[300],dark:c.default[700]}}(t),E=e.error||function(e="light"){return"dark"===e?{main:d.default[500],light:d.default[300],dark:d.default[700]}:{main:d.default[700],light:d.default[400],dark:d.default[800]}}(t),M=e.info||function(e="light"){return"dark"===e?{main:p.default[400],light:p.default[300],dark:p.default[700]}:{main:p.default[700],light:p.default[500],dark:p.default[900]}}(t),T=e.success||function(e="light"){return"dark"===e?{main:m.default[400],light:m.default[300],dark:m.default[700]}:{main:m.default[800],light:m.default[500],dark:m.default[900]}}(t),C=e.warning||function(e="light"){return"dark"===e?{main:h.default[400],light:h.default[300],dark:h.default[700]}:{main:"#ed6c02",light:h.default[500],dark:h.default[900]}}(t);function P(e){let t=(0,o.getContrastRatio)(e,y.text.primary)>=s?y.text.primary:v.text.primary;return t}let A=({color:e,name:t,mainShade:r=500,lightShade:i=300,darkShade:o=700})=>{if(!(e=(0,n.default)({},e)).main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw Error((0,a.default)(11,t?` (${t})`:"",r));if("string"!=typeof e.main)throw Error((0,a.default)(12,t?` (${t})`:"",JSON.stringify(e.main)));return b(e,"light",i,_),b(e,"dark",o,_),e.contrastText||(e.contrastText=P(e.main)),e},R=(0,i.default)((0,n.default)({common:(0,n.default)({},l.default),mode:t,primary:A({color:S,name:"primary"}),secondary:A({color:w,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:E,name:"error"}),warning:A({color:C,name:"warning"}),info:A({color:M,name:"info"}),success:A({color:T,name:"success"}),grey:u.default,contrastThreshold:s,getContrastText:P,augmentColor:A,tonalOffset:_},{dark:y,light:v}[t]),x);return R}}),N.register("jgarO",function(e,t){s(e.exports,"getContrastRatio",()=>l),s(e.exports,"alpha",()=>u),s(e.exports,"darken",()=>c),s(e.exports,"lighten",()=>d);var n=N("bUPtf");function r(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function i(e){let t;if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);let t=RegExp(`.{1,${e.length>=6?2:1}}`,"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));let r=e.indexOf("("),a=e.substring(0,r);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(a))throw Error((0,n.default)(9,e));let o=e.substring(r+1,e.length-1);if("color"===a){if(t=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(t))throw Error((0,n.default)(10,t))}else o=o.split(",");return{type:a,values:o=o.map(e=>parseFloat(e)),colorSpace:t}}function a(e){let{type:t,colorSpace:n}=e,{values:r}=e;return -1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),`${t}(${r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`})`}function o(e){let t="hsl"===(e=i(e)).type||"hsla"===e.type?i(function(e){e=i(e);let{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,s=r*Math.min(o,1-o),l=(e,t=(e+n/30)%12)=>o-s*Math.max(Math.min(t-3,9-t,1),-1),u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return Number((.2126*(t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)))[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){let n=o(e),r=o(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=i(e),t=r(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,a(e)}function c(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}}),N.register("dzxhF",function(e,t){s(e.exports,"default",()=>n);var n={black:"#000",white:"#fff"}}),N.register("eU5ou",function(e,t){s(e.exports,"default",()=>n);var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}}),N.register("kSXRh",function(e,t){s(e.exports,"default",()=>n);var n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}}),N.register("ln9F4",function(e,t){s(e.exports,"default",()=>n);var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}}),N.register("dMYym",function(e,t){s(e.exports,"default",()=>n);var n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}}),N.register("bKnBV",function(e,t){s(e.exports,"default",()=>n);var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}}),N.register("iDVue",function(e,t){s(e.exports,"default",()=>n);var n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}}),N.register("e4nxq",function(e,t){s(e.exports,"default",()=>n);var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}}),N.register("d6q8u",function(e,t){s(e.exports,"default",()=>u);var n=N("8nd05"),r=N("1En50"),i=N("17r9Q");let a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],o={textTransform:"uppercase"},l='"Roboto", "Helvetica", "Arial", sans-serif';function u(e,t){let s="function"==typeof t?t(e):t,{fontFamily:u=l,fontSize:c=14,fontWeightLight:d=300,fontWeightRegular:h=400,fontWeightMedium:f=500,fontWeightBold:p=700,htmlFontSize:m=16,allVariants:g,pxToRem:v}=s,y=(0,r.default)(s,a),b=c/14,_=v||(e=>`${e/m*b}rem`),x=(e,t,r,i,a)=>(0,n.default)({fontFamily:u,fontWeight:e,fontSize:_(t),lineHeight:r},u===l?{letterSpacing:`${Math.round(1e5*(i/t))/1e5}em`}:{},a,g),S={h1:x(d,96,1.167,-1.5),h2:x(d,60,1.2,-.5),h3:x(h,48,1.167,0),h4:x(h,34,1.235,.25),h5:x(h,24,1.334,0),h6:x(f,20,1.6,.15),subtitle1:x(h,16,1.75,.15),subtitle2:x(f,14,1.57,.1),body1:x(h,16,1.5,.15),body2:x(h,14,1.43,.15),button:x(f,14,1.75,.4,o),caption:x(h,12,1.66,.4),overline:x(h,12,2.66,1,o),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,i.default)((0,n.default)({htmlFontSize:m,pxToRem:_,fontFamily:u,fontSize:c,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:f,fontWeightBold:p},S),y,{clone:!1})}}),N.register("jtCFx",function(e,t){function n(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}s(e.exports,"default",()=>i);let r=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];var i=r}),N.register("bmoVh",function(e,t){s(e.exports,"default",()=>c);var n=N("1En50"),r=N("8nd05");let i=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function u(e){if(!e)return 0;let t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function c(e){let t=(0,r.default)({},a,e.easing),s=(0,r.default)({},o,e.duration);return(0,r.default)({getAutoHeightDuration:u,create:(e=["all"],r={})=>{let{duration:a=s.standard,easing:o=t.easeInOut,delay:u=0}=r;return(0,n.default)(r,i),(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof a?a:l(a)} ${o} ${"string"==typeof u?u:l(u)}`).join(",")}},e,{easing:t,duration:s})}}),N.register("lhXgK",function(e,t){s(e.exports,"default",()=>n);var n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}}),N.register("4jPsi",function(e,t){s(e.exports,"default",()=>n);var n="$$material"}),N.register("d8seH",function(e,t){s(e.exports,"rootShouldForwardProp",()=>a),s(e.exports,"slotShouldForwardProp",()=>o),s(e.exports,"default",()=>u);var n=N("dNfBQ"),r=N("jR9F1"),i=N("4jPsi");let a=e=>(0,n.shouldForwardProp)(e)&&"classes"!==e,o=n.shouldForwardProp,l=(0,n.default)({themeId:i.default,defaultTheme:r.default,rootShouldForwardProp:a});var u=l}),N.register("dNfBQ",function(e,t){s(e.exports,"shouldForwardProp",()=>f),s(e.exports,"default",()=>g);var n=N("1En50"),r=N("8nd05"),i=N("bOOlK"),a=N("6o2lr"),o=N("2OihT"),l=N("9dZwz");let u=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],c=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,d=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);let r={};return n.forEach(e=>{let t=(0,o.default)(e.props);r[t]=e.style}),r},h=(e,t,n,r)=>{var i,a;let{ownerState:s={}}=e,l=[],u=null==n?void 0:null==(i=n.components)?void 0:null==(a=i[r])?void 0:a.variants;return u&&u.forEach(n=>{let r=!0;Object.keys(n.props).forEach(t=>{s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}),r&&l.push(t[(0,o.default)(n.props)])}),l};function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}let p=(0,a.default)();function m({defaultTheme:e,theme:t,themeId:n}){return 0===Object.keys(t).length?e:t[n]||t}function g(e={}){let{themeId:t,defaultTheme:a=p,rootShouldForwardProp:o=f,slotShouldForwardProp:s=f}=e,g=e=>(0,l.default)((0,r.default)({},e,{theme:m((0,r.default)({},e,{defaultTheme:a,themeId:t}))}));return g.__mui_systemSx=!0,(e,l={})=>{let p;(0,i.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:v,slot:y,skipVariantsResolver:b,skipSx:_,overridesResolver:x}=l,S=(0,n.default)(l,u),w=void 0!==b?b:y&&"Root"!==y||!1,E=_||!1,M=f;"Root"===y?M=o:y?M=s:"string"==typeof e&&e.charCodeAt(0)>96&&(M=void 0);let T=(0,i.default)(e,(0,r.default)({shouldForwardProp:M,label:p},S)),C=(n,...i)=>{let o=i?i.map(e=>"function"==typeof e&&e.__emotion_real!==e?n=>e((0,r.default)({},n,{theme:m((0,r.default)({},n,{defaultTheme:a,themeId:t}))})):e):[],s=n;v&&x&&o.push(e=>{let n=m((0,r.default)({},e,{defaultTheme:a,themeId:t})),i=c(v,n);if(i){let t={};return Object.entries(i).forEach(([i,a])=>{t[i]="function"==typeof a?a((0,r.default)({},e,{theme:n})):a}),x(e,t)}return null}),v&&!w&&o.push(e=>{let n=m((0,r.default)({},e,{defaultTheme:a,themeId:t}));return h(e,d(v,n),n,v)}),E||o.push(g);let l=o.length-i.length;if(Array.isArray(n)&&l>0){let e=Array(l).fill("");(s=[...n,...e]).raw=[...n.raw,...e]}else"function"==typeof n&&n.__emotion_real!==n&&(s=e=>n((0,r.default)({},e,{theme:m((0,r.default)({},e,{defaultTheme:a,themeId:t}))})));let u=T(s,...o);return e.muiName&&(u.muiName=e.muiName),u};return T.withConfig&&(C.withConfig=T.withConfig),C}}}),N.register("bOOlK",function(e,t){s(e.exports,"default",()=>r),s(e.exports,"internal_processStyles",()=>i);var n=N("1Bnx5");function r(e,t){let r=(0,n.default)(e,t);return r}N("8zogs"),N("1my5K"),N("8zogs");let i=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}}),N.register("1Bnx5",function(e,t){s(e.exports,"default",()=>r);var n=N("8jRlF");N("3p9rK"),N("acw62"),N("gd942"),N("2Hahg"),N("cqnxX"),N("2cQcJ");var r=(0,n.default).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){r[e]=r(e)})}),N.register("8jRlF",function(e,t){s(e.exports,"default",()=>m);var n=N("8nd05"),r=N("acw62"),i=N("gd942");N("8zogs");var a=N("1my5K"),o=N("2Hahg"),l=N("cqnxX"),u=N("2cQcJ"),c=i.default,d=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?c:d},f=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},p=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,o.registerStyles)(t,n,r),(0,u.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,o.insertStyles)(t,n,r)}),null},m=function e(t,i){var s,u,c=t.__emotion_real===t,d=c&&t.__emotion_base||t;void 0!==i&&(s=i.label,u=i.target);var m=f(t,i,c),g=m||h(d),v=!g("as");return function(){var y=arguments,b=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{b.push(y[0][0]);for(var _=y.length,x=1;x<_;x++)b.push(y[x],y[0][x])}var S=(0,a.w)(function(e,t,n){var i=v&&e.as||d,s="",c=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=r.useContext(a.T)}"string"==typeof e.className?s=(0,o.getRegisteredStyles)(t.registered,c,e.className):null!=e.className&&(s=e.className+" ");var _=(0,l.serializeStyles)(b.concat(c),t.registered,f);s+=t.key+"-"+_.name,void 0!==u&&(s+=" "+u);var x=v&&void 0===m?h(i):g,S={};for(var w in e)(!v||"as"!==w)&&x(w)&&(S[w]=e[w]);return S.className=s,S.ref=n,r.createElement(r.Fragment,null,r.createElement(p,{cache:t,serialized:_,isStringTag:"string"==typeof i}),r.createElement(i,S))});return S.displayName=void 0!==s?s:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=m,Object.defineProperty(S,"toString",{value:function(){return"."+u}}),S.withComponent=function(t,r){return e(t,(0,n.default)({},i,r,{shouldForwardProp:f(S,r,!0)})).apply(void 0,b)},S}}}),N.register("gd942",function(e,t){s(e.exports,"default",()=>i);var n=N("9ffXE"),r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=(0,n.default)(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)})}),N.register("2OihT",function(e,t){s(e.exports,"default",()=>o);var n=N("1En50"),r=N("gxvzd");let i=["variant"];function a(e){return 0===e.length}function o(e){let{variant:t}=e,o=(0,n.default)(e,i),s=t||"";return Object.keys(o).sort().forEach(t=>{"color"===t?s+=a(s)?e[t]:(0,r.default)(e[t]):s+=`${a(s)?t:(0,r.default)(t)}${(0,r.default)(e[t].toString())}`}),s}}),N.register("aiIP4",function(e,t){s(e.exports,"getSvgIconUtilityClass",()=>i);var n=N("beCSm"),r=N("4Cod0");function i(e){return(0,r.default)("MuiSvgIcon",e)}(0,n.default)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"])}),N.register("beCSm",function(e,t){s(e.exports,"default",()=>r);var n=N("4Cod0");function r(e,t,r="Mui"){let i={};return t.forEach(t=>{i[t]=(0,n.default)(e,t,r)}),i}}),N.register("4Cod0",function(e,t){s(e.exports,"default",()=>i);var n=N("bnost");let r={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function i(e,t,i="Mui"){let a=r[t];return a?`${i}-${a}`:`${(0,n.default).generate(e)}-${t}`}}),N.register("bnost",function(e,t){let n;s(e.exports,"default",()=>a);let r=e=>e,i=(n=r,{configure(e){n=e},generate:e=>n(e),reset(){n=r}});var a=i}),N.register("ayMG0",function(e,t){"use strict";e.exports=N("1b2ls")}),N.register("9cCWX",function(e,t){"use strict";s(e.exports,"ContextConsumer",()=>n,e=>n=e),s(e.exports,"ContextProvider",()=>r,e=>r=e),s(e.exports,"Element",()=>i,e=>i=e),s(e.exports,"ForwardRef",()=>a,e=>a=e),s(e.exports,"Fragment",()=>o,e=>o=e),s(e.exports,"Lazy",()=>l,e=>l=e),s(e.exports,"Memo",()=>u,e=>u=e),s(e.exports,"Portal",()=>c,e=>c=e),s(e.exports,"Profiler",()=>d,e=>d=e),s(e.exports,"StrictMode",()=>h,e=>h=e),s(e.exports,"Suspense",()=>f,e=>f=e),s(e.exports,"SuspenseList",()=>p,e=>p=e),s(e.exports,"isAsyncMode",()=>m,e=>m=e),s(e.exports,"isConcurrentMode",()=>g,e=>g=e),s(e.exports,"isContextConsumer",()=>v,e=>v=e),s(e.exports,"isContextProvider",()=>y,e=>y=e),s(e.exports,"isElement",()=>b,e=>b=e),s(e.exports,"isForwardRef",()=>_,e=>_=e),s(e.exports,"isFragment",()=>x,e=>x=e),s(e.exports,"isLazy",()=>S,e=>S=e),s(e.exports,"isMemo",()=>w,e=>w=e),s(e.exports,"isPortal",()=>E,e=>E=e),s(e.exports,"isProfiler",()=>M,e=>M=e),s(e.exports,"isStrictMode",()=>T,e=>T=e),s(e.exports,"isSuspense",()=>C,e=>C=e),s(e.exports,"isSuspenseList",()=>P,e=>P=e),s(e.exports,"isValidElementType",()=>A,e=>A=e),s(e.exports,"typeOf",()=>R,e=>R=e);var n,r,i,a,o,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T,C,P,A,R,O,k=Symbol.for("react.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),z=Symbol.for("react.context"),F=Symbol.for("react.server_context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen");function X(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case k:switch(e=e.type){case N:case D:case I:case B:case V:return e;default:switch(e=e&&e.$$typeof){case F:case z:case j:case H:case G:case U:return e;default:return t}}case L:return t}}}O=Symbol.for("react.module.reference"),n=z,r=U,i=k,a=j,o=N,l=H,u=G,c=L,d=D,h=I,f=B,p=V,m=function(){return!1},g=function(){return!1},v=function(e){return X(e)===z},y=function(e){return X(e)===U},b=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===k},_=function(e){return X(e)===j},x=function(e){return X(e)===N},S=function(e){return X(e)===H},w=function(e){return X(e)===G},E=function(e){return X(e)===L},M=function(e){return X(e)===D},T=function(e){return X(e)===I},C=function(e){return X(e)===B},P=function(e){return X(e)===V},A=function(e){return"string"==typeof e||"function"==typeof e||e===N||e===D||e===I||e===B||e===V||e===W||"object"==typeof e&&null!==e&&(e.$$typeof===H||e.$$typeof===G||e.$$typeof===U||e.$$typeof===z||e.$$typeof===j||e.$$typeof===O||void 0!==e.getModuleId)},R=X}),N.register("8RuUj",function(e,t){e.exports=function(e){"use strict";var t,n,r,i,a,o={},s=N("acw62"),l=N("fO90s"),u=Object.assign;function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case f:return"Portal";case g:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case y:return(e.displayName||"Context")+".Consumer";case v:return(e._context.displayName||"Context")+".Provider";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return C(e(t))}catch(e){}}return null}function P(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function A(e){if(P(e)!==e)throw Error(c(188))}function R(e){var t=e.alternate;if(!t){if(null===(t=P(e)))throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return A(i),e;if(a===r)return A(i),t;a=a.sibling}throw Error(c(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(3!==n.tag)throw Error(c(188));return n.stateNode.current===n?e:t}function O(e){return null!==(e=R(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var k,L=Array.isArray,I=e.getPublicInstance,D=e.getRootHostContext,U=e.getChildHostContext,z=e.prepareForCommit,F=e.resetAfterCommit,j=e.createInstance,B=e.appendInitialChild,V=e.finalizeInitialChildren,G=e.prepareUpdate,H=e.shouldSetTextContent,W=e.createTextInstance,X=e.scheduleTimeout,$=e.cancelTimeout,q=e.noTimeout,Y=e.isPrimaryRenderer,K=e.supportsMutation,Z=e.supportsPersistence,Q=e.supportsHydration,J=e.getInstanceFromNode,ee=e.preparePortalMount,et=e.getCurrentEventPriority,en=e.detachDeletedInstance,er=e.supportsMicrotasks,ei=e.scheduleMicrotask,ea=e.supportsTestSelectors,eo=e.findFiberRoot,es=e.getBoundingRect,el=e.getTextContent,eu=e.isHiddenSubtree,ec=e.matchAccessibilityRole,ed=e.setFocusIfFocusable,eh=e.setupIntersectionObserver,ef=e.appendChild,ep=e.appendChildToContainer,em=e.commitTextUpdate,eg=e.commitMount,ev=e.commitUpdate,ey=e.insertBefore,eb=e.insertInContainerBefore,e_=e.removeChild,ex=e.removeChildFromContainer,eS=e.resetTextContent,ew=e.hideInstance,eE=e.hideTextInstance,eM=e.unhideInstance,eT=e.unhideTextInstance,eC=e.clearContainer,eP=e.cloneInstance,eA=e.createContainerChildSet,eR=e.appendChildToContainerChildSet,eO=e.finalizeContainerChildren,ek=e.replaceContainerChildren,eL=e.cloneHiddenInstance,eN=e.cloneHiddenTextInstance,eI=e.canHydrateInstance,eD=e.canHydrateTextInstance,eU=e.canHydrateSuspenseInstance,ez=e.isSuspenseInstancePending,eF=e.isSuspenseInstanceFallback,ej=e.getSuspenseInstanceFallbackErrorDetails,eB=e.registerSuspenseInstanceRetry,eV=e.getNextHydratableSibling,eG=e.getFirstHydratableChild,eH=e.getFirstHydratableChildWithinContainer,eW=e.getFirstHydratableChildWithinSuspenseInstance,eX=e.hydrateInstance,e$=e.hydrateTextInstance,eq=e.hydrateSuspenseInstance,eY=e.getNextHydratableInstanceAfterSuspenseInstance,eK=e.commitHydratedContainer,eZ=e.commitHydratedSuspenseInstance,eQ=e.clearSuspenseBoundary,eJ=e.clearSuspenseBoundaryFromContainer,e0=e.shouldDeleteUnhydratedTailInstances,e1=e.didNotMatchHydratedContainerTextInstance,e2=e.didNotMatchHydratedTextInstance;function e3(e){if(void 0===k)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return"\n"+k+e}var e5=!1;function e4(e,t){if(!e||e5)return"";e5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s)break}}}finally{e5=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?e3(e):""}var e6=Object.prototype.hasOwnProperty,e8=[],e9=-1;function e7(e){return{current:e}}function te(e){0>e9||(e.current=e8[e9],e8[e9]=null,e9--)}function tt(e,t){e8[++e9]=e.current,e.current=t}var tn={},tr=e7(tn),ti=e7(!1),ta=tn;function to(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ts(e){return null!=(e=e.childContextTypes)}function tl(){te(ti),te(tr)}function tu(e,t,n){if(tr.current!==tn)throw Error(c(168));tt(tr,t),tt(ti,n)}function tc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(c(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return u({},n,r)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,ta=tr.current,tt(tr,e),tt(ti,ti.current),!0}function th(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=tc(e,t,ta),r.__reactInternalMemoizedMergedChildContext=e,te(ti),te(tr),tt(tr,e)):te(ti),tt(ti,n)}var tf=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tp(e)/tm|0)|0},tp=Math.log,tm=Math.LN2,tg=64,tv=4194304;function ty(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tb(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ty(s):0!=(a&=o)&&(r=ty(a))}else 0!=(o=n&~i)?r=ty(o):0!==a&&(r=ty(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-tf(t)),r|=e[n],t&=~i;return r}function t_(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tx(){var e=tg;return 0==(4194240&(tg<<=1))&&(tg=64),e}function tS(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tw(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tf(t)]=n}function tE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tf(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tM=0;function tT(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tC=l.unstable_scheduleCallback,tP=l.unstable_cancelCallback,tA=l.unstable_shouldYield,tR=l.unstable_requestPaint,tO=l.unstable_now,tk=l.unstable_ImmediatePriority,tL=l.unstable_UserBlockingPriority,tN=l.unstable_NormalPriority,tI=l.unstable_IdlePriority,tD=null,tU=null,tz="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tF=null,tj=!1,tB=!1;function tV(){if(!tB&&null!==tF){tB=!0;var e=0,t=tM;try{var n=tF;for(tM=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}tF=null,tj=!1}catch(t){throw null!==tF&&(tF=tF.slice(e+1)),tC(tk,tV),t}finally{tM=t,tB=!1}}return null}var tG=[],tH=0,tW=null,tX=0,t$=[],tq=0,tY=null,tK=1,tZ="";function tQ(e,t){tG[tH++]=tX,tG[tH++]=tW,tW=e,tX=t}function tJ(e,t,n){t$[tq++]=tK,t$[tq++]=tZ,t$[tq++]=tY,tY=e;var r=tK;e=tZ;var i=32-tf(r)-1;r&=~(1<<i),n+=1;var a=32-tf(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tK=1<<32-tf(t)+i|n<<i|r,tZ=a+e}else tK=1<<a|n<<i|r,tZ=e}function t0(e){null!==e.return&&(tQ(e,1),tJ(e,1,0))}function t1(e){for(;e===tW;)tW=tG[--tH],tG[tH]=null,tX=tG[--tH],tG[tH]=null;for(;e===tY;)tY=t$[--tq],t$[tq]=null,tZ=t$[--tq],t$[tq]=null,tK=t$[--tq],t$[tq]=null}var t2=null,t3=null,t5=!1,t4=!1,t6=null;function t8(e,t){var n=aY(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function t9(e,t){switch(e.tag){case 5:return null!==(t=eI(t,e.type,e.pendingProps))&&(e.stateNode=t,t2=e,t3=eG(t),!0);case 6:return null!==(t=eD(t,e.pendingProps))&&(e.stateNode=t,t2=e,t3=null,!0);case 13:if(null!==(t=eU(t))){var n=null!==tY?{id:tK,overflow:tZ}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=aY(18,null,null,0)).stateNode=t,n.return=e,e.child=n,t2=e,t3=null,!0}return!1;default:return!1}}function t7(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ne(e){if(t5){var t=t3;if(t){var n=t;if(!t9(e,t)){if(t7(e))throw Error(c(418));t=eV(n);var r=t2;t&&t9(e,t)?t8(r,n):(e.flags=-4097&e.flags|2,t5=!1,t2=e)}}else{if(t7(e))throw Error(c(418));e.flags=-4097&e.flags|2,t5=!1,t2=e}}}function nt(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;t2=e}function nn(e){if(!Q||e!==t2)return!1;if(!t5)return nt(e),t5=!0,!1;if(3!==e.tag&&(5!==e.tag||e0(e.type)&&!H(e.type,e.memoizedProps))){var t=t3;if(t){if(t7(e))throw nr(),Error(c(418));for(;t;)t8(e,t),t=eV(t)}}if(nt(e),13===e.tag){if(!Q)throw Error(c(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));t3=eY(e)}else t3=t2?eV(e.stateNode):null;return!0}function nr(){for(var e=t3;e;)e=eV(e)}function ni(){Q&&(t3=t2=null,t4=t5=!1)}function na(e){null===t6?t6=[e]:t6.push(e)}var no=d.ReactCurrentBatchConfig;function ns(e,t){if(tz(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e6.call(t,i)||!tz(e[i],t[i]))return!1}return!0}function nl(e,t){if(e&&e.defaultProps)for(var n in t=u({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var nu=e7(null),nc=null,nd=null,nh=null;function nf(){nh=nd=nc=null}function np(e,t,n){Y?(tt(nu,t._currentValue),t._currentValue=n):(tt(nu,t._currentValue2),t._currentValue2=n)}function nm(e){var t=nu.current;te(nu),Y?e._currentValue=t:e._currentValue2=t}function ng(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nv(e,t){nc=e,nh=nd=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(r2=!0),e.firstContext=null)}function ny(e){var t=Y?e._currentValue:e._currentValue2;if(nh!==e){if(e={context:e,memoizedValue:t,next:null},null===nd){if(null===nc)throw Error(c(308));nd=e,nc.dependencies={lanes:0,firstContext:e}}else nd=nd.next=e}return t}var nb=null;function n_(e){null===nb?nb=[e]:nb.push(e)}function nx(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,n_(t)):(n.next=i.next,i.next=n),t.interleaved=n,nS(e,r)}function nS(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var nw=!1;function nE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nT(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nC(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&i4)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nS(e,n)}return null===(i=r.interleaved)?(t.next=t,n_(r)):(t.next=i.next,i.next=t),r.interleaved=t,nS(e,n)}function nP(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}function nA(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nR(e,t,n,r){var i=e.updateQueue;nw=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(o=0,d=c=l=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,h,f):m))break e;h=u({},h,f);break e;case 2:nw=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do o|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);ar|=o,e.lanes=o,e.memoizedState=h}}function nO(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(c(191,i));i.call(r)}}}var nk=(new s.Component).refs;function nL(e,t,n,r){t=e.memoizedState,n=null==(n=n(r,t))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var nN={isMounted:function(e){return!!(e=e._reactInternals)&&P(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=aS(),i=aw(e),a=nT(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=nC(e,a,i))&&(aE(t,e,i,r),nP(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=aS(),i=aw(e),a=nT(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=nC(e,a,i))&&(aE(t,e,i,r),nP(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aS(),r=aw(e),i=nT(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=nC(e,i,r))&&(aE(t,e,r,n),nP(t,e,r))}};function nI(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!ns(n,r)||!ns(i,a)}function nD(e,t,n){var r=!1,i=tn,a=t.contextType;return"object"==typeof a&&null!==a?a=ny(a):(i=ts(t)?ta:tr.current,a=(r=null!=(r=t.contextTypes))?to(e,i):tn),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nN,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function nU(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nN.enqueueReplaceState(t,t.state,null)}function nz(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nk,nE(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ny(a):(a=ts(t)?ta:tr.current,i.context=to(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(nL(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&nN.enqueueReplaceState(i,i.state,null),nR(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function nF(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===nk&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function nj(e,t){throw Error(c(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nB(e){return(0,e._init)(e._payload)}function nV(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=aZ(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=a1(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===w&&nB(a)===t.type)?((r=i(t,n.props)).ref=nF(e,t,n),r.return=e,r):((r=aQ(n.type,n.key,n.props,null,e.mode,r)).ref=nF(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=a2(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=aJ(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=a1(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return(n=aQ(t.type,t.key,t.props,null,e.mode,n)).ref=nF(e,null,t),n.return=e,n;case f:return(t=a2(t,e.mode,n)).return=e,t;case w:var r=t._init;return m(e,r(t._payload),n)}if(L(t)||T(t))return(t=aJ(t,e.mode,n,null)).return=e,t;nj(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?l(e,t,n,r):null;case f:return n.key===i?u(e,t,n,r):null;case w:return g(e,t,(i=n._init)(n._payload),r)}if(L(n)||T(n))return null!==i?null:d(e,t,n,r,null);nj(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return v(e,t,n,(0,r._init)(r._payload),i)}if(L(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);nj(t,r)}return null}return function s(l,u,d,y){if("object"==typeof d&&null!==d&&d.type===p&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var b=d.key,_=u;null!==_;){if(_.key===b){if((b=d.type)===p){if(7===_.tag){n(l,_.sibling),(u=i(_,d.props.children)).return=l,l=u;break e}}else if(_.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===w&&nB(b)===_.type){n(l,_.sibling),(u=i(_,d.props)).ref=nF(l,_,d),u.return=l,l=u;break e}n(l,_);break}t(l,_),_=_.sibling}d.type===p?((u=aJ(d.props.children,l.mode,y,d.key)).return=l,l=u):((y=aQ(d.type,d.key,d.props,null,l.mode,y)).ref=nF(l,u,d),y.return=l,l=y)}return o(l);case f:e:{for(_=d.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){n(l,u.sibling),(u=i(u,d.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=a2(d,l.mode,y)).return=l,l=u}return o(l);case w:return s(l,u,(_=d._init)(d._payload),y)}if(L(d))return function(i,o,s,l){for(var u=null,c=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===s.length)return n(i,d),t5&&tQ(i,h),u;if(null===d){for(;h<s.length;h++)null!==(d=m(i,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return t5&&tQ(i,h),u}for(d=r(i,d);h<s.length;h++)null!==(f=v(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return t(i,e)}),t5&&tQ(i,h),u}(l,u,d,y);if(T(d))return function(i,o,s,l){var u=T(s);if("function"!=typeof u)throw Error(c(150));if(null==(s=u.call(s)))throw Error(c(151));for(var d=u=null,h=o,f=o=0,p=null,y=s.next();null!==h&&!y.done;f++,y=s.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(i,h,y.value,l);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(i,h),t5&&tQ(i,f),u;if(null===h){for(;!y.done;f++,y=s.next())null!==(y=m(i,y.value,l))&&(o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return t5&&tQ(i,f),u}for(h=r(i,h);!y.done;f++,y=s.next())null!==(y=v(h,i,f,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(i,e)}),t5&&tQ(i,f),u}(l,u,d,y);nj(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,d)).return=l,l=u):(n(l,u),(u=a1(d,l.mode,y)).return=l,l=u),o(l)):n(l,u)}}var nG=nV(!0),nH=nV(!1),nW={},nX=e7(nW),n$=e7(nW),nq=e7(nW);function nY(e){if(e===nW)throw Error(c(174));return e}function nK(e,t){tt(nq,t),tt(n$,e),tt(nX,nW),e=D(t),te(nX),tt(nX,e)}function nZ(){te(nX),te(n$),te(nq)}function nQ(e){var t=nY(nq.current),n=nY(nX.current);t=U(n,e.type,t),n!==t&&(tt(n$,e),tt(nX,t))}function nJ(e){n$.current===e&&(te(nX),te(n$))}var n0=e7(0);function n1(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ez(n)||eF(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var n2=[];function n3(){for(var e=0;e<n2.length;e++){var t=n2[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}n2.length=0}var n5=d.ReactCurrentDispatcher,n4=d.ReactCurrentBatchConfig,n6=0,n8=null,n9=null,n7=null,re=!1,rt=!1,rn=0,rr=0;function ri(){throw Error(c(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tz(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(n6=a,n8=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,n5.current=null===e||null===e.memoizedState?rG:rH,e=n(r,i),rt){a=0;do{if(rt=!1,rn=0,25<=a)throw Error(c(301));a+=1,n7=n9=null,t.updateQueue=null,n5.current=rW,e=n(r,i)}while(rt)}if(n5.current=rV,t=null!==n9&&null!==n9.next,n6=0,n7=n9=n8=null,re=!1,t)throw Error(c(300));return e}function rs(){var e=0!==rn;return rn=0,e}function rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===n7?n8.memoizedState=n7=e:n7=n7.next=e,n7}function ru(){if(null===n9){var e=n8.alternate;e=null!==e?e.memoizedState:null}else e=n9.next;var t=null===n7?n8.memoizedState:n7.next;if(null!==t)n7=t,n9=e;else{if(null===e)throw Error(c(310));e={memoizedState:(n9=e).memoizedState,baseState:n9.baseState,baseQueue:n9.baseQueue,queue:n9.queue,next:null},null===n7?n8.memoizedState=n7=e:n7=n7.next=e}return n7}function rc(e,t){return"function"==typeof t?t(e):t}function rd(e){var t=ru(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=n9,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var d=u.lane;if((n6&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,n8.lanes|=d,ar|=d}u=u.next}while(null!==u&&u!==a)null===l?o=r:l.next=s,tz(r,t.memoizedState)||(r2=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,n8.lanes|=a,ar|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rh(e){var t=ru(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i)tz(a,t.memoizedState)||(r2=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function rf(){}function rp(e,t){var n=n8,r=ru(),i=t(),a=!tz(r.memoizedState,i);if(a&&(r.memoizedState=i,r2=!0),r=r.queue,rT(rv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==n7&&1&n7.memoizedState.tag){if(n.flags|=2048,rx(9,rg.bind(null,n,r,i,t),void 0,null),null===i6)throw Error(c(349));0!=(30&n6)||rm(n,t,i)}return i}function rm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=n8.updateQueue)?(t={lastEffect:null,stores:null},n8.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function rg(e,t,n,r){t.value=n,t.getSnapshot=r,ry(t)&&rb(e)}function rv(e,t,n){return n(function(){ry(t)&&rb(e)})}function ry(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tz(e,n)}catch(e){return!0}}function rb(e){var t=nS(e,1);null!==t&&aE(t,e,1,-1)}function r_(e){var t=rl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:e},t.queue=e,e=e.dispatch=rz.bind(null,n8,e),[t.memoizedState,e]}function rx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=n8.updateQueue)?(t={lastEffect:null,stores:null},n8.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function rS(){return ru().memoizedState}function rw(e,t,n,r){var i=rl();n8.flags|=e,i.memoizedState=rx(1|t,n,void 0,void 0===r?null:r)}function rE(e,t,n,r){var i=ru();r=void 0===r?null:r;var a=void 0;if(null!==n9){var o=n9.memoizedState;if(a=o.destroy,null!==r&&ra(r,o.deps)){i.memoizedState=rx(t,n,a,r);return}}n8.flags|=e,i.memoizedState=rx(1|t,n,a,r)}function rM(e,t){return rw(8390656,8,e,t)}function rT(e,t){return rE(2048,8,e,t)}function rC(e,t){return rE(4,2,e,t)}function rP(e,t){return rE(4,4,e,t)}function rA(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function rR(e,t,n){return n=null!=n?n.concat([e]):null,rE(4,4,rA.bind(null,t,e),n)}function rO(){}function rk(e,t){var n=ru();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rL(e,t){var n=ru();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rN(e,t,n){return 0==(21&n6)?(e.baseState&&(e.baseState=!1,r2=!0),e.memoizedState=n):(tz(n,t)||(n=tx(),n8.lanes|=n,ar|=n,e.baseState=!0),t)}function rI(e,t){var n=tM;tM=0!==n&&4>n?n:4,e(!0);var r=n4.transition;n4.transition={};try{e(!1),t()}finally{tM=n,n4.transition=r}}function rD(){return ru().memoizedState}function rU(e,t,n){var r=aw(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rF(e)?rj(t,n):null!==(n=nx(e,t,n,r))&&(aE(n,e,r,aS()),rB(n,t,r))}function rz(e,t,n){var r=aw(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rF(e))rj(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,tz(s,o)){var l=t.interleaved;null===l?(i.next=i,n_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=nx(e,t,i,r))&&(aE(n,e,r,i=aS()),rB(n,t,r))}}function rF(e){var t=e.alternate;return e===n8||null!==t&&t===n8}function rj(e,t){rt=re=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rB(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}var rV={readContext:ny,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},rG={readContext:ny,useCallback:function(e,t){return rl().memoizedState=[e,void 0===t?null:t],e},useContext:ny,useEffect:rM,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rw(4194308,4,rA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rw(4194308,4,e,t)},useInsertionEffect:function(e,t){return rw(4,2,e,t)},useMemo:function(e,t){var n=rl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rU.bind(null,n8,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},rl().memoizedState=e},useState:r_,useDebugValue:rO,useDeferredValue:function(e){return rl().memoizedState=e},useTransition:function(){var e=r_(!1),t=e[0];return e=rI.bind(null,e[1]),rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=n8,i=rl();if(t5){if(void 0===n)throw Error(c(407));n=n()}else{if(n=t(),null===i6)throw Error(c(349));0!=(30&n6)||rm(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,rM(rv.bind(null,r,a,e),[e]),r.flags|=2048,rx(9,rg.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=rl(),t=i6.identifierPrefix;if(t5){var n=tZ,r=tK;t=":"+t+"R"+(n=(r&~(1<<32-tf(r)-1)).toString(32)+n),0<(n=rn++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=rr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rH={readContext:ny,useCallback:rk,useContext:ny,useEffect:rT,useImperativeHandle:rR,useInsertionEffect:rC,useLayoutEffect:rP,useMemo:rL,useReducer:rd,useRef:rS,useState:function(){return rd(rc)},useDebugValue:rO,useDeferredValue:function(e){return rN(ru(),n9.memoizedState,e)},useTransition:function(){return[rd(rc)[0],ru().memoizedState]},useMutableSource:rf,useSyncExternalStore:rp,useId:rD,unstable_isNewReconciler:!1},rW={readContext:ny,useCallback:rk,useContext:ny,useEffect:rT,useImperativeHandle:rR,useInsertionEffect:rC,useLayoutEffect:rP,useMemo:rL,useReducer:rh,useRef:rS,useState:function(){return rh(rc)},useDebugValue:rO,useDeferredValue:function(e){var t=ru();return null===n9?t.memoizedState=e:rN(t,n9.memoizedState,e)},useTransition:function(){return[rh(rc)[0],ru().memoizedState]},useMutableSource:rf,useSyncExternalStore:rp,useId:rD,unstable_isNewReconciler:!1};function rX(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return e3(e.type);case 16:return e3("Lazy");case 13:return e3("Suspense");case 19:return e3("SuspenseList");case 0:case 2:case 15:return e=e4(e.type,!1);case 11:return e=e4(e.type.render,!1);case 1:return e=e4(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function r$(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function rq(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var rY="function"==typeof WeakMap?WeakMap:Map;function rK(e,t,n){(n=nT(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ah||(ah=!0,af=r),rq(e,t)},n}function rZ(e,t,n){(n=nT(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rq(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){rq(e,t),"function"!=typeof r&&(null===ap?ap=new Set([this]):ap.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function rQ(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rY;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=aH.bind(null,e,t,n),t.then(e,e))}function rJ(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function r0(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=nT(-1,1)).tag=2,nC(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var r1=d.ReactCurrentOwner,r2=!1;function r3(e,t,n,r){t.child=null===e?nH(t,null,n,r):nG(t,e.child,n,r)}function r5(e,t,n,r,i){n=n.render;var a=t.ref;return(nv(t,i),r=ro(e,t,n,r,a,i),n=rs(),null===e||r2)?(t5&&n&&t0(t),t.flags|=1,r3(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,im(e,t,i))}function r4(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||aK(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=aQ(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,r6(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ns)(o,r)&&e.ref===t.ref)return im(e,t,i)}return t.flags|=1,(e=aZ(a,r)).ref=t.ref,e.return=t,t.child=e}function r6(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ns(a,r)&&e.ref===t.ref){if(r2=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,im(e,t,i);0!=(131072&e.flags)&&(r2=!0)}}return r7(e,t,n,r,i)}function r8(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ae,i7),i7|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(ae,i7),i7|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,tt(ae,i7),i7|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,tt(ae,i7),i7|=r;return r3(e,t,i,n),t.child}function r9(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function r7(e,t,n,r,i){var a=ts(n)?ta:tr.current;return(a=to(t,a),nv(t,i),n=ro(e,t,n,r,a,i),r=rs(),null===e||r2)?(t5&&r&&t0(t),t.flags|=1,r3(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,im(e,t,i))}function ie(e,t,n,r,i){if(ts(n)){var a=!0;td(t)}else a=!1;if(nv(t,i),null===t.stateNode)ip(e,t),nD(t,n,r),nz(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ny(u):to(t,u=ts(n)?ta:tr.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&nU(t,o,r,u),nw=!1;var h=t.memoizedState;o.state=h,nR(t,r,o,i),l=t.memoizedState,s!==r||h!==l||ti.current||nw?("function"==typeof c&&(nL(t,n,c,r),l=t.memoizedState),(s=nw||nI(t,n,s,r,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nM(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:nl(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ny(l):to(t,l=ts(n)?ta:tr.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&nU(t,o,r,l),nw=!1,h=t.memoizedState,o.state=h,nR(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||ti.current||nw?("function"==typeof f&&(nL(t,n,f,r),p=t.memoizedState),(u=nw||nI(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return it(e,t,n,r,a,i)}function it(e,t,n,r,i,a){r9(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&th(t,n,!1),im(e,t,a);r=t.stateNode,r1.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=nG(t,e.child,null,a),t.child=nG(t,null,s,a)):r3(e,t,s,a),t.memoizedState=r.state,i&&th(t,n,!0),t.child}function ir(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),nK(e,t.containerInfo)}function ii(e,t,n,r,i){return ni(),na(i),t.flags|=256,r3(e,t,n,r),t.child}var ia={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function is(e,t,n){var r,i=t.pendingProps,a=n0.current,o=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),tt(n0,1&a),null===e)return(ne(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:eF(e)?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=a0(s,i,0,null),e=aJ(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=io(n),t.memoizedState=ia,e):il(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,iu(e,t,o,r=r$(Error(c(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=a0({mode:"visible",children:r.children},i,0,null),a=aJ(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&nG(t,e.child,null,o),t.child.memoizedState=io(o),t.memoizedState=ia,a);if(0==(1&t.mode))return iu(e,t,o,null);if(eF(i))return r=ej(i).digest,r=r$(a=Error(c(419)),r,void 0),iu(e,t,o,r);if(n=0!=(o&e.childLanes),r2||n){if(null!==(r=i6)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,nS(e,i),aE(r,e,i,-1))}return aD(),iu(e,t,o,r=r$(Error(c(421))))}return ez(i)?(t.flags|=128,t.child=e.child,eB(i,t=aX.bind(null,e)),null):(e=a.treeContext,Q&&(t3=eW(i),t2=t,t5=!0,t6=null,t4=!1,null!==e&&(t$[tq++]=tK,t$[tq++]=tZ,t$[tq++]=tY,tK=e.id,tZ=e.overflow,tY=t)),t=il(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=aZ(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=aZ(r,o):(o=aJ(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?io(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ia,i}return e=(o=e.child).sibling,i=aZ(o,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function il(e,t){return(t=a0({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function iu(e,t,n,r){return null!==r&&na(r),nG(t,e.child,null,n),e=il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ic(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ng(e.return,t,n)}function id(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ih(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(r3(e,t,r.children,n),0!=(2&(r=n0.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ic(e,n,t);else if(19===e.tag)ic(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(n0,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===n1(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),id(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===n1(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}id(t,!0,n,null,a);break;case"together":id(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ip(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function im(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ar|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(c(153));if(null!==t.child){for(n=aZ(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=aZ(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ig(e){e.flags|=4}function iv(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)t=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},n=function(){},r=function(e,t,n,r,i){(e=e.memoizedProps)!==r&&(n=G(t.stateNode,n,e,r,i,nY(nX.current)),(t.updateQueue=n)&&ig(t))},i=function(e,t,n,r){n!==r&&ig(t)};else if(Z){t=function(e,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=eL(o,a.type,a.memoizedProps,a)),B(e,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=eN(o,a.memoizedProps,a)),B(e,o);else if(4!==a.tag){if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),t(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var iy=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=eL(a,i.type,i.memoizedProps,i)),eR(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=eN(a,i.memoizedProps,i)),eR(e,a);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),iy(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};n=function(e,t){var n=t.stateNode;if(!iv(e,t)){var r=eA(e=n.containerInfo);iy(r,t,!1,!1),n.pendingChildren=r,ig(t),eO(e,r)}},r=function(e,n,r,i,a){var o=e.stateNode,s=e.memoizedProps;if((e=iv(e,n))&&s===i)n.stateNode=o;else{var l=n.stateNode,u=nY(nX.current),c=null;s!==i&&(c=G(l,r,s,i,a,u)),e&&null===c?n.stateNode=o:(V(o=eP(o,c,r,s,i,n,e,l),r,i,a,u)&&ig(n),n.stateNode=o,e?ig(n):t(o,n,!1,!1))}},i=function(e,t,n,r){n!==r?(e=nY(nq.current),n=nY(nX.current),t.stateNode=W(r,e,n,t),ig(t)):t.stateNode=e.stateNode}}else n=function(){},r=function(){},i=function(){};function ib(e,t){if(!t5)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function i_(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}var ix=!1,iS=!1,iw="function"==typeof WeakSet?WeakSet:Set,iE=null;function iM(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){aG(e,t,n)}else n.current=null}}function iT(e,t,n){try{n()}catch(n){aG(e,t,n)}}var iC=!1;function iP(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&iT(t,n,a)}i=i.next}while(i!==r)}}function iA(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iR(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?I(n):n,"function"==typeof t?t(e):t.current=e}}function iO(e){return 5===e.tag||3===e.tag||4===e.tag}function ik(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||iO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var iL=null,iN=!1;function iI(e,t,n){for(n=n.child;null!==n;)iD(e,t,n),n=n.sibling}function iD(e,t,n){if(tU&&"function"==typeof tU.onCommitFiberUnmount)try{tU.onCommitFiberUnmount(tD,n)}catch(e){}switch(n.tag){case 5:iS||iM(n,t);case 6:if(K){var r=iL,i=iN;iL=null,iI(e,t,n),iL=r,iN=i,null!==iL&&(iN?ex(iL,n.stateNode):e_(iL,n.stateNode))}else iI(e,t,n);break;case 18:K&&null!==iL&&(iN?eJ(iL,n.stateNode):eQ(iL,n.stateNode));break;case 4:K?(r=iL,i=iN,iL=n.stateNode.containerInfo,iN=!0,iI(e,t,n),iL=r,iN=i):(Z&&(i=eA(r=n.stateNode.containerInfo),ek(r,i)),iI(e,t,n));break;case 0:case 11:case 14:case 15:if(!iS&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)?iT(n,t,o):0!=(4&a)&&iT(n,t,o)),i=i.next}while(i!==r)}iI(e,t,n);break;case 1:if(!iS&&(iM(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){aG(n,t,e)}iI(e,t,n);break;case 21:default:iI(e,t,n);break;case 22:1&n.mode?(iS=(r=iS)||null!==n.memoizedState,iI(e,t,n),iS=r):iI(e,t,n)}}function iU(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new iw),t.forEach(function(t){var r=a$.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function iz(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t;if(K){var o=a;e:for(;null!==o;){switch(o.tag){case 5:iL=o.stateNode,iN=!1;break e;case 3:case 4:iL=o.stateNode.containerInfo,iN=!0;break e}o=o.return}if(null===iL)throw Error(c(160));iD(e,a,i),iL=null,iN=!1}else iD(e,a,i);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){aG(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)iF(t,e),t=t.sibling}function iF(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(iz(t,e),ij(e),4&r){try{iP(3,e,e.return),iA(3,e)}catch(t){aG(e,e.return,t)}try{iP(5,e,e.return)}catch(t){aG(e,e.return,t)}}break;case 1:iz(t,e),ij(e),512&r&&null!==n&&iM(n,n.return);break;case 5:if(iz(t,e),ij(e),512&r&&null!==n&&iM(n,n.return),K){if(32&e.flags){var i=e.stateNode;try{eS(i)}catch(t){aG(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps;if(n=null!==n?n.memoizedProps:a,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ev(i,t,r,n,a,e)}catch(t){aG(e,e.return,t)}}}break;case 6:if(iz(t,e),ij(e),4&r&&K){if(null===e.stateNode)throw Error(c(162));i=e.stateNode,a=e.memoizedProps,n=null!==n?n.memoizedProps:a;try{em(i,n,a)}catch(t){aG(e,e.return,t)}}break;case 3:if(iz(t,e),ij(e),4&r){if(K&&Q&&null!==n&&n.memoizedState.isDehydrated)try{eK(t.containerInfo)}catch(t){aG(e,e.return,t)}if(Z){i=t.containerInfo,a=t.pendingChildren;try{ek(i,a)}catch(t){aG(e,e.return,t)}}}break;case 4:if(iz(t,e),ij(e),4&r&&Z){i=(a=e.stateNode).containerInfo,a=a.pendingChildren;try{ek(i,a)}catch(t){aG(e,e.return,t)}}break;case 13:iz(t,e),ij(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,a&&(null===i.alternate||null===i.alternate.memoizedState)&&(al=tO())),4&r&&iU(e);break;case 22:var o=null!==n&&null!==n.memoizedState;if(1&e.mode?(iS=(n=iS)||o,iz(t,e),iS=n):iz(t,e),ij(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!o&&0!=(1&e.mode))for(iE=e,r=e.child;null!==r;){for(t=iE=r;null!==iE;){var s=(o=iE).child;switch(o.tag){case 0:case 11:case 14:case 15:iP(4,o,o.return);break;case 1:iM(o,o.return);var l=o.stateNode;if("function"==typeof l.componentWillUnmount){var u=o,d=o.return;try{l.props=u.memoizedProps,l.state=u.memoizedState,l.componentWillUnmount()}catch(e){aG(u,d,e)}}break;case 5:iM(o,o.return);break;case 22:if(null!==o.memoizedState){iV(t);continue}}null!==s?(s.return=o,iE=s):iV(t)}r=r.sibling}if(K){e:if(r=null,K)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{i=t.stateNode,n?ew(i):eM(t.stateNode,t.memoizedProps)}catch(t){aG(e,e.return,t)}}}else if(6===t.tag){if(null===r)try{a=t.stateNode,n?eE(a):eT(a,t.memoizedProps)}catch(t){aG(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}}break;case 19:iz(t,e),ij(e),4&r&&iU(e);break;case 21:break;default:iz(t,e),ij(e)}}function ij(e){var t=e.flags;if(2&t){try{if(K){t:{for(var n=e.return;null!==n;){if(iO(n)){var r=n;break t}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eS(i),r.flags&=-33);var a=ik(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?ey(r,t,n):ef(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=ik(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?eb(r,t,n):ep(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,o);break;default:throw Error(c(161))}}}catch(t){aG(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function iB(e){for(;null!==iE;){var t=iE;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:iS||iA(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!iS){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&nO(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}nO(t,o,n)}break;case 5:var s=t.stateNode;null===n&&4&t.flags&&eg(s,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Q&&null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&eZ(d)}}}break;default:throw Error(c(163))}iS||512&t.flags&&iR(t)}catch(e){aG(t,t.return,e)}}if(t===e){iE=null;break}if(null!==(n=t.sibling)){n.return=t.return,iE=n;break}iE=t.return}}function iV(e){for(;null!==iE;){var t=iE;if(t===e){iE=null;break}var n=t.sibling;if(null!==n){n.return=t.return,iE=n;break}iE=t.return}}function iG(e){for(;null!==iE;){var t=iE;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iA(4,t)}catch(e){aG(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){aG(t,i,e)}}var a=t.return;try{iR(t)}catch(e){aG(t,a,e)}break;case 5:var o=t.return;try{iR(t)}catch(e){aG(t,o,e)}}}catch(e){aG(t,t.return,e)}if(t===e){iE=null;break}var s=t.sibling;if(null!==s){s.return=t.return,iE=s;break}iE=t.return}}var iH=0,iW=1,iX=2,i$=3,iq=4;if("function"==typeof Symbol&&Symbol.for){var iY=Symbol.for;iH=iY("selector.component"),iW=iY("selector.has_pseudo_class"),iX=iY("selector.role"),i$=iY("selector.test_id"),iq=iY("selector.text")}function iK(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(c(364));return t}if(null===(e=eo(e)))throw Error(c(362));return e.stateNode.current}function iZ(e,t){switch(t.$$typeof){case iH:if(e.type===t.value)return!0;break;case iW:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!eu(r)){for(;null!=a&&iZ(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case iX:if(5===e.tag&&ec(e.stateNode,t.value))return!0;break;case iq:if((5===e.tag||6===e.tag)&&null!==(e=el(e))&&0<=e.indexOf(t.value))return!0;break;case i$:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(c(365))}return!1}function iQ(e){switch(e.$$typeof){case iH:return"<"+(C(e.value)||"Unknown")+">";case iW:return":has("+(iQ(e)||"")+")";case iX:return'[role="'+e.value+'"]';case iq:return'"'+e.value+'"';case i$:return'[data-testname="'+e.value+'"]';default:throw Error(c(365))}}function iJ(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!eu(i)){for(;null!=o&&iZ(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function i0(e,t){if(!ea)throw Error(c(363));e=iJ(e=iK(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)eu(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var i1=Math.ceil,i2=d.ReactCurrentDispatcher,i3=d.ReactCurrentOwner,i5=d.ReactCurrentBatchConfig,i4=0,i6=null,i8=null,i9=0,i7=0,ae=e7(0),at=0,an=null,ar=0,ai=0,aa=0,ao=null,as=null,al=0,au=1/0,ac=null;function ad(){au=tO()+500}var ah=!1,af=null,ap=null,am=!1,ag=null,av=0,ay=0,ab=null,a_=-1,ax=0;function aS(){return 0!=(6&i4)?tO():-1!==a_?a_:a_=tO()}function aw(e){return 0==(1&e.mode)?1:0!=(2&i4)&&0!==i9?i9&-i9:null!==no.transition?(0===ax&&(ax=tx()),ax):0!==(e=tM)?e:et()}function aE(e,t,n,r){if(50<ay)throw ay=0,ab=null,Error(c(185));tw(e,n,r),(0==(2&i4)||e!==i6)&&(e===i6&&(0==(2&i4)&&(ai|=n),4===at&&aA(e,i9)),aM(e,r),1===n&&0===i4&&0==(1&t.mode)&&(ad(),tj&&tV()))}function aM(e,t){var n,r,i,a=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-tf(a),s=1<<o,l=i[o];-1===l?(0==(s&n)||0!=(s&r))&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var o=tb(e,e===i6?i9:0);if(0===o)null!==a&&tP(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=a&&tP(a),1===t){0===e.tag&&(tj=!0),n=aR.bind(null,e),null===tF?tF=[n]:tF.push(n),er?ei(function(){0==(6&i4)&&tV()}):tC(tk,tV),a=null}else{switch(tT(o)){case 1:a=tk;break;case 4:a=tL;break;case 16:default:a=tN;break;case 536870912:a=tI}r=a,i=aT.bind(null,e),a=tC(r,i)}e.callbackPriority=t,e.callbackNode=a}}function aT(e,t){if(a_=-1,ax=0,0!=(6&i4))throw Error(c(327));var n=e.callbackNode;if(aB()&&e.callbackNode!==n)return null;var r=tb(e,e===i6?i9:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=aU(e,r);else{t=r;var i=i4;i4|=2;var a=aI();for((i6!==e||i9!==t)&&(ac=null,ad(),aL(e,t));;)try{(function(){for(;null!==i8&&!tA();)az(i8)})();break}catch(t){aN(e,t)}nf(),i2.current=a,i4=i,null!==i8?t=0:(i6=null,i9=0,t=at)}if(0!==t){if(2===t&&0!==(i=t_(e))&&(r=i,t=aC(e,i)),1===t)throw n=an,aL(e,0),aA(e,r),aM(e,tO()),n;if(6===t)aA(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tz(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=aU(e,r))&&0!==(a=t_(e))&&(r=a,t=aC(e,a)),1===t))throw n=an,aL(e,0),aA(e,r),aM(e,tO()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:case 5:aj(e,as,ac);break;case 3:if(aA(e,r),(130023424&r)===r&&10<(t=al+500-tO())){if(0!==tb(e,0))break;if(((i=e.suspendedLanes)&r)!==r){aS(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=X(aj.bind(null,e,as,ac),t);break}aj(e,as,ac);break;case 4:if(aA(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var o=31-tf(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=tO()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i1(r/1960))-r)){e.timeoutHandle=X(aj.bind(null,e,as,ac),r);break}aj(e,as,ac);break;default:throw Error(c(329))}}}return aM(e,tO()),e.callbackNode===n?aT.bind(null,e):null}function aC(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(aL(e,t).flags|=256),2!==(e=aU(e,t))&&(t=as,as=n,null!==t&&aP(t)),e}function aP(e){null===as?as=e:as.push.apply(as,e)}function aA(e,t){for(t&=~aa,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tf(t),r=1<<n;e[n]=-1,t&=~r}}function aR(e){if(0!=(6&i4))throw Error(c(327));aB();var t=tb(e,0);if(0==(1&t))return aM(e,tO()),null;var n=aU(e,t);if(0!==e.tag&&2===n){var r=t_(e);0!==r&&(t=r,n=aC(e,r))}if(1===n)throw n=an,aL(e,0),aA(e,t),aM(e,tO()),n;if(6===n)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aj(e,as,ac),aM(e,tO()),null}function aO(e){null!==ag&&0===ag.tag&&0==(6&i4)&&aB();var t=i4;i4|=1;var n=i5.transition,r=tM;try{if(i5.transition=null,tM=1,e)return e()}finally{tM=r,i5.transition=n,0==(6&(i4=t))&&tV()}}function ak(){i7=ae.current,te(ae)}function aL(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,$(n)),null!==i8)for(n=i8.return;null!==n;){var r=n;switch(t1(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&tl();break;case 3:nZ(),te(ti),te(tr),n3();break;case 5:nJ(r);break;case 4:nZ();break;case 13:case 19:te(n0);break;case 10:nm(r.type._context);break;case 22:case 23:ak()}n=n.return}if(i6=e,i8=e=aZ(e.current,null),i9=i7=t,at=0,an=null,aa=ai=ar=0,as=ao=null,null!==nb){for(t=0;t<nb.length;t++)if(null!==(r=(n=nb[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}nb=null}return e}function aN(e,t){for(;;){var n=i8;try{if(nf(),n5.current=rV,re){for(var r=n8.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}re=!1}if(n6=0,n7=n9=n8=null,rt=!1,rn=0,i3.current=null,null===n||null===n.return){at=1,an=t,i8=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=i9,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,d=s,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=rJ(o);if(null!==p){p.flags&=-257,r0(p,o,s,a,t),1&p.mode&&rQ(a,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){rQ(a,u,t),aD();break e}l=Error(c(426))}else if(t5&&1&s.mode){var v=rJ(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),r0(v,o,s,a,t),na(rX(l,s));break e}}a=l=rX(l,s),4!==at&&(at=2),null===ao?ao=[a]:ao.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=rK(a,l,t);nA(a,y);break e;case 1:s=l;var b=a.type,_=a.stateNode;if(0==(128&a.flags)&&("function"==typeof b.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===ap||!ap.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=rZ(a,s,t);nA(a,x);break e}}a=a.return}while(null!==a)}aF(n)}catch(e){t=e,i8===n&&null!==n&&(i8=n=n.return);continue}break}}function aI(){var e=i2.current;return i2.current=rV,null===e?rV:e}function aD(){(0===at||3===at||2===at)&&(at=4),null===i6||0==(268435455&ar)&&0==(268435455&ai)||aA(i6,i9)}function aU(e,t){var n=i4;i4|=2;var r=aI();for((i6!==e||i9!==t)&&(ac=null,aL(e,t));;)try{(function(){for(;null!==i8;)az(i8)})();break}catch(t){aN(e,t)}if(nf(),i4=n,i2.current=r,null!==i8)throw Error(c(261));return i6=null,i9=0,at}function az(e){var t=a(e.alternate,e,i7);e.memoizedProps=e.pendingProps,null===t?aF(e):i8=t,i3.current=null}function aF(e){var a=e;do{var o=a.alternate;if(e=a.return,0==(32768&a.flags)){if(null!==(o=function(e,a,o){var s=a.pendingProps;switch(t1(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return i_(a),null;case 1:case 17:return ts(a.type)&&tl(),i_(a),null;case 3:return o=a.stateNode,nZ(),te(ti),te(tr),n3(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(nn(a)?ig(a):null===e||e.memoizedState.isDehydrated&&0==(256&a.flags)||(a.flags|=1024,null!==t6&&(aP(t6),t6=null))),n(e,a),i_(a),null;case 5:nJ(a),o=nY(nq.current);var l=a.type;if(null!==e&&null!=a.stateNode)r(e,a,l,s,o),e.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!s){if(null===a.stateNode)throw Error(c(166));return i_(a),null}if(e=nY(nX.current),nn(a)){if(!Q)throw Error(c(175));e=eX(a.stateNode,a.type,a.memoizedProps,o,e,a,!t4),a.updateQueue=e,null!==e&&ig(a)}else{var u=j(l,s,o,e,a);t(u,a,!1,!1),a.stateNode=u,V(u,l,s,o,e)&&ig(a)}null!==a.ref&&(a.flags|=512,a.flags|=2097152)}return i_(a),null;case 6:if(e&&null!=a.stateNode)i(e,a,e.memoizedProps,s);else{if("string"!=typeof s&&null===a.stateNode)throw Error(c(166));if(e=nY(nq.current),o=nY(nX.current),nn(a)){if(!Q)throw Error(c(176));if(e=a.stateNode,o=a.memoizedProps,(s=e$(e,o,a,!t4))&&null!==(l=t2))switch(l.tag){case 3:e1(l.stateNode.containerInfo,e,o,0!=(1&l.mode));break;case 5:e2(l.type,l.memoizedProps,l.stateNode,e,o,0!=(1&l.mode))}s&&ig(a)}else a.stateNode=W(s,e,o,a)}return i_(a),null;case 13:if(te(n0),s=a.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(t5&&null!==t3&&0!=(1&a.mode)&&0==(128&a.flags))nr(),ni(),a.flags|=98560,l=!1;else if(l=nn(a),null!==s&&null!==s.dehydrated){if(null===e){if(!l)throw Error(c(318));if(!Q)throw Error(c(344));if(!(l=null!==(l=a.memoizedState)?l.dehydrated:null))throw Error(c(317));eq(l,a)}else ni(),0==(128&a.flags)&&(a.memoizedState=null),a.flags|=4;i_(a),l=!1}else null!==t6&&(aP(t6),t6=null),l=!0;if(!l)return 65536&a.flags?a:null}if(0!=(128&a.flags))return a.lanes=o,a;return(o=null!==s)!=(null!==e&&null!==e.memoizedState)&&o&&(a.child.flags|=8192,0!=(1&a.mode)&&(null===e||0!=(1&n0.current)?0===at&&(at=3):aD())),null!==a.updateQueue&&(a.flags|=4),i_(a),null;case 4:return nZ(),n(e,a),null===e&&ee(a.stateNode.containerInfo),i_(a),null;case 10:return nm(a.type._context),i_(a),null;case 19:if(te(n0),null===(l=a.memoizedState))return i_(a),null;if(s=0!=(128&a.flags),null===(u=l.rendering)){if(s)ib(l,!1);else{if(0!==at||null!==e&&0!=(128&e.flags))for(e=a.child;null!==e;){if(null!==(u=n1(e))){for(a.flags|=128,ib(l,!1),null!==(e=u.updateQueue)&&(a.updateQueue=e,a.flags|=4),a.subtreeFlags=0,e=o,o=a.child;null!==o;)s=o,l=e,s.flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,l=u.dependencies,s.dependencies=null===l?null:{lanes:l.lanes,firstContext:l.firstContext}),o=o.sibling;return tt(n0,1&n0.current|2),a.child}e=e.sibling}null!==l.tail&&tO()>au&&(a.flags|=128,s=!0,ib(l,!1),a.lanes=4194304)}}else{if(!s){if(null!==(e=n1(u))){if(a.flags|=128,s=!0,null!==(e=e.updateQueue)&&(a.updateQueue=e,a.flags|=4),ib(l,!0),null===l.tail&&"hidden"===l.tailMode&&!u.alternate&&!t5)return i_(a),null}else 2*tO()-l.renderingStartTime>au&&1073741824!==o&&(a.flags|=128,s=!0,ib(l,!1),a.lanes=4194304)}l.isBackwards?(u.sibling=a.child,a.child=u):(null!==(e=l.last)?e.sibling=u:a.child=u,l.last=u)}if(null!==l.tail)return a=l.tail,l.rendering=a,l.tail=a.sibling,l.renderingStartTime=tO(),a.sibling=null,e=n0.current,tt(n0,s?1&e|2:1&e),a;return i_(a),null;case 22:case 23:return ak(),o=null!==a.memoizedState,null!==e&&null!==e.memoizedState!==o&&(a.flags|=8192),o&&0!=(1&a.mode)?0!=(1073741824&i7)&&(i_(a),K&&6&a.subtreeFlags&&(a.flags|=8192)):i_(a),null;case 24:case 25:return null}throw Error(c(156,a.tag))}(o,a,i7))){i8=o;return}}else{if(null!==(o=function(e,t){switch(t1(t),t.tag){case 1:return ts(t.type)&&tl(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return nZ(),te(ti),te(tr),n3(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nJ(t),null;case 13:if(te(n0),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(c(340));ni()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return te(n0),null;case 4:return nZ(),null;case 10:return nm(t.type._context),null;case 22:case 23:return ak(),null;default:return null}}(o,a))){o.flags&=32767,i8=o;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,i8=null;return}}if(null!==(a=a.sibling)){i8=a;return}i8=a=e}while(null!==a)0===at&&(at=5)}function aj(e,t,n){var r=tM,i=i5.transition;try{i5.transition=null,tM=1,function(e,t,n,r){do aB();while(null!==ag)if(0!=(6&i4))throw Error(c(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tf(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===i6&&(i8=i6=null,i9=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||am||(am=!0,o=tN,s=function(){return aB(),null},tC(o,s)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=i5.transition,i5.transition=null;var o,s,l,u,d,h=tM;tM=1;var f=i4;i4|=4,i3.current=null,function(e,t){for(z(e.containerInfo),iE=t;null!==iE;)if(t=(e=iE).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,iE=t;else for(;null!==iE;){e=iE;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,o=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:nl(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=o}break;case 3:K&&eC(e.stateNode.containerInfo);break;default:throw Error(c(163))}}catch(t){aG(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,iE=t;break}iE=e.return}n=iC,iC=!1}(e,n),iF(n,e),F(e.containerInfo),e.current=n,l=n,u=e,d=i,iE=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==iE;){var a=iE,o=a.child;if(22===a.tag&&i){var s=null!==a.memoizedState||ix;if(!s){var l=a.alternate,u=null!==l&&null!==l.memoizedState||iS;l=ix;var c=iS;if(ix=s,(iS=u)&&!c)for(iE=a;null!==iE;)u=(s=iE).child,22===s.tag&&null!==s.memoizedState?iG(a):null!==u?(u.return=s,iE=u):iG(a);for(;null!==o;)iE=o,e(o,n,r),o=o.sibling;iE=a,ix=l,iS=c}iB(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==o?(o.return=a,iE=o):iB(t,n,r)}}(l,u,d),tR(),i4=f,tM=h,i5.transition=a}else e.current=n;if(am&&(am=!1,ag=e,av=i),0===(a=e.pendingLanes)&&(ap=null),function(e){if(tU&&"function"==typeof tU.onCommitFiberRoot)try{tU.onCommitFiberRoot(tD,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),aM(e,tO()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,e=af,af=null,e;0!=(1&av)&&0!==e.tag&&aB(),0!=(1&(a=e.pendingLanes))?e===ab?ay++:(ay=0,ab=e):ay=0,tV()}}(e,t,n,r)}finally{i5.transition=i,tM=r}return null}function aB(){if(null!==ag){var e=tT(av),t=i5.transition,n=tM;try{if(i5.transition=null,tM=16>e?16:e,null===ag)var r=!1;else{if(e=ag,ag=null,av=0,0!=(6&i4))throw Error(c(331));var i=i4;for(i4|=4,iE=e.current;null!==iE;){var a=iE,o=a.child;if(0!=(16&iE.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(iE=u;null!==iE;){var d=iE;switch(d.tag){case 0:case 11:case 15:iP(8,d,a)}var h=d.child;if(null!==h)h.return=d,iE=h;else for(;null!==iE;){var f=(d=iE).sibling,p=d.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&en(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(d),d===u){iE=null;break}if(null!==f){f.return=p,iE=f;break}iE=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}iE=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,iE=o;else for(;null!==iE;){if(a=iE,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:iP(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,iE=y;break}iE=a.return}}var b=e.current;for(iE=b;null!==iE;){var _=(o=iE).child;if(0!=(2064&o.subtreeFlags)&&null!==_)_.return=o,iE=_;else for(o=b;null!==iE;){if(s=iE,0!=(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:iA(9,s)}}catch(e){aG(s,s.return,e)}if(s===o){iE=null;break}var x=s.sibling;if(null!==x){x.return=s.return,iE=x;break}iE=s.return}}if(i4=i,tV(),tU&&"function"==typeof tU.onPostCommitFiberRoot)try{tU.onPostCommitFiberRoot(tD,e)}catch(e){}r=!0}return r}finally{tM=n,i5.transition=t}}return!1}function aV(e,t,n){t=rX(n,t),t=rK(e,t,1),e=nC(e,t,1),t=aS(),null!==e&&(tw(e,1,t),aM(e,t))}function aG(e,t,n){if(3===e.tag)aV(e,e,n);else for(;null!==t;){if(3===t.tag){aV(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ap||!ap.has(r))){e=rX(n,e),e=rZ(t,e,1),t=nC(t,e,1),e=aS(),null!==t&&(tw(t,1,e),aM(t,e));break}}t=t.return}}function aH(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=aS(),e.pingedLanes|=e.suspendedLanes&n,i6===e&&(i9&n)===n&&(4===at||3===at&&(130023424&i9)===i9&&500>tO()-al?aL(e,0):aa|=n),aM(e,t)}function aW(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tv,0==(130023424&(tv<<=1))&&(tv=4194304)));var n=aS();null!==(e=nS(e,t))&&(tw(e,t,n),aM(e,n))}function aX(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),aW(e,n)}function a$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}null!==r&&r.delete(t),aW(e,n)}function aq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aY(e,t,n,r){return new aq(e,t,n,r)}function aK(e){return!(!(e=e.prototype)||!e.isReactComponent)}function aZ(e,t){var n=e.alternate;return null===n?((n=aY(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function aQ(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)aK(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case p:return aJ(n.children,i,a,t);case m:o=8,i|=8;break;case g:return(e=aY(12,n,t,2|i)).elementType=g,e.lanes=a,e;case _:return(e=aY(13,n,t,i)).elementType=_,e.lanes=a,e;case x:return(e=aY(19,n,t,i)).elementType=x,e.lanes=a,e;case E:return a0(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case v:o=10;break e;case y:o=9;break e;case b:o=11;break e;case S:o=14;break e;case w:o=16,r=null;break e}throw Error(c(130,null==e?e:typeof e,""))}return(t=aY(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function aJ(e,t,n,r){return(e=aY(7,e,r,t)).lanes=n,e}function a0(e,t,n,r){return(e=aY(22,e,r,t)).elementType=E,e.lanes=n,e.stateNode={isHidden:!1},e}function a1(e,t,n){return(e=aY(6,e,null,t)).lanes=n,e}function a2(e,t,n){return(t=aY(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tS(0),this.expirationTimes=tS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tS(0),this.identifierPrefix=r,this.onRecoverableError=i,Q&&(this.mutableSourceEagerHydrationData=null)}function a5(e,t,n,r,i,a,o,s,l){return e=new a3(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=aY(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nE(a),e}function a4(e){if(!e)return tn;e=e._reactInternals;e:{if(P(e)!==e||1!==e.tag)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(c(171))}if(1===e.tag){var n=e.type;if(ts(n))return tc(e,n,t)}return t}function a6(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(c(188));throw Error(c(268,e=Object.keys(e).join(",")))}return null===(e=O(t))?null:e.stateNode}function a8(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function a9(e,t){a8(e,t),(e=e.alternate)&&a8(e,t)}function a7(e){return null===(e=O(e))?null:e.stateNode}function oe(){return null}return a=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||ti.current)r2=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return r2=!1,function(e,t,n){switch(t.tag){case 3:ir(t),ni();break;case 5:nQ(t);break;case 1:ts(t.type)&&td(t);break;case 4:nK(t,t.stateNode.containerInfo);break;case 10:np(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return tt(n0,1&n0.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return is(e,t,n);return tt(n0,1&n0.current),null!==(e=im(e,t,n))?e.sibling:null}tt(n0,1&n0.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ih(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(n0,n0.current),!r)return null;break;case 22:case 23:return t.lanes=0,r8(e,t,n)}return im(e,t,n)}(e,t,n);r2=0!=(131072&e.flags)}}else r2=!1,t5&&0!=(1048576&t.flags)&&tJ(t,tX,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ip(e,t),e=t.pendingProps;var i=to(t,tr.current);nv(t,n),i=ro(null,t,r,e,i,n);var a=rs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ts(r)?(a=!0,td(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,nE(t),i.updater=nN,t.stateNode=i,i._reactInternals=t,nz(t,r,e,n),t=it(null,t,r,!0,a,n)):(t.tag=0,t5&&a&&t0(t),r3(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ip(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return aK(e)?1:0;if(null!=e){if((e=e.$$typeof)===b)return 11;if(e===S)return 14}return 2}(r),e=nl(r,e),i){case 0:t=r7(null,t,r,e,n);break e;case 1:t=ie(null,t,r,e,n);break e;case 11:t=r5(null,t,r,e,n);break e;case 14:t=r4(null,t,r,nl(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),r7(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),ie(e,t,r,i,n);case 3:e:{if(ir(t),null===e)throw Error(c(387));r=t.pendingProps,i=(a=t.memoizedState).element,nM(e,t),nR(t,r,null,n);var o=t.memoizedState;if(r=o.element,Q&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=rX(Error(c(423)),t),t=ii(e,t,r,n,i);break e}if(r!==i){i=rX(Error(c(424)),t),t=ii(e,t,r,n,i);break e}for(Q&&(t3=eH(t.stateNode.containerInfo),t2=t,t5=!0,t6=null,t4=!1),n=nH(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ni(),r===i){t=im(e,t,n);break e}r3(e,t,r,n)}t=t.child}return t;case 5:return nQ(t),null===e&&ne(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,H(r,i)?o=null:null!==a&&H(r,a)&&(t.flags|=32),r9(e,t),r3(e,t,o,n),t.child;case 6:return null===e&&ne(t),null;case 13:return is(e,t,n);case 4:return nK(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=nG(t,null,r,n):r3(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),r5(e,t,r,i,n);case 7:return r3(e,t,t.pendingProps,n),t.child;case 8:case 12:return r3(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,np(t,r,o),null!==a){if(tz(a.value,o)){if(a.children===i.children&&!ti.current){t=im(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=nT(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ng(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(c(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ng(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}r3(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nv(t,n),i=ny(i),r=r(i),t.flags|=1,r3(e,t,r,n),t.child;case 14:return i=nl(r=t.type,t.pendingProps),i=nl(r.type,i),r4(e,t,r,i,n);case 15:return r6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),ip(e,t),t.tag=1,ts(r)?(e=!0,td(t)):e=!1,nv(t,n),nD(t,r,i),nz(t,r,i,n),it(null,t,r,!0,e,n);case 19:return ih(e,t,n);case 22:return r8(e,t,n)}throw Error(c(156,t.tag))},o.attemptContinuousHydration=function(e){if(13===e.tag){var t=nS(e,134217728);null!==t&&aE(t,e,134217728,aS()),a9(e,134217728)}},o.attemptDiscreteHydration=function(e){if(13===e.tag){var t=nS(e,1);null!==t&&aE(t,e,1,aS()),a9(e,1)}},o.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=aw(e),n=nS(e,t);null!==n&&aE(n,e,t,aS()),a9(e,t)}},o.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ty(t.pendingLanes);0!==n&&(tE(t,1|n),aM(t,tO()),0==(6&i4)&&(ad(),tV()))}break;case 13:aO(function(){var t=nS(e,1);null!==t&&aE(t,e,1,aS())}),a9(e,1)}},o.batchedUpdates=function(e,t){var n=i4;i4|=1;try{return e(t)}finally{0===(i4=n)&&(ad(),tj&&tV())}},o.createComponentSelector=function(e){return{$$typeof:iH,value:e}},o.createContainer=function(e,t,n,r,i,a,o){return a5(e,t,!1,null,n,r,i,a,o)},o.createHasPseudoClassSelector=function(e){return{$$typeof:iW,value:e}},o.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=a5(n,r,!0,e,i,a,o,s,l)).context=a4(null),n=e.current,(a=nT(r=aS(),i=aw(n))).callback=null!=t?t:null,nC(n,a,i),e.current.lanes=i,tw(e,i,r),aM(e,r),e},o.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:f,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},o.createRoleSelector=function(e){return{$$typeof:iX,value:e}},o.createTestNameSelector=function(e){return{$$typeof:i$,value:e}},o.createTextSelector=function(e){return{$$typeof:iq,value:e}},o.deferredUpdates=function(e){var t=tM,n=i5.transition;try{return i5.transition=null,tM=16,e()}finally{tM=t,i5.transition=n}},o.discreteUpdates=function(e,t,n,r,i){var a=tM,o=i5.transition;try{return i5.transition=null,tM=1,e(t,n,r,i)}finally{tM=a,i5.transition=o,0===i4&&ad()}},o.findAllNodes=i0,o.findBoundingRects=function(e,t){if(!ea)throw Error(c(363));t=i0(e,t),e=[];for(var n=0;n<t.length;n++)e.push(es(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,i=r+n.width,a=n.y,o=a+n.height,s=t-1;0<=s;s--)if(t!==s){var l=e[s],u=l.x,d=u+l.width,h=l.y,f=h+l.height;if(r>=u&&a>=h&&i<=d&&o<=f){e.splice(t,1);break}if(r!==u||n.width!==l.width||f<a||h>o){if(!(a!==h||n.height!==l.height||d<r||u>i)){u>r&&(l.width+=u-r,l.x=r),d<i&&(l.width=i-u),e.splice(t,1);break}}else{h>a&&(l.height+=h-a,l.y=a),f<o&&(l.height=o-h),e.splice(t,1);break}}}return e},o.findHostInstance=a6,o.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=R(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var n=e(t);if(null!==n)return n}t=t.sibling}return null}(e):null)?null:e.stateNode},o.findHostInstanceWithWarning=function(e){return a6(e)},o.flushControlled=function(e){var t=i4;i4|=1;var n=i5.transition,r=tM;try{i5.transition=null,tM=1,e()}finally{tM=r,i5.transition=n,0===(i4=t)&&(ad(),tV())}},o.flushPassiveEffects=aB,o.flushSync=aO,o.focusWithin=function(e,t){if(!ea)throw Error(c(363));for(t=Array.from(t=iJ(e=iK(e),t)),e=0;e<t.length;){var n=t[e++];if(!eu(n)){if(5===n.tag&&ed(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},o.getCurrentUpdatePriority=function(){return tM},o.getFindAllNodesFailureDescription=function(e,t){if(!ea)throw Error(c(363));var n=0,r=[];e=[iK(e),0];for(var i=0;i<e.length;){var a=e[i++],o=e[i++],s=t[o];if((5!==a.tag||!eu(a))&&(iZ(a,s)&&(r.push(iQ(s)),++o>n&&(n=o)),o<t.length))for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(iQ(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},o.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},o.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:a7,findFiberByHostInstance:e.findFiberByHostInstance||oe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tD=t.inject(e),tU=t}catch(e){}e=!!t.checkDCE}}return e},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(e,t,n,r){if(!ea)throw Error(c(363));var i=eh(e=i0(e,t),n,r).disconnect;return{disconnect:function(){i()}}},o.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},o.runWithPriority=function(e,t){var n=tM;try{return tM=e,t()}finally{tM=n}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(e,t,n,r){var i=t.current,a=aS(),o=aw(i);return n=a4(n),null===t.context?t.context=n:t.pendingContext=n,(t=nT(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=nC(i,t,o))&&(aE(e,i,o,a),nP(e,i,o)),o},o}}),N.register("02ePV",function(e,t){var n,r,i,a,o,l;"use strict";s(e.exports,"ConcurrentRoot",()=>n,e=>n=e),s(e.exports,"ContinuousEventPriority",()=>r,e=>r=e),s(e.exports,"DefaultEventPriority",()=>i,e=>i=e),s(e.exports,"DiscreteEventPriority",()=>a,e=>a=e),s(e.exports,"IdleEventPriority",()=>o,e=>o=e),s(e.exports,"LegacyRoot",()=>l,e=>l=e),n=1,r=4,i=16,a=1,o=536870912,l=0});var I=N("ayMG0"),D={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),l=(D=N("Xw6Mv")).createRoot,D.hydrateRoot;var I=N("ayMG0");N("acw62");var I=N("ayMG0");function U(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var z={};function F(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==R?R:"undefined"!=typeof self?self:z}var j=Object.assign,B=Object.getOwnPropertyDescriptor,V=Object.defineProperty,G=Object.prototype,H=[];Object.freeze(H);var W={};Object.freeze(W);var X="undefined"!=typeof Proxy,$=Object.toString();function q(){X||U("Proxy not available")}function Y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var K=function(){};function Z(e){return"function"==typeof e}function Q(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function J(e){return null!==e&&"object"==typeof e}function ee(e){if(!J(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===$}function et(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function en(e,t,n){V(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function er(e,t,n){V(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ei(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return J(e)&&!0===e[n]}}function ea(e){return e instanceof Map}function eo(e){return e instanceof Set}var es=void 0!==Object.getOwnPropertySymbols,el="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:es?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function eu(e){return null===e?null:"object"==typeof e?""+e:e}function ec(e,t){return G.hasOwnProperty.call(e,t)}var ed=Object.getOwnPropertyDescriptors||function(e){var t={};return el(e).forEach(function(n){t[n]=B(e,n)}),t};function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r.key),r)}}function ef(e,t,n){return t&&eh(e.prototype,t),n&&eh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ep(){return(ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function em(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eg(e,t)}function eg(e,t){return(eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e_=Symbol("mobx-stored-annotations");function ex(e){return Object.assign(function(t,n){eS(t,n,e)},e)}function eS(e,t,n){ec(e,e_)||en(e,e_,ep({},e[e_])),"override"===n.annotationType_||(e[e_][t]=n)}var ew=Symbol("mobx administration"),eE=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=f.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tA(this)},t.reportChanged=function(){tC(),tR(this),tE.stateVersion=tE.stateVersion<Number.MAX_SAFE_INTEGER?tE.stateVersion+1:Number.MIN_SAFE_INTEGER,tP()},t.toString=function(){return this.name_},e}(),eM=ei("Atom",eE);function eT(e,t,n){void 0===t&&(t=K),void 0===n&&(n=K);var r=new eE(e);return t!==K&&tQ("onBO",r,t,void 0),n!==K&&tZ(r,n),r}var eC={identity:function(e,t){return e===t},structural:function(e,t){return nZ(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return nZ(e,t,1)}};function eP(e,t,n){return t7(e)?e:Array.isArray(e)?e2.array(e,{name:n}):ee(e)?e2.object(e,void 0,{name:n}):ea(e)?e2.map(e,{name:n}):eo(e)?e2.set(e,{name:n}):"function"!=typeof e||t$(e)||t6(e)?e:et(e)?t5(e):tW(n,e)}function eA(e){return e}function eR(e,t){return{annotationType_:e,options_:t,make_:eO,extend_:ek}}function eO(e,t,n,r){if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(t$(n.value))return 1;var i,a=eL(e,this,t,n,!1);return V(r,t,a),2}function ek(e,t,n,r){var i=eL(e,this,t,n);return e.defineProperty_(t,i,r)}function eL(e,t,n,r,i){void 0===i&&(i=tE.safeDescriptors),t.annotationType_,r.value;var a,o,s,l,u,c,d,h,f=r.value;return null!=(a=t.options_)&&a.bound&&(f=f.bind(null!=(h=e.proxy_)?h:e.target_)),{value:tt(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function eN(e,t){return{annotationType_:e,options_:t,make_:eI,extend_:eD}}function eI(e,t,n,r){if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!ec(e.target_,t)||!t6(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(t6(n.value))return 1;var i,a=eU(e,this,t,n,!1,!1);return V(r,t,a),2}function eD(e,t,n,r){var i,a=eU(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function eU(e,t,n,r,i,a){void 0===a&&(a=tE.safeDescriptors),t.annotationType_,r.value;var o,s=r.value;return t6(s)||(s=t5(s)),i&&((s=s.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0),{value:s,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function ez(e,t){return{annotationType_:e,options_:t,make_:eF,extend_:ej}}function eF(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ej(e,t,n,r){return this.annotationType_,n.get,e.defineComputedProperty_(t,ep({},this.options_,{get:n.get,set:n.set}),r)}function eB(e,t){return{annotationType_:e,options_:t,make_:eV,extend_:eG}}function eV(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function eG(e,t,n,r){var i,a;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:eP,r)}var eH=eW();function eW(e){return{annotationType_:"true",options_:e,make_:eX,extend_:e$}}function eX(e,t,n,r){if(n.get)return e6.make_(e,t,n,r);if(n.set){var i,a,o,s,l,u=tt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!tE.safeDescriptors||e.isPlainObject_,set:u})?0:2:(V(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return et(n.value)?(null!=(s=this.options_)&&s.autoBind?t5.bound:t5).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?tW.bound:tW).make_(e,t,n,r);var c=(null==(i=this.options_)?void 0:i.deep)===!1?e2.ref:e2;return"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_)),c.make_(e,t,n,r)}function e$(e,t,n,r){var i,a,o;return n.get?e6.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!tE.safeDescriptors||e.isPlainObject_,set:tt(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_)),((null==(a=this.options_)?void 0:a.deep)===!1?e2.ref:e2).extend_(e,t,n,r))}var eq={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(eq);var eY=eB("observable"),eK=eB("observable.ref",{enhancer:eA}),eZ=eB("observable.shallow",{enhancer:function(e,t,n){return null==e||nz(e)||nE(e)||nP(e)||nO(e)?e:Array.isArray(e)?e2.array(e,{name:n,deep:!1}):ee(e)?e2.object(e,void 0,{name:n,deep:!1}):ea(e)?e2.map(e,{name:n,deep:!1}):eo(e)?e2.set(e,{name:n,deep:!1}):void 0}}),eQ=eB("observable.struct",{enhancer:function(e,t){return nZ(e,t)?t:e}}),eJ=ex(eY);function e0(e){var t,n,r;return!0===e.deep?eP:!1===e.deep?eA:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:eP}function e1(e,t,n){if(Q(t)){eS(e,t,eY);return}return t7(e)?e:ee(e)?e2.object(e,t,n):Array.isArray(e)?e2.array(e,t):ea(e)?e2.map(e,t):eo(e)?e2.set(e,t):"object"==typeof e&&null!==e?e:e2.box(e,t)}j(e1,eJ);var e2=j(e1,{box:function(e,t){var n=t||eq;return new to(e,e0(n),n.name,!0,n.equals)},array:function(e,t){var n=t||eq;return(!1===tE.useProxies||!1===n.proxy?nX:nv)(e,e0(n),n.name)},map:function(e,t){var n=t||eq;return new nC(e,e0(n),n.name)},set:function(e,t){var n=t||eq;return new nR(e,e0(n),n.name)},object:function(e,t,n){var r,i,a;return function(e,t,n,r){var i=ed(t),a=nI(e,void 0)[ew];tC();try{el(i).forEach(function(e){a.extend_(e,i[e],!n||!(e in n)||n[e])})}finally{tP()}return e}(!1===tE.useProxies||(null==n?void 0:n.proxy)===!1?nI({},n):(r={},q(),null!=(a=(i=(r=nI(r,n))[ew]).proxy_)?a:i.proxy_=new Proxy(r,na)),e,t)},ref:ex(eK),shallow:ex(eZ),deep:eJ,struct:ex(eQ)}),e3="computed",e5=ez(e3),e4=ez("computed.struct",{equals:eC.structural}),e6=function(e,t){if(Q(t))return eS(e,t,e5);if(ee(e))return ex(ez(e3,e));var n=ee(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new tl(n)};Object.assign(e6,e5),e6.struct=ex(e4);var e8=0,e9=1,e7=null!=(u=null==(c=B(function(){},"name"))?void 0:c.configurable)&&u,te={value:"action",configurable:!0,writable:!1,enumerable:!1};function tt(e,t,n,r){function i(){return tn(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,e7&&(te.value=e,V(i,"name",te)),i}function tn(e,t,n,r,i){var a,o,s,l,u=(a=tE.trackingDerivation,o=!t||!a,tC(),s=tE.allowStateChanges,o&&(tg(),s=ti(!0)),e8=(l={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:s,prevAllowStateReads_:ty(!0),notifySpy_:!1,startTime_:0,actionId_:e9++,parentActionId_:e8}).actionId_,l);try{return n.apply(r,i)}catch(e){throw u.error_=e,e}finally{e8!==u.actionId_&&U(30),e8=u.parentActionId_,void 0!==u.error_&&(tE.suppressReactionErrors=!0),ta(u.prevAllowStateChanges_),tb(u.prevAllowStateReads_),tP(),u.runAsAction_&&tv(u.prevDerivation_),tE.suppressReactionErrors=!1}}function tr(e,t){var n=ti(e);try{return t()}finally{ta(n)}}function ti(e){var t=tE.allowStateChanges;return tE.allowStateChanges=e,t}function ta(e){tE.allowStateChanges=e}d=Symbol.toPrimitive;var to=function(e){function t(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=eC.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}em(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==tE.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(no(this)){var t=nl(this,{object:this,type:np,newValue:e});if(!t)return tE.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?tE.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),nu(this)&&nd(this,{type:np,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return ns(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:np,newValue:this.value_,oldValue:void 0}),nc(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return eu(this.get())},n[d]=function(){return this.valueOf()},t}(eE),ts=ei("ObservableValue",to);h=Symbol.toPrimitive;var tl=function(){function e(e){this.dependenciesState_=f.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=f.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new tc(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=p.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||U(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=tt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?eC.structural:eC.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){this.lowestObserverState_===f.UP_TO_DATE_&&(this.lowestObserverState_=f.POSSIBLY_STALE_,this.observers_.forEach(function(e){e.dependenciesState_===f.UP_TO_DATE_&&(e.dependenciesState_=f.POSSIBLY_STALE_,e.onBecomeStale_())}))},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing_&&U(32,this.name_,this.derivation),0!==tE.inBatch||0!==this.observers_.size||this.keepAlive_){if(tA(this),th(this)){var e,t=tE.trackingContext;this.keepAlive_&&!t&&(tE.trackingContext=this),this.trackAndCompute()&&(e=this,e.lowestObserverState_!==f.STALE_&&(e.lowestObserverState_=f.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===f.POSSIBLY_STALE_?t.dependenciesState_=f.STALE_:t.dependenciesState_===f.UP_TO_DATE_&&(e.lowestObserverState_=f.UP_TO_DATE_)}))),tE.trackingContext=t}}else th(this)&&(this.warnAboutUntrackedRead_(),tC(),this.value_=this.computeValue_(!1),tP());var n=this.value_;if(td(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter_&&U(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else U(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===f.NOT_TRACKING_,n=this.computeValue_(!0),r=t||td(e)||td(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ti(!1);if(e)t=tf(this,this.derivation,this.scope_);else if(!0===tE.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new tc(e)}return ta(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(tp(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return function(e,t){void 0===t&&(t=W);var n,r,i,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var o=tY(t),s=!1;i=new tO(a,function(){s||(s=!0,o(function(){s=!1,i.isDisposed_||i.track(l)}))},t.onError,t.requiresObservable)}else i=new tO(a,function(){this.track(l)},t.onError,t.requiresObservable);function l(){e(i)}return i.schedule_(),i.getDisposer_()}(function(){var a=n.get();if(!r||t){var o=tg();e({observableKind:"computed",debugObjectName:n.name_,type:np,object:n,newValue:a,oldValue:i}),tv(o)}r=!1,i=a})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return eu(this.get())},t[h]=function(){return this.valueOf()},e}(),tu=ei("ComputedValue",tl);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(f||(f={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(p||(p={}));var tc=function(e){this.cause=void 0,this.cause=e};function td(e){return e instanceof tc}function th(e){switch(e.dependenciesState_){case f.UP_TO_DATE_:return!1;case f.NOT_TRACKING_:case f.STALE_:return!0;case f.POSSIBLY_STALE_:for(var t=ty(!0),n=tg(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(tu(o)){if(tE.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return tv(n),tb(t),!0}if(e.dependenciesState_===f.STALE_)return tv(n),tb(t),!0}}return t_(e),tv(n),tb(t),!1}}function tf(e,t,n){var r,i=ty(!0);t_(e),e.newObserving_=Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++tE.runId;var a=tE.trackingDerivation;if(tE.trackingDerivation=e,tE.inBatch++,!0===tE.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new tc(e)}return tE.inBatch--,tE.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=f.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue_&&(s.diffValue_=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,a=t.length;a--;){var l=t[a];0===l.diffValue_&&tM(l,e),l.diffValue_=0}for(;i--;){var u=n[i];1===u.diffValue_&&(u.diffValue_=0,u.observers_.add(e),u.lowestObserverState_>e.dependenciesState_&&(u.lowestObserverState_=e.dependenciesState_))}r!==f.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),tb(i),r}function tp(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)tM(t[n],e);e.dependenciesState_=f.NOT_TRACKING_}function tm(e){var t=tg();try{return e()}finally{tv(t)}}function tg(){var e=tE.trackingDerivation;return tE.trackingDerivation=null,e}function tv(e){tE.trackingDerivation=e}function ty(e){var t=tE.allowStateReads;return tE.allowStateReads=e,t}function tb(e){tE.allowStateReads=e}function t_(e){if(e.dependenciesState_!==f.UP_TO_DATE_){e.dependenciesState_=f.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=f.UP_TO_DATE_}}var tx=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},tS=!0,tw=!1,tE=function(){var e=F();return(e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(tS=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new tx().version&&(tS=!1),tS)?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new tx):(setTimeout(function(){tw||U(35)},1),new tx)}();function tM(e,t){e.observers_.delete(t),0===e.observers_.size&&tT(e)}function tT(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,tE.pendingUnobservations.push(e))}function tC(){tE.inBatch++}function tP(){if(0==--tE.inBatch){tL();for(var e=tE.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof tl&&n.suspend_())}tE.pendingUnobservations=[]}}function tA(e){var t=tE.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&tE.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&tE.inBatch>0&&tT(e),!1)}function tR(e){e.lowestObserverState_!==f.STALE_&&(e.lowestObserverState_=f.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===f.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=f.STALE_}))}var tO=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=f.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=p.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,tE.pendingReactions.push(this),tL())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){tC(),this.isScheduled_=!1;var e=tE.trackingContext;if(tE.trackingContext=this,th(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}tE.trackingContext=e,tP()}},t.track=function(e){if(!this.isDisposed_){tC(),this.isRunning_=!0;var t=tE.trackingContext;tE.trackingContext=this;var n=tf(this,e,void 0);tE.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&tp(this),td(n)&&this.reportExceptionInDerivation_(n.cause),tP()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_){this.errorHandler_(e,this);return}if(tE.disableErrorBoundaries)throw e;tE.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),tE.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(tC(),tp(this),tP()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[ew]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){U("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=function(e){switch(e.length){case 0:return tE.trackingDerivation;case 1:return n$(e[0]);case 2:return n$(e[0],e[1])}}(n);if(!i)return U("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===p.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=e?p.BREAK:p.LOG}(this,e)},e}(),tk=function(e){return e()};function tL(){tE.inBatch>0||tE.isRunningReactions||tk(tN)}function tN(){tE.isRunningReactions=!0;for(var e=tE.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}tE.isRunningReactions=!1}var tI=ei("Reaction",tO),tD="action",tU="autoAction",tz="<unnamed action>",tF=eR(tD),tj=eR("action.bound",{bound:!0}),tB=eR(tU,{autoAction:!0}),tV=eR("autoAction.bound",{autoAction:!0,bound:!0});function tG(e){return function(t,n){return Z(t)?tt(t.name||tz,t,e):Z(n)?tt(t,n,e):Q(n)?eS(t,n,e?tB:tF):Q(t)?ex(eR(e?tU:tD,{name:t,autoAction:e})):void 0}}var tH=tG(!1);Object.assign(tH,tF);var tW=tG(!0);function tX(e){return tn(e.name||tz,!1,e,this,void 0)}function t$(e){return Z(e)&&!0===e.isMobxAction}Object.assign(tW,tB),tH.bound=ex(tj),tW.bound=ex(tV);var tq=function(e){return e()};function tY(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:tq}function tK(e,t,n){void 0===n&&(n=W);var r,i,a,o,s=null!=(i=n.name)?i:"Reaction",l=tH(s,n.onError?(r=n.onError,function(){try{return t.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,c=tY(n),d=!0,h=!1,f=n.compareStructural?eC.structural:n.equals||eC.default,p=new tO(s,function(){d||u?m():h||(h=!0,c(m))},n.onError,n.requiresObservable);function m(){if(h=!1,!p.isDisposed_){var t=!1;p.track(function(){var n=tr(!1,function(){return e(p)});t=d||!f(a,n),o=a,a=n}),d&&n.fireImmediately?l(a,o,p):!d&&t&&l(a,o,p),d=!1}}return p.schedule_(),p.getDisposer_()}function tZ(e,t,n){return tQ("onBUO",e,t,n)}function tQ(e,t,n,r){var i="function"==typeof r?n$(t,n):n$(t),a=Z(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var tJ="always",t0=0;function t1(){this.message="FLOW_CANCELLED"}t1.prototype=Object.create(Error.prototype);var t2=eN("flow"),t3=eN("flow.bound",{bound:!0}),t5=Object.assign(function(e,t){if(Q(t))return eS(e,t,t2);var n=e.name||"<unnamed flow>",r=function(){var t,r=arguments,i=++t0,a=tH(n+" - runid: "+i+" - init",e).apply(this,r),o=void 0,s=new Promise(function(e,r){var s=0;function l(e){var t;o=void 0;try{t=tH(n+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(e){return r(e)}c(t)}function u(e){var t;o=void 0;try{t=tH(n+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(e){return r(e)}c(t)}function c(t){if(Z(null==t?void 0:t.then)){t.then(c,r);return}return t.done?e(t.value):(o=Promise.resolve(t.value)).then(l,u)}t=r,l(void 0)});return s.cancel=tH(n+" - runid: "+i+" - cancel",function(){try{o&&t4(o);var e=a.return(void 0),n=Promise.resolve(e.value);n.then(K,K),t4(n),t(new t1)}catch(e){t(e)}}),s};return r.isMobXFlow=!0,r},t2);function t4(e){Z(e.cancel)&&e.cancel()}function t6(e){return(null==e?void 0:e.isMobXFlow)===!0}function t8(e,t,n){var r;return nP(e)||nE(e)||ts(e)?r=nq(e):nz(e)&&(r=nq(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function t9(e,t,n){return Z(n)?nq(e,t).intercept_(n):nq(e).intercept_(t)}function t7(e){var t;return!!e&&(void 0!==t?!!nz(e)&&e[ew].values_.has(t):nz(e)||!!e[ew]||eM(e)||tI(e)||tu(e))}function ne(e){return nz(e)?e[ew].keys_():nP(e)||nO(e)?Array.from(e.keys()):nE(e)?e.map(function(e,t){return t}):void U(5)}function nt(e){return nz(e)?ne(e).map(function(t){return e[t]}):nP(e)?ne(e).map(function(t){return e.get(t)}):nO(e)?Array.from(e.values()):nE(e)?e.slice():void U(6)}function nn(e,t,n){if(nz(e))return e[ew].defineProperty_(t,n);U(39)}function nr(e,t,n,r){return Z(n)?nq(e,t).observe_(n,r):nq(e).observe_(t,n)}function ni(e,t){void 0===t&&(t=void 0),tC();try{return e.apply(t)}finally{tP()}}t5.bound=ex(t3);var na={has:function(e,t){return e[ew].has_(t)},get:function(e,t){return e[ew].get_(t)},set:function(e,t,n){var r;return!!Q(t)&&(null==(r=e[ew].set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!Q(t)&&(null==(n=e[ew].delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=e[ew].defineProperty_(t,n))||r},ownKeys:function(e){return e[ew].ownKeys_()},preventExtensions:function(e){U(13)}};function no(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function ns(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function nl(e,t){var n=tg();try{for(var r=[].concat(e.interceptors_||[]),i=0,a=r.length;i<a&&((t=r[i](t))&&!t.type&&U(14),t);i++);return t}finally{tv(n)}}function nu(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function nc(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function nd(e,t){var n=tg(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,a=r.length;i<a;i++)r[i](t);tv(n)}}function nh(e,t,n){var r=nI(e,n)[ew];tC();try{null!=t||(ec(e,e_)||en(e,e_,ep({},e[e_])),t=e[e_]),el(t).forEach(function(e){return r.make_(e,t[e])})}finally{tP()}return e}var nf="splice",np="update",nm={get:function(e,t){var n=e[ew];return t===ew?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?ec(ny,t)?ny[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ew];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){U(15)}},ng=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new eE(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return ns(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),nc(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&U("Out of range: "+e);var t=this.values_.length;if(e!==t){if(e>t){for(var n=Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)}},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&U(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nW(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1==arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=H),no(this)){var a=nl(this,{object:this.proxy_,type:nf,index:e,removedCount:t,added:n});if(!a)return H;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map(function(e){return r.enhancer_(e,void 0)}),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var r;return(r=this.values_).splice.apply(r,[e,t].concat(n))}var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=nu(this),a=i||r?{observableKind:"array",object:this.proxy_,type:np,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&nd(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=nu(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:nf,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&nd(this,a)},t.get_=function(e){if(this.legacyMode_&&e>=this.values_.length){console.warn("[mobx] Out of bounds read: "+e);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e])},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&U(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(no(this)){var i=nl(this,{type:np,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var a=Array(e+1-n.length),o=0;o<a.length-1;o++)a[o]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function nv(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),q();var i=new ng(n,t,r,!1);er(i.values_,ew,i);var a=new Proxy(i.values_,nm);if(i.proxy_=a,e&&e.length){var o=ti(!0);i.spliceWithArray_(0,0,e),ta(o)}return a}var ny={clear:function(){return this.splice(0)},replace:function(e){var t=this[ew];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[ew];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ew].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ew],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ew].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ew],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return tE.trackingDerivation&&U(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){tE.trackingDerivation&&U(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ew],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function nb(e,t){"function"==typeof Array.prototype[e]&&(ny[e]=t(e))}function n_(e){return function(){var t=this[ew];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function nx(e){return function(t,n){var r=this,i=this[ew];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e](function(e,i){return t.call(n,e,i,r)})}}function nS(e){return function(){var t=this,n=this[ew];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}nb("concat",n_),nb("flat",n_),nb("includes",n_),nb("indexOf",n_),nb("join",n_),nb("lastIndexOf",n_),nb("slice",n_),nb("toString",n_),nb("toLocaleString",n_),nb("every",nx),nb("filter",nx),nb("find",nx),nb("findIndex",nx),nb("flatMap",nx),nb("forEach",nx),nb("map",nx),nb("some",nx),nb("reduce",nS),nb("reduceRight",nS);var nw=ei("ObservableArrayAdministration",ng);function nE(e){return J(e)&&nw(e[ew])}var nM={},nT="delete";m=Symbol.iterator,g=Symbol.toStringTag;var nC=function(){function e(e,t,n){var r=this;void 0===t&&(t=eP),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ew]=nM,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Z(Map)||U(18),this.keysAtom_=eT("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,tr(!0,function(){r.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!tE.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new to(this.has_(e),eA,"ObservableMap.key?",!1);this.hasMap_.set(e,r),tZ(r,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(no(this)){var r=nl(this,{type:n?np:"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,no(this)&&!nl(this,{type:nT,object:this,name:e}))return!1;if(this.has_(e)){var n=nu(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:nT,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return ni(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&nd(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==tE.UNCHANGED){var r=nu(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:np,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&nd(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,ni(function(){var r,i=new to(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()});var r=nu(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:e,newValue:t}:null;r&&nd(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nJ({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return nJ({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[m]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=eb(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return nP(e)&&(e=new Map(e)),ni(function(){ee(e)?(function(e){var t=Object.keys(e);if(!es)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return G.propertyIsEnumerable.call(e,t)})):t})(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):ea(e)?(e.constructor!==Map&&U(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&U(20,e)}),this},t.clear=function(){var e=this;ni(function(){tm(function(){for(var t,n=eb(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.replace=function(e){var t=this;return ni(function(){for(var n,r=function(e){if(ea(e)||nP(e))return e;if(Array.isArray(e))return new Map(e);if(!ee(e))return U(21,e);var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e),i=new Map,a=!1,o=eb(t.data_.keys());!(n=o()).done;){var s=n.value;if(!r.has(s)){if(t.delete(s))a=!0;else{var l=t.data_.get(s);i.set(s,l)}}}for(var u,c=eb(r.entries());!(u=c()).done;){var d=u.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var m=t.data_.get(h);i.set(h,m),p||(a=!0)}}if(!a){if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),v=i.keys(),y=g.next(),b=v.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=g.next(),b=v.next()}}t.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return nc(this,e)},t.intercept_=function(e){return ns(this,e)},ef(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:g,get:function(){return"Map"}}]),e}(),nP=ei("ObservableMap",nC),nA={};v=Symbol.iterator,y=Symbol.toStringTag;var nR=function(){function e(e,t,n){void 0===t&&(t=eP),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ew]=nA,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Z(Set)||U(22),this.atom_=eT(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;ni(function(){tm(function(){for(var t,n=eb(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.forEach=function(e,t){for(var n,r=eb(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,no(this)&&!nl(this,{type:"add",object:this,newValue:e}))return this;if(!this.has(e)){ni(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var n=nu(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:e}:null;n&&nd(this,r)}return this},t.delete=function(e){var t=this;if(no(this)&&!nl(this,{type:nT,object:this,oldValue:e}))return!1;if(this.has(e)){var n=nu(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:nT,object:this,oldValue:e}:null;return ni(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&nd(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return nJ({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return nJ({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return nO(e)&&(e=new Set(e)),ni(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):eo(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&U("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return nc(this,e)},t.intercept_=function(e){return ns(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[v]=function(){return this.values()},ef(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:y,get:function(){return"Set"}}]),e}(),nO=ei("ObservableSet",nR),nk=Object.create(null),nL="remove",nN=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=eH),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new eE("ObservableObject.keys"),this.isPlainObject_=ee(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof tl)return n.set(t),!0;if(no(this)){var r=nl(this,{type:np,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==tE.UNCHANGED){var i=nu(this),a=i?{type:np,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&nd(this,a)}return!0},t.get_=function(e){return tE.trackingDerivation&&!ec(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return(void 0===n&&(n=!1),ec(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!tE.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new to(e in this.target_,eA,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[e_])&&n[e])return;U(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==G;){var i=B(r,e);if(i){var a=t.make_(this,e,i,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}nF(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&nF(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{tC();var r=this.delete_(e);if(!r)return r;if(no(this)){var i=nl(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=ep({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else V(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tP()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{tC();var i=this.delete_(e);if(!i)return i;if(no(this)){var a=nl(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t});if(!a)return null;t=a.newValue}var o=nU(e),s={configurable:!tE.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else V(this.target_,e,s);var l=new to(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{tP()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{tC();var r=this.delete_(e);if(!r)return r;if(no(this)&&!nl(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=nU(e),a={configurable:!tE.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else V(this.target_,e,a);this.values_.set(e,new tl(t)),this.notifyPropertyAddition_(e,void 0)}finally{tP()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!ec(this.target_,e))return!0;if(no(this)&&!nl(this,{object:this.proxy_||this.target_,name:e,type:nL}))return null;try{tC();var n,r,i,a=nu(this),o=this.values_.get(e),s=void 0;if(!o&&a&&(s=null==(i=B(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof to&&(s=o.value_),tR(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var l={type:nL,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};a&&nd(this,l)}}finally{tP()}return!0},t.observe_=function(e,t){return nc(this,e)},t.intercept_=function(e){return ns(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=nu(this);if(i){var a=i?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&nd(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),el(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nI(e,t){if(ec(e,ew))return e;var n,r,i=null!=(r=null==t?void 0:t.name)?r:"ObservableObject",a=new nN(e,new Map,String(i),t?null!=(n=t.defaultDecorator)?n:eW(t):void 0);return en(e,ew,a),e}var nD=ei("ObservableObjectAdministration",nN);function nU(e){return nk[e]||(nk[e]={get:function(){return this[ew].getObservablePropValue_(e)},set:function(t){return this[ew].setObservablePropValue_(e,t)}})}function nz(e){return!!J(e)&&nD(e[ew])}function nF(e,t,n){var r;null==(r=e.target_[e_])||delete r[n]}var nj=nH(0),nB=0,nV=function(){};!function(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}(nV,Array.prototype);var nG=function(e,t,n){function r(t,n,r,i){void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this;var a,o=new ng(r,n,i,!0);if(o.proxy_=ev(a),er(ev(a),ew,o),t&&t.length){var s=ti(!0);a.spliceWithArray(0,0,t),ta(s)}return Object.defineProperty(ev(a),"0",nj),a}em(r,e);var i=r.prototype;return i.concat=function(){this[ew].atom_.reportObserved();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return nE(e)?e.slice():e}))},i[n]=function(){var e=this,t=0;return nJ({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},ef(r,[{key:"length",get:function(){return this[ew].getArrayLength_()},set:function(e){this[ew].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(nV,Symbol.toStringTag,Symbol.iterator);function nH(e){return{enumerable:!1,configurable:!0,get:function(){return this[ew].get_(e)},set:function(t){this[ew].set_(e,t)}}}function nW(e){if(e>nB){for(var t,n=nB;n<e+100;n++)t=n,V(nG.prototype,""+t,nH(t));nB=e}}function nX(e,t,n){return new nG(e,t,n)}function n$(e,t){if("object"==typeof e&&null!==e){if(nE(e))return void 0!==t&&U(23),e[ew].atom_;if(nO(e))return e.atom_;if(nP(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||U(25,t,nY(e)),n}if(nz(e)){if(!t)return U(26);var r=e[ew].values_.get(t);return r||U(27,t,nY(e)),r}if(eM(e)||tu(e)||tI(e))return e}else if(Z(e)&&tI(e[ew]))return e[ew];U(28)}function nq(e,t){return(e||U(29),void 0!==t)?nq(n$(e,t)):eM(e)||tu(e)||tI(e)||nP(e)||nO(e)?e:e[ew]?e[ew]:void U(24,e)}function nY(e,t){var n;if(void 0!==t)n=n$(e,t);else{if(t$(e))return e.name;n=nz(e)||nP(e)||nO(e)?nq(e):n$(e)}return n.name_}Object.entries(ny).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&en(nG.prototype,t,n)}),nW(1e3);var nK=G.toString;function nZ(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,a){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof n)return!1;var s=nK.call(t);if(s!==nK.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":if(+t!=+t)return+n!=+n;return 0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=nQ(t),n=nQ(n);var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(Z(u)&&u instanceof u&&Z(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),a=a||[];for(var d=(i=i||[]).length;d--;)if(i[d]===t)return a[d]===n;if(i.push(t),a.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],r-1,i,a))return!1}else{var h,f=Object.keys(t);if(d=f.length,Object.keys(n).length!==d)return!1;for(;d--;)if(!(ec(n,h=f[d])&&e(t[h],n[h],r-1,i,a)))return!1}return i.pop(),a.pop(),!0}(e,t,n)}function nQ(e){return nE(e)?e.slice():ea(e)||nP(e)||eo(e)||nO(e)?Array.from(e.entries()):e}function nJ(e){return e[Symbol.iterator]=n0,e}function n0(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===F()[e]&&U("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:nY},$mobx:ew});var n1=(N("acw62"),N("acw62"));if(!n1.useState)throw Error("mobx-react-lite requires React with Hooks support");if(!nh)throw Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function n2(e){e()}var n3={};s(n3,"useObserver",()=>rt);var n1=N("acw62");function n5(e){return function e(t){var n,r={name:t.name_};return t.observing_&&t.observing_.length>0&&(r.dependencies=(n=t.observing_,Array.from(new Set(n))).map(e)),r}(n$(e,void 0))}var n4=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),n6=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:n4)(function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null}),n8=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function n9(e){return"observer".concat(e)}var n7=function(){};function re(){return new n7}function rt(e,t){void 0===t&&(t="observed");var n,r,i=n8(O(n1).useState(re),1)[0],a=n8(O(n1).useState(),2)[1],o=function(){return a([])},s=O(n1).useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current;if(l.reaction||(l.reaction=new tO(n9(t),function(){l.mounted?o():l.changedBeforeMount=!0}),n6.register(i,l,l)),O(n1).useDebugValue(l.reaction,n5),O(n1).useEffect(function(){return n6.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,o()):(l.reaction=new tO(n9(t),function(){o()}),o()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}},[]),l.reaction.track(function(){try{n=e()}catch(e){r=e}}),r)throw r;return n}var n1=N("acw62"),rn="function"==typeof Symbol&&Symbol.for,rr=rn?Symbol.for("react.forward_ref"):"function"==typeof n1.forwardRef&&(0,n1.forwardRef)(function(e){return null}).$$typeof,ri=rn?Symbol.for("react.memo"):"function"==typeof n1.memo&&(0,n1.memo)(function(e){return null}).$$typeof,ra={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0},n1=(N("acw62"),N("acw62"));s({},"useAsObservableSource",()=>rs);var n1=N("acw62"),ro=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function rs(e){var t=ro((0,n1.useState)(function(){return e2(e,{},{deep:!1})}),1)[0];return tX(function(){Object.assign(t,e)}),t}!function(e){e||(e=n2),function(e){!0===e.isolateGlobalState&&function(){if((tE.pendingReactions.length||tE.inBatch||tE.isRunningReactions)&&U(36),tw=!0,tS){var e=F();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),tE=new tx}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(tE.useProxies=r===tJ||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(tE.verifyProxies=!0),void 0!==i){var a=i===tJ?tJ:"observed"===i;tE.enforceActions=a,tE.allowStateChanges=!0!==a&&a!==tJ}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(tE[t]=!!e[t])}),tE.allowStateReads=!tE.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=tk,tk=function(e){return t(function(){return n(e)})})}({reactionScheduler:e})}(D.unstable_batchedUpdates),n6.finalizeAllImmediately;var rl=0,ru={};function rc(e){return ru[e]||(ru[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+rl+")";return rl++,t}(e)),ru[e]}function rd(e,t){if(rh(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!rh(e[n[i]],t[n[i]]))return!1;return!0}function rh(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function rf(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var rp=rc("patchMixins"),rm=rc("patchedDefinition");function rg(e,t){for(var n,r=this,i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];t.locks++;try{return null!=e&&(n=e.apply(this,a)),n}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(r,a)})}}function rv(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];rg.call.apply(rg,[this,e,t].concat(r))}}function ry(e,t,n){var r,i,a=((i=(r=e[rp]=e[rp]||{})[t]=r[t]||{}).locks=i.locks||0,i.methods=i.methods||[],i);0>a.methods.indexOf(n)&&a.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[rm]){var s=e[t],l=function e(t,n,r,i,a){var o,s=rv(a,i);return(o={})[rm]=!0,o.get=function(){return s},o.set=function(a){if(this===t)s=rv(a,i);else{var o=e(this,n,r,i,a);Object.defineProperty(this,n,o)}},o.configurable=!0,o.enumerable=r,o}(e,t,o?o.enumerable:void 0,a,s);Object.defineProperty(e,t,l)}}var rb=ew||"$mobx",r_=rc("isMobXReactObserver"),rx=rc("isUnmounted"),rS=rc("skipRender"),rw=rc("isForcingUpdate");function rE(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function rM(e){var t=this;rf(this,rS,!1),rf(this,rw,!1);var n=rE(this),r=e.bind(this),i=!1,a=function(){var e=new tO(n+".render()",function(){if(!i&&(i=!0,!0!==t[rx])){var n=!0;try{rf(t,rw,!0),t[rS]||(0,n1.Component).prototype.forceUpdate.call(t),n=!1}finally{rf(t,rw,!1),n&&(e.dispose(),t.render[rb]=null)}}});return e.reactComponent=t,e};function o(){i=!1;var e,t=null!=(e=o[rb])?e:o[rb]=a(),n=void 0,s=void 0;if(t.track(function(){try{s=tr(!1,r)}catch(e){n=e}}),n)throw n;return s}return o}function rT(e,t){return this.state!==t||!rd(this.props,e)}function rC(e,t){var n=rc("reactProp_"+t+"_valueHolder"),r=rc("reactProp_"+t+"_atomHolder");function i(){return this[r]||rf(this,r,eT("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return ty&&tb&&(e=ty(!0)),i.call(this).reportObserved(),ty&&tb&&tb(e),this[n]},set:function(e){this[rw]||rd(this[n],e)?rf(this,n,e):(rf(this,n,e),rf(this,rS,!0),i.call(this).reportChanged(),rf(this,rS,!1))}})}function rP(e){return(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(n1.Component,e)||Object.prototype.isPrototypeOf.call(n1.PureComponent,e))?function(e){var t=e.prototype;if(e[r_]?console.warn("The provided component class ("+rE(t)+")\n                has already been declared as an observer component."):e[r_]=!0,t.componentWillReact)throw Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==n1.PureComponent){if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==rT)throw Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=rT}rC(t,"props"),rC(t,"state"),e.contextType&&rC(t,"context");var n=t.render;if("function"!=typeof n)throw Error("[mobx-react] class component ("+rE(t)+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.");return t.render=function(){return this.render=rM.call(this,n),this.render()},ry(t,"componentDidMount",function(){this[rx]=!1,this.render[rb]||(0,n1.Component).prototype.forceUpdate.call(this)}),ry(t,"componentWillUnmount",function(){var e=this.render[rb];e?(e.dispose(),this.render[rb]=null):console.warn("The reactive render of an observer class component ("+rE(this)+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed."),this[rx]=!0}),e}(e):function(e,t){if(ri&&e.$$typeof===ri)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n,r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(rr&&e.$$typeof===rr&&(r=!0,"function"!=typeof(i=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(e,t){return(0,n3.useObserver)(function(){return i(e,t)},a)};return""!==a&&(o.displayName=a),e.contextTypes&&(o.contextTypes=e.contextTypes),r&&(o=(0,n1.forwardRef)(o)),function(e,t){Object.keys(e).forEach(function(n){ra[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}(e,o=(0,n1.memo)(o)),o}(e)}if(O(n1).createContext({}),!n1.Component)throw Error("mobx-react requires React to be available");if(!e2)throw Error("mobx-react requires mobx to be available");var n1=N("acw62");const rA=rP(({children:e,width:t="100vw",height:n="100vh"})=>{let[r,i]=(0,n1.useState)({width:0,height:0}),a=(0,n1.useRef)(null);(0,n1.useLayoutEffect)(()=>{let e=()=>{let{width:e,height:t}=a.current.getBoundingClientRect();i({width:e,height:t})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[t,n]);let o=O(n1).Children.only(e);return(0,I.jsx)("div",{ref:a,className:"slt-container",style:{width:t,height:n},children:r.width&&r.height&&O(n1).isValidElement(o)&&O(n1).cloneElement(o,{...r})})});var n1=N("acw62"),rR=N("f1q41"),rO={},rk=rO={};function rL(){throw Error("setTimeout has not been defined")}function rN(){throw Error("clearTimeout has not been defined")}function rI(e){if(b===setTimeout)return setTimeout(e,0);if((b===rL||!b)&&setTimeout)return b=setTimeout,setTimeout(e,0);try{return b(e,0)}catch(t){try{return b.call(null,e,0)}catch(t){return b.call(this,e,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:rL}catch(e){b=rL}try{_="function"==typeof clearTimeout?clearTimeout:rN}catch(e){_=rN}}();var rD=[],rU=!1,rz=-1;function rF(){rU&&x&&(rU=!1,x.length?rD=x.concat(rD):rz=-1,rD.length&&rj())}function rj(){if(!rU){var e=rI(rF);rU=!0;for(var t=rD.length;t;){for(x=rD,rD=[];++rz<t;)x&&x[rz].run();rz=-1,t=rD.length}x=null,rU=!1,function(e){if(_===clearTimeout)return clearTimeout(e);if((_===rN||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(e);try{_(e)}catch(t){try{return _.call(null,e)}catch(t){return _.call(this,e)}}}(e)}}function rB(e,t){this.fun=e,this.array=t}function rV(){}rk.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];rD.push(new rB(e,t)),1!==rD.length||rU||rI(rj)},rB.prototype.run=function(){this.fun.apply(null,this.array)},rk.title="browser",rk.browser=!0,rk.env={},rk.argv=[],rk.version="",rk.versions={},rk.on=rV,rk.addListener=rV,rk.once=rV,rk.off=rV,rk.removeListener=rV,rk.removeAllListeners=rV,rk.emit=rV,rk.prependListener=rV,rk.prependOnceListener=rV,rk.listeners=function(e){return[]},rk.binding=function(e){throw Error("process.binding is not supported")},rk.cwd=function(){return"/"},rk.chdir=function(e){throw Error("process.chdir is not supported")},rk.umask=function(){return 0},function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(S||(S={}));var rG=function(e,t){return(rG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function rH(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rG(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var rW=function(){return(rW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function rX(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function r$(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function rq(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r$(arguments[t]));return e}function rY(e){return ib(e).type}function rK(e,t){ib(e).applyPatches(ik(t))}function rZ(e,t){return ib(e).applySnapshot(t)}function rQ(e,t){void 0===t&&(t=!0);var n=ib(e);return t?n.snapshot:function(e){return e}(n.type.getSnapshot(n,!1))}var rJ=function(){function e(e,t,n,r){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:T.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new iF),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(e&&(this.pathAtom||(this.pathAtom=eT("path")),this.pathAtom.reportObserved()),this.parent)?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?iH(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==T.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===T.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=eT("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===T.CREATED){if(this.parent){if(this.parent.state!==T.FINALIZED)return;this.fireHook(S.afterAttach)}this.state=T.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=T.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(S.beforeDestroy)}}),e}(),r0=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;try{o.storedValue=t.createNewInstance(a)}catch(e){throw o.state=T.DEAD,e}return o.state=T.CREATED,o.finalizeCreation(),o}return rH(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw iP("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.parent!==e,r=this.subpath!==t;(n||r)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return function(e){return e}(this.getSnapshot())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==T.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(rJ);r0.prototype.die=tH(r0.prototype.die);var r1=1,r2={onError:function(e){throw e}},r3=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;if(Object.defineProperty(o,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++r1}),Object.defineProperty(o,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(o,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(o,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(o,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o._snapshotComputed=e6(function(){return function(e){return e}(o.getSnapshot())}),o.unbox=o.unbox.bind(o),o._initialSnapshot=function(e){return e}(a),o.identifierAttribute=t.identifierAttribute,n||(o.identifierCache=new ip),o._childNodes=t.initializeChildNodes(o,o._initialSnapshot),o.identifier=null,o.unnormalizedIdentifier=null,o.identifierAttribute&&o._initialSnapshot){var s,l=o._initialSnapshot[o.identifierAttribute];if(void 0===l){var u=o._childNodes[o.identifierAttribute];u&&(l=u.value)}if("string"!=typeof l&&"number"!=typeof l)throw iP("Instance identifier '"+o.identifierAttribute+"' for type '"+o.type.name+"' must be a string or a number");o.identifier=""+l,o.unnormalizedIdentifier=l}return n?n.root.identifierCache.addNodeToCache(o):o.identifierCache.addNodeToCache(o),o}return rH(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState=1;for(var e,t,n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=rX(n),a=i.next();!a.done;a=i.next())a.value.createObservableInstanceIfNeeded()}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var o=this.type;try{this.storedValue=o.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,o.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=T.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=iT,this.state=T.CREATED,this.fireHook(S.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(S.beforeDetach);var e=this.state;this.state=T.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e!==this.parent,r=t!==this.subpath;(n||r)&&(n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(S.afterAttach)):r&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(tX?tX(function(){n.apply(t.storedValue)}):n.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){!this.isAlive&&iB(this._getAssertAliveError(e))}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&iH(e.subpath)||"",r=e.actionContext||M;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i="";return r&&null!=r.name&&(i=(r&&r.context&&ib(r.context).path||t)+"."+r.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+i+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(iT),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):iw(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw iP("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation(function(){var t,n;try{for(var r=rX(e.getChildren()),i=r.next();!i.done;i=r.next())i.value.finalizeCreation()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(S.afterCreationFinalization)})}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw iP("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=ii(this.storedValue,"@APPLY_PATCHES",function(t){t.forEach(function(t){if(!t.path){e.type.applySnapshot(e,t.value);return}var n=i$(t.path);(function(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var a=t[i];if(".."===a){if(r=r.parent)continue}else if("."===a)continue;else if(r){if(r instanceof r0)try{var o=r.value;iv(o)&&(r=ib(o))}catch(e){if(!n)return;throw e}if(r instanceof r3&&r.getChildType(a)&&(r=r.getChildNode(a)))continue}if(!n)return;throw iP("Could not resolve '"+a+"' in path '"+(iX(t.slice(0,i))||"/")+"' while resolving '"+iX(t)+"'")}return r})(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)})}),this._applySnapshot=ii(this.storedValue,"@APPLY_SNAPSHOT",function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)}),iU(this.storedValue,"$treenode",this),iU(this.storedValue,"toJSON",ix)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==T.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach(function(e){e.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(e){e.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=r$(function(e){if(!("oldValue"in e))throw iP("Patches without `oldValue` field cannot be inversed");return[function(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}(e),function(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var a in i)e[a]=i[a]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),r=n[0],i=n[1];this._internalEventsEmit("patch",r,i)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.hasDisposer(e)){this._internalEventsRegister("dispose",e,!0);return}throw iP("cannot add a disposer when it is already registered for execution")}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw iP("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=tK(function(){return e.snapshot},function(t){return e.emitSnapshot(t)},r2);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new iF),this._internalEvents.register(e,t,n)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,rq([e],n))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(rJ);r3.prototype.createObservableInstance=tH(r3.prototype.createObservableInstance),r3.prototype.detach=tH(r3.prototype.detach),r3.prototype.die=tH(r3.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(E||(E={}));var r5="cannotDetermine",r4=Symbol("$type"),r6=function(){function e(e){Object.defineProperty(this,w,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return id(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw iP("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(i_(e)){var n=rY(e);return this.isAssignableFrom(n)?iM:iu(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw iP("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw iP("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw iP("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw iP("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();w=r4,r6.prototype.create=tH(r6.prototype.create);var r8=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return rH(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n;return!e.identifierAttribute||e.identifier===""+t[e.identifierAttribute]}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.isDetaching&&(!!(e.snapshot===t||iv(t)&&ib(t)===e)||!!(e.type===this&&iN(t)&&!iv(t)&&this.isMatchingSnapshotId(e,t))&&(e.applySnapshot(t),!0))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),iv(t)&&this.isAssignableFrom(rY(t))){var i=ib(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(r6);r8.prototype.create=tH(r8.prototype.create);var r9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rH(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(r6);function r7(e){return"object"==typeof e&&e&&!0===e.isType}function ie(e,t){}function it(e){return{$MST_UNSERIALIZABLE:!0,type:e}}!function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var ir=1;function ii(e,t,n){var r=function(){var r=ir++,i=M,a=function(e){if(e)return"action"===e.type?e:e.parentActionEvent}(i);return function(e,t){var n=ib(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=M;M=e;try{return function(e,t,n){var r=new ia(e,n);if(r.isEmpty)return tH(n).apply(null,t.args);var i=null;return function e(t){var a,o=r.getNextMiddleware(),s=o&&o.handler;if(!s)return tH(n).apply(null,t.args);if(!o.includeHooks&&S[t.name])return e(t);var l=!1,u=!1;s(t,function(t,n){l=!0,i=e(t),n&&(i=n(i))},function(e){u=!0,i=e});return i}(t)}(n,e,t)}finally{M=i,n._isRunningAction=r}}({type:"action",name:t,id:r,args:function(e){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}(arguments),context:e,tree:ib(e).root.storedValue,rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?rq(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:a},n)};return r._isMSTAction=!0,r}var ia=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function io(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":iv(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function is(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map(function(e){return e.path}).filter(function(e){return e.length>0}).join("/"),i=r.length>0?'at path "/'+r+'" ':"",a=iv(t)?"value of type "+ib(t).type.name+":":iI(t)?"value":"snapshot",o=n&&iv(t)&&n.is(ib(t).snapshot);return""+i+a+" "+io(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?r7(n)&&(n.flags&(E.String|E.Number|E.Integer|E.Boolean|E.Date))>0||iI(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(o?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function il(e,t,n){return e.concat([{path:t,type:n}])}function iu(e,t,n){return[{context:e,value:t,message:n}]}function ic(e){return e.reduce(function(e,t){return e.concat(t)},[])}function id(e,t){void 0!==rO&&rO.env}var ih=0,ip=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:ih++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:e2.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:e2.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,e2.array([],iC));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw iP("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;nt(e.identifierCache.cache).forEach(function(e){return e.forEach(function(e){t.addNodeToCache(e)})})}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n,r=this,i=new e,a=t.path;return(nz(n=this.cache)?ne(n).map(function(e){return[e,n[e]]}):nP(n)?ne(n).map(function(e){return[e,n.get(e)]}):nO(n)?Array.from(n.entries()):nE(n)?n.map(function(e,t){return[t,e]}):void U(7)).forEach(function(e){for(var t=r$(e,2),n=t[0],o=t[1],s=!1,l=o.length-1;l>=0;l--)0===o[l].path.indexOf(a)&&(i.addNodeToCache(o[l],!1),o.splice(l,1),s=!0);s&&r.updateLastCacheModificationPerId(n)}),i}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);return!!n&&n.some(function(t){return e.isAssignableFrom(t.type)})}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter(function(t){return e.isAssignableFrom(t.type)});switch(r.length){case 0:return null;case 1:return r[0];default:throw iP("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map(function(e){return e.path}).join(", "))}}}),e}();function im(e,t,n,r,i){var a=i_(i);if(a){if(a.parent)throw iP("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+a.path+"'");return t&&a.setParent(t,n),a}return new r3(e,t,n,r,i)}function ig(e,t,n,r,i){return new r0(e,t,n,r,i)}function iv(e){return!!(e&&e.$treenode)}function iy(e,t){}function ib(e){if(!iv(e))throw iP("Value "+e+" is no MST Node");return e.$treenode}function i_(e){return e&&e.$treenode||null}function ix(){return ib(this).snapshot}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(T||(T={}));var iS=function(e){return".."};function iw(e){if(!e)return iM;var t=Object.keys(e);if(!t.length)return iM;var n=Array(t.length);return t.forEach(function(t,r){n[r]=e[t]}),n}var iE=Object.toString(),iM=Object.freeze([]),iT=Object.freeze({}),iC=tE.useProxies?{deep:!1}:{deep:!1,proxy:!1};function iP(e){return void 0===e&&(e="Illegal state"),Error("[mobx-state-tree] "+e)}function iA(e){return e}Object.freeze(iC);var iR=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function iO(e){return Array.isArray(e)||nE(e)}function ik(e){return e?iO(e)?e:[e]:iM}function iL(e){if(null===e||"object"!=typeof e)return!1;var t,n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===iE}function iN(e){return null!==e&&"object"==typeof e&&!(e instanceof Date)&&!(e instanceof RegExp)}function iI(e,t){return void 0===t&&(t=!0),null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date}function iD(e){return e}function iU(e,t,n){var r,i,a;r=e,i=t,a={enumerable:!1,writable:!1,configurable:!0,value:n},nz(r)?nn(r,i,a):Object.defineProperty(r,i,a)}var iz=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.slice().forEach(function(t){return t.apply(void 0,rq(e))})}}),e}(),iF=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new iz),r.register(t,n)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers&&this.eventHandlers[e];r&&r.emit.apply(r,rq(t))}}),e}();function ij(e,t){return 0===e.indexOf(t)}function iB(e){console.warn(Error("[mobx-state-tree] "+e))}function iV(e,t){}function iG(e,t,n){void 0===n&&(n=!0)}function iH(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function iW(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function iX(e){if(0===e.length)return"";var t=function(e){return e.map(iH).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function i$(e){var t=e.split("/").map(iW);if(!(""===e||"."===e||".."===e||ij(e,"/")||ij(e,"./")||ij(e,"../")))throw iP("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}var iq=Symbol("$preProcessorFailed"),iY=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return rH(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|E.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(e){return iq}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;(function(e,t){for(var n,r,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];try{for(var o=rX(i),s=o.next();!s.done;s=o.next()){var l=s.value;e[l]=t[l].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}})(e.type,this,"create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))},(this._subtype.flags&E.Union)>0||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=iv(r)?r:this.preProcessSnapshot(r),a=this._subtype.instantiate(e,t,n,i);return this._fixNode(a),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this._subtype.reconcile(e,iv(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.preProcessSnapshotSafe(e);return n===iq?iu(t,e,"Failed to preprocess value"):this._subtype.validate(n,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=r7(e)?this._subtype:iv(e)?rQ(e,!1):this.preProcessSnapshotSafe(e);return t!==iq&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof r8))return!1;var n=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,n)}}),t}(r6),iK="Map.put can only be used to store complex values that have an identifier type attribute";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(C||(C={}));var iZ=function(e){function t(t){return e.call(this,t,e2.ref.enhancer)||this}return rH(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return e.prototype.set.call(this,""+t,n)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw iP("Map.put cannot be used to set empty values");if(iv(e)){var t=ib(e);if(null===t.identifier)throw iP(iK);return this.set(t.identifier,e),e}if(iN(e)){var n=ib(this),r=n.type;if(r.identifierMode!==C.YES)throw iP(iK);var i=e[r.mapIdentifierAttribute];if(!aO(i)){var a=this.put(r.getChildType().create(e,n.environment));return this.put(rQ(a))}var o=""+i;return this.set(o,e),this.get(o)}throw iP("Map.put can only be used to store complex values")}}),t}(nC),iQ=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:C.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=r,i}return rH(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._determineIdentifierMode(),im(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===C.UNKNOWN){var e=[];if(function e(t,n){var r,i,a=t.getSubTypes();if(a===r5)return!1;if(a){var o=ik(a);try{for(var s=rX(o),l=s.next();!l.done;l=s.next()){var u=l.value;if(!e(u,n))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return t instanceof i8&&n.push(t),!0}(this._subType,e)){var t=e.reduce(function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw iP("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute},void 0);t?(this.identifierMode=C.YES,this.mapIdentifierAttribute=t):this.identifierMode=C.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach(function(i){r[i]=n.instantiate(e,i,void 0,t[i])}),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new iZ(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t8(t,e.unbox),e.type.hookInitializers.forEach(function(e){var n=e(t);Object.keys(n).forEach(function(e){var r=n[e],i=ii(t,e,r);iU(t,e,i)})}),t9(t,this.willChange),nr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return nt(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e.storedValue.get(""+t);if(!n)throw iP("Not a child "+t);return n}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var a=e.newValue;if(a===e.object.get(n))return null;id(i,a),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":id(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===C.YES&&t instanceof r3){var n=t.identifier;if(n!==e)throw iP("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach(function(e){t[e.subpath]=e.snapshot}),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n].getSnapshot()}),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:iH(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:iH(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:iH(e.name),oldValue:n},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){id(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach(function(e){r[e]=!1}),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach(function(e){!1===r[e]&&n.delete(e)})}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return iL(e)?ic(Object.keys(e).map(function(r){return n._subType.validate(e[r],il(t,r,n._subType))})):iu(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return iT}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(r8);iQ.prototype.applySnapshot=tH(iQ.prototype.applySnapshot);var iJ=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=r,i}return rH(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return im(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach(function(t,i){var a=""+i;r[a]=n.instantiate(e,a,void 0,t)}),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e2.array(iw(e),iC)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){nq(t).dehancer=e.unbox,e.type.hookInitializers.forEach(function(e){var n=e(t);Object.keys(n).forEach(function(e){var r=n[e],i=ii(t,e,r);iU(t,e,i)})}),t9(t,this.willChange),nr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw iP("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=i0(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var a=e.index,o=e.removedCount,s=e.added,l=i0(t,n,r.slice(a,a+o),s,s.map(function(e,t){return a+t}));if(!l)return null;e.added=l;for(var u=a+o;u<r.length;u++)r[u].setParent(t,""+(u+s.length-o))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map(function(e){return e.snapshot})}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach(function(n){t.push(e[n].getSnapshot())}),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(var n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){id(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return iO(e)?ic(e.map(function(e,r){return n._subType.validate(e,il(t,""+r,n._subType))})):iu(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return iM}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(r8);function i0(e,t,n,r,i){for(var a=!0,o=0;;o++){var s,l=o<=r.length-1,u=n[o],c=l?r[o]:void 0,d=""+i[o];if(((s=c)instanceof r0||s instanceof r3)&&(c=c.storedValue),u||l){if(l){if(u){if(i2(u,c))n[o]=i1(t,e,d,c,u);else{for(var h=void 0,f=o;f<n.length;f++)if(i2(n[f],c)){h=n.splice(f,1)[0];break}a=!1;var p=i1(t,e,d,c,h);n.splice(o,0,p)}}else{if(iv(c)&&ib(c).parent===e)throw iP("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+d+"', but it lives already at '"+ib(c).path+"'");a=!1;var p=i1(t,e,d,c);n.splice(o,0,p)}}else a=!1,n.splice(o,1),u instanceof r3&&u.createObservableInstanceIfNeeded(),u.die(),o--}else break}return a?null:n}function i1(e,t,n,r,i){id(e,r);var a=function(){if(iv(r)){var a=ib(r);if(a.assertAlive(iT),null!==a.parent&&a.parent===t)return a.setParent(t,n),a}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==a&&(i instanceof r3&&i.createObservableInstanceIfNeeded(),i.die()),a}function i2(e,t){if(!e.isAlive)return!1;if(iv(t)){var n=ib(t);return n.isAlive&&n===e}if(e.snapshot===t)return!0;if(!(e instanceof r3))return!1;var r=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&iL(t)&&r.is(t)&&r.isMatchingSnapshotId(e,t)}iJ.prototype.applySnapshot=tH(iJ.prototype.applySnapshot);var i3="preProcessSnapshot",i5="postProcessSnapshot";function i4(){return ib(this).toString()}var i6={name:"AnonymousModel",properties:{},initializers:iM},i8=function(e){function t(t){var n,r=e.call(this,t.name||i6.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,i6,t),r.properties=Object.keys(n=r.properties).reduce(function(e,t){if(t in S)throw iP("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var n,r,i,a=Object.getOwnPropertyDescriptor(e,t);if("get"in a)throw iP("Getters are not supported as properties. Please use views instead");var o=a.value;if(null==o)throw iP("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(iI(o))return Object.assign({},e,((n={})[t]=ah(function(e){switch(typeof e){case"string":return i7;case"number":return ae;case"boolean":return an;case"object":if(e instanceof Date)return aa}throw iP("Cannot determine primitive type from value "+e)}(o),o),n));if(o instanceof iQ)return Object.assign({},e,((r={})[t]=ah(o,{}),r));if(o instanceof iJ)return Object.assign({},e,((i={})[t]=ah(o,[]),i));if(r7(o))return e;throw iP("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+o+"' ("+typeof o+")")},n),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return rH(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps(function(t,n){if(n.flags&E.Identifier){if(e)throw iP("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}}),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!iL(t))throw iP("actions initializer should return a plain object containing actions");Object.keys(t).forEach(function(n){if(n===i3)throw iP("Cannot define action '"+i3+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(n===i5)throw iP("Cannot define action '"+i5+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in S&&i){var a=r;r=function(){i.apply(null,arguments),a.apply(null,arguments)}}var o=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=o;var l=ii(e,n,s);t[n]=l,iU(e,n,l)})}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw iP("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!iL(t))throw iP("volatile state initializer should return a plain object containing state");!function e(t,n,r){if(2==arguments.length&&!nO(t)){tC();var i=n;try{for(var a in i)e(t,a,i[a])}finally{tP()}return}nz(t)?t[ew].set_(n,r):nP(t)?t.set(n,r):nO(t)?t.add(n):nE(t)?("number"!=typeof n&&(n=parseInt(n,10)),n<0&&U("Invalid index: '"+n+"'"),tC(),n>=t.length&&(t.length=n+1),t[n]=r,tP()):U(8)}(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,a=r.views,o=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(r,["actions","views","state"]);for(var l in s)throw iP("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+l+"'");return o&&t.instantiateVolatileState(n,o),a&&t.instantiateViews(n,a),i&&t.instantiateActions(n,i),n}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!iL(t))throw iP("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach(function(n){var r,i=Object.getOwnPropertyDescriptor(t,n);if("get"in i)nn(e,n,i),nh(e,((r={})[n]=e6,r));else if("function"==typeof i.value)iU(e,n,i.value);else throw iP("A view member should either be a function or getter based property")})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return im(this,e,t,n,iv(r)?r:this.applySnapshotPreProcessor(r))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps(function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])}),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e2.object(e,iT,iC)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){iU(t,"toString",i4),this.forAllProps(function(n){t8(t,n,e.unbox)}),this.initializers.reduce(function(e,t){return t(e)},t),t9(t,this.willChange),nr(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type.properties[n];return r&&(id(r,e.newValue),e.newValue=r.reconcile(t.getChildNode(n),e.newValue,t,n)),e}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ib(e.object);if(t.type.properties[e.name]){var n=e.oldValue?e.oldValue.snapshot:void 0;t.emitPatch({op:"replace",path:iH(e.name),value:e.newValue.snapshot,oldValue:n},t)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=[];return this.forAllProps(function(r){n.push(t.getChildNode(e,r))}),n}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw iP("Not a value property: "+t);var n=nq(e.storedValue,t).raw();if(!n)throw iP("Node not available for property "+t);return n}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={};return(this.forAllProps(function(t,i){n$(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot}),t)?this.applySnapshotPostProcessor(r):r}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n].getSnapshot()}),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){if(!("replace"===n.op||"add"===n.op))throw iP("object does not support operation "+n.op);e.storedValue[t]=n.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){id(this,t);var n=this.applySnapshotPreProcessor(t);this.forAllProps(function(t){e.storedValue[t]=n[t]})}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return iG(e,1),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return iL(r)?ic(this.propertyNames.map(function(e){return n.properties[e].validate(r[e],il(t,e,n.properties[e]))})):iu(t,r,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach(function(n){return e(n,t.properties[n])})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map(function(t){return t+": "+e.properties[t].describe()}).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return iT}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(r8);i8.prototype.applySnapshot=tH(i8.prototype.applySnapshot);var i9=function(e){function t(t,n,r,i){void 0===i&&(i=iA);var a=e.call(this,t)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"checker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),a.flags=n,a}return rH(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return ig(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return iI(e)&&this.checker(e)?iM:iu(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(r9),i7=new i9("string",E.String,function(e){return"string"==typeof e}),ae=new i9("number",E.Number,function(e){return"number"==typeof e}),at=new i9("integer",E.Integer,function(e){return iR(e)}),an=new i9("boolean",E.Boolean,function(e){return"boolean"==typeof e}),ar=new i9("null",E.Null,function(e){return null===e}),ai=new i9("undefined",E.Undefined,function(e){return void 0===e}),aa=new i9("Date",E.Date,function(e){return"number"==typeof e||e instanceof Date},function(e){return e instanceof Date?e:new Date(e)});aa.getSnapshot=function(e){return e.storedValue.getTime()};var ao=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(n,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Literal}),n.value=t,n}return rH(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return ig(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return iI(e)&&e===this.value?iM:iu(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(r9);function as(e){return new ao(e)}var al=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return rH(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|E.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=iv(e)?ib(e).snapshot:e;return this._predicate(r)?iM:iu(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(r6),au=function(e){function t(t,n,r){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),r=rW({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return rH(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=E.Union;return this._types.forEach(function(t){e|=t.flags}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some(function(t){return t.isAssignableFrom(e)})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(e){return e.describe()}).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw iP("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(t,e.getReconciliationType());if(!i)throw iP("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter(function(e){return e!==t}).find(function(t){return t.is(e)}):this._types.find(function(t){return t.is(e)})}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var a=this._types[i].validate(e,t);if(0===a.length){if(this._eager)return iM;r++}else n.push(a)}return 1===r?iM:iu(t,e,"No type is applicable for the union").concat(ic(n))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(r6);function ac(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=r7(e)?void 0:e,i=r7(e)?rq([e],t):t,a="("+i.map(function(e){return e.name}).join(" | ")+")";return new au(a,i,r)}var ad=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return rH(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|E.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,0>this.optionalValues.indexOf(t)&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&id(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?iM:this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(r6);function ah(e,t,n){return!function(e,t){if("function"!=typeof t&&iv(t))throw iP("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}(e,t),new ad(e,t,n||af)}var af=[void 0],ap=ah(ai,void 0),am=ah(ar,null);function ag(e){return ac(e,ap)}var av=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return rH(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|E.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(e instanceof ReferenceError)t=void 0;else throw e}if(e&&void 0===t)throw iP("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):iM}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||r5}}),t}(r6),ay=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(n,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Frozen}),n}return rH(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return ig(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return"function"!=typeof e?this.subType?this.subType.validate(e,t):iM:iu(t,e,"Value is not serializable and cannot be frozen")}}),t}(r9),ab=new ay,a_=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),aO(e))this.identifier=e;else if(iv(e)){var n=ib(e);if(!n.identifierAttribute)throw iP("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw iP("Can only store references to tree nodes with a defined identifier.");this.identifier=r}else throw iP("Can only store references to tree nodes or identifiers, got: '"+e+"'")}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,n=""+this.identifier,r=e.root,i=r.identifierCache.getLastCacheModificationPerId(n);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==i){var a=this.targetType,o=r.identifierCache.resolve(a,n);if(!o)throw new ax("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:i}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),ax=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return rH(t,e),t}(Error),aS=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(r,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Reference}),r}return rH(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return aO(e)?iM:iu(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var a=i.storedValue;a&&this.onInvalidated({cause:e,parent:a,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){rK(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){var e;r7(e=i.type)&&(e.flags&E.Object)>0?this.replaceRef(void 0):rK(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.getValue(e);if(r){var i=ib(r),a=function(r,a){var o=function(e){switch(e){case S.beforeDestroy:return"destroy";case S.beforeDetach:return"detach";default:return}}(a);o&&n.fireInvalidated(o,e,t,i)},o=i.registerHook(S.beforeDetach,a),s=i.registerHook(S.beforeDestroy,a);return function(){o(),s()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r,i=this;if(this.onInvalidated){e.registerHook(S.beforeDestroy,function(){r&&r()});var a=function(a){r&&r();var o=e.parent,s=o&&o.storedValue;if(o&&o.isAlive&&s)(n?!!n.get(t,s):e.root.identifierCache.has(i.targetType,""+t))?r=i.addTargetNodeWatcher(e,t):a||i.fireInvalidated("invalidSnapshotReference",e,t,null)};e.state===T.FINALIZED?a(!0):(e.isRoot||e.root.registerHook(S.afterCreationFinalization,function(){e.parent&&e.parent.createObservableInstanceIfNeeded()}),e.registerHook(S.afterAttach,function(){a(!1)}))}}}),t}(r9),aw=function(e){function t(t,n){return e.call(this,t,n)||this}return rH(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=iv(r)?ib(r).identifier:r,a=new a_(r,this.targetType),o=ig(this,e,t,n,a);return a.node=o,this.watchTargetNodeForInvalidations(o,i,void 0),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=iv(t),a=e.storedValue;if(!i&&a.identifier===t||i&&a.resolvedValue===t)return e.setParent(n,r),e}var o=this.instantiate(n,r,void 0,t);return e.die(),o}}),t}(aS),aE=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return rH(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=iv(r)?this.options.set(r,e?e.storedValue:null):r,a=ig(this,e,t,n,i);return this.watchTargetNodeForInvalidations(a,i,this.options),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=iv(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var a=this.instantiate(n,r,void 0,i);return e.die(),a}}),t}(aS);function aM(e,t){var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new aE(e,{get:n.get,set:n.set},r):new aw(e,r)}var aT=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"validType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Identifier}),r}return rH(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e||!(e.type instanceof i8))throw iP("Identifier types can only be instantiated as direct child of a model type");return ig(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(e.storedValue!==t)throw iP("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?iu(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):iM}}),t}(r9),aC=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Identifier}),t}return rH(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(aT),aP=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return rH(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(aT),aA=new aC,aR=new aP;function aO(e){return"string"==typeof e||"number"==typeof e}var ak=function(e){function t(t){var n=e.call(this,t.name)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:E.Custom}),n}return rH(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return iM;var n=this.options.getValidationMessage(e);return n?iu(t,e,"Invalid value for type '"+this.name+"': "+n):iM}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment);return ig(this,e,t,n,i)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(n,r),e;var a=i?this.options.fromSnapshot(t,n.root.environment):t,o=this.instantiate(n,r,void 0,a);return e.die(),o}}),t}(r9),aL={enumeration:function(e,t){var n=ac.apply(void 0,rq(("string"==typeof e?t:e).map(function(e){return as(""+e)})));return"string"==typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new i8({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),e.reduce(function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})}).named(r)},custom:function(e){return new ak(e)},reference:aM,safeReference:function(e,t){var n=aM(e,rW(rW({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:ag(n)},union:ac,optional:ah,literal:as,maybe:ag,maybeNull:function(e){return ac(e,am)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():r7(e[0])?e[0].name:null,r=e[0],i=e[1],a=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return iG(n,1),new al(n,r,i,a)},string:i7,boolean:an,number:ae,integer:at,Date:aa,map:function(e){return new iQ("map<string, "+e.name+">",e)},array:function(e){return new iJ(e.name+"[]",e)},frozen:function(e){return 0==arguments.length?ab:r7(e)?new ay(e):ah(ab,e)},identifier:aA,identifierNumber:aR,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")",r="string"==typeof e?t:e;return new av(n,r)},undefined:ai,null:ar,snapshotProcessor:function(e,t,n){return new iY(e,t,n)}};const aN="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var aI={randomUUID:aN};const aD=new Uint8Array(16);function aU(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(aD)}const az=[];for(let e=0;e<256;++e)az.push((e+256).toString(16).slice(1));var aF=function(e,t,n){if(aI.randomUUID&&!t&&!e)return aI.randomUUID();e=e||{};let r=e.random||(e.rng||aU)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(az[e[t+0]]+az[e[t+1]]+az[e[t+2]]+az[e[t+3]]+"-"+az[e[t+4]]+az[e[t+5]]+"-"+az[e[t+6]]+az[e[t+7]]+"-"+az[e[t+8]]+az[e[t+9]]+"-"+az[e[t+10]]+az[e[t+11]]+az[e[t+12]]+az[e[t+13]]+az[e[t+14]]+az[e[t+15]]).toLowerCase()}(r)};const aj=aL.model({x:aL.number,y:aL.number}),aB=aL.model({x:aL.number,y:aL.number,z:aL.number}),aV=aL.model({}),aG=aL.model({name:aL.maybeNull(aL.string),id:aL.identifier,color:aL.string,properties:aL.maybeNull(aL.array(aV))}),aH=aL.model({id:aL.identifier,uuid:aL.string,color:aL.string,visible:aL.boolean,key:aL.maybeNull(aL.string)}).actions(e=>({hide(){e.visible=!1},show(){e.visible=!0}})),aW=aL.compose(aH,aL.model({position:aj,type:aL.literal("rect"),value:aL.model({width:aL.number,height:aL.number})})),aX=aL.compose(aH,aL.model({position:aj,type:aL.literal("circle"),value:aL.model({x:aL.number,y:aL.number})})),a$=aL.compose(aH,aL.model({position:aB,type:aL.literal("cube"),value:aL.model({position:aB,size:aL.model({depth:aL.number,width:aL.number,height:aL.number}),rotation:aB})})).actions(e=>({reposition(t,n,r){e.position.x=e.value.position.x=t,e.position.y=e.value.position.y=n,e.position.z=e.value.position.z=r},resizeX(t){e.value.size.width=t},resizeY(t){e.value.size.depth=t},resizeZ(t){e.value.size.height=t},resize(e,t,n){this.resizeX(e),this.resizeY(t),this.resizeZ(n)},rotateX(t){e.value.rotation.x=t},rotateY(t){e.value.rotation.y=t},rotateZ(t){e.value.rotation.z=t},rotate(e,t,n){this.rotateX(e),this.resizeY(t),this.rotateZ(n)}})),aq=aL.union(aW,aX,a$),aY=aL.model({key:aL.string,title:aL.string}),aK=aL.model({position:aj,visible:aL.boolean,menus:aL.array(aY)}),aZ=aL.enumeration(["light","dark"]),aQ=aL.enumeration(["select","draw","drag","unknown"]),aJ=aL.enumeration(["cube","rect","selection","lasso"]);let a0=0;const a1=aL.model("Store",{scale:1,selectedElementIds:aL.array(aL.string),elements:aL.array(aq),creatingElement:aL.maybeNull(aq),workspaceTheme:aL.optional(aZ,"light"),selectedClassificationKey:aL.maybeNull(aL.string),classifications:aL.array(aG),contextMenu:aL.optional(aK,{visible:!1,position:{x:0,y:0}}),mouseAction:aL.optional(aQ,"unknown"),selectedTool:aL.optional(aJ,"cube")}).views(e=>({get selectedElements(){return"1"},get selectedClassification(){return e.classifications.find(t=>t.name===e.selectedClassificationKey)},get cubeElements(){return e.elements.filter(e=>"cube"===e.type)}})).actions(e=>({reset(){a0=0},getElementById:t=>e.elements.find(e=>e.id===t),getElementsByIds(e){return e.map(e=>this.getElementById)},moveElement(e,t){let n=this.getElementById(e);n&&(n.position={...n.position,...t})},deleteElement(t){let n=this.getElementById(t);n&&(0,rR.pull)(e.elements,n)},createElement(t){let n={id:`${a0++}`,uuid:aF(),visible:!0},r=null;"cube"===t.type?r=a$.create({...t,...n}):"circle"===t.type?r=aX.create({...t,...n}):"rect"===t.type&&(r=aW.create({...t,...n})),e.creatingElement=r},createdElement(){var t,n,r;e.creatingElement&&(e.elements.push((t=e.creatingElement,void 0===n&&(n=!0),(r=ib(t)).type.create(r.snapshot,!0===n?r.root.environment:!1===n?void 0:n))),e.creatingElement=null)},setMouseAction(t){e.mouseAction=t},setSelectedElement(t,n=!1){n?e.selectedElementIds.push(t):e.selectedElementIds.clear().push(t)},setSelectedTool(t){e.selectedTool=t},updateCubeFaceProjection(){}})),a2=a1.volatile(()=>({history:[],currentStateIndex:-1})).views(e=>({get canUndo(){return e.currentStateIndex>0},get canRedo(){return e.currentStateIndex<e.history.length-1}})).actions(e=>({undo(){e.canUndo&&(e.currentStateIndex-=1,rZ(e,e.history[e.currentStateIndex]))},redo(){e.canRedo&&(e.currentStateIndex+=1,rZ(e,e.history[e.currentStateIndex]))},afterCreate(){e.history.push(rQ(e)),e.currentStateIndex+=1,function(e,t,n){var r,i;void 0===n&&(n=!1),void 0===r&&(r=!0),i=ib(e),i.addMiddleWare(function(r,i){if("action"!==r.type||r.id!==r.rootId)return i(r);var a=ib(r.context),o={name:r.name,path:function(e,t){if(e.root!==t.root)throw iP("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var n=i$(e.path),r=i$(t.path),i=0;i<n.length&&n[i]===r[i];i++);return n.slice(i).map(iS).join("/")+iX(r.slice(i))}(ib(e),a),args:r.args.map(function(e,t){return function(e,t,n,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if(iI(r))return r;if(iv(r))return it("[MSTNode: "+rY(r).name+"]");if("function"==typeof r)return it("[function]");if("object"==typeof r&&!iL(r)&&!iO(r))return it("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(e){return it(""+e)}}(0,r.name,0,e)})};if(!n)return t(o),i(r);var s=i(r);return t(o),s},r)}(e,t=>{if(/^(delete)|(move)|(created)/.test(t.name)){let t=rQ(e);t!==e.history[e.currentStateIndex+1]&&e.history.splice(e.currentStateIndex+1),e.history.push(t),e.currentStateIndex+=1}})}})),a3=(...e)=>a2.create(...e),a5=(0,n1.createContext)(a3()),a4=()=>(0,n1.useContext)(a5);var I=N("ayMG0"),n1=N("acw62"),a6={};!function(){"use strict";var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)n.push(i);else if(Array.isArray(i)){if(i.length){var o=t.apply(null,i);o&&n.push(o)}}else if("object"===a){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var s in i)e.call(i,s)&&i[s]&&n.push(s)}}}return n.join(" ")}a6?(t.default=t,a6=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}();var I=N("ayMG0"),n1=N("acw62");const a8=(0,n1.forwardRef)(({orientation:e="horizontal",size:t=4,position:n=0,color:r,onStart:i=()=>{},onChange:a=()=>{},onEnd:o=()=>{}},s)=>{let l=(0,n1.useRef)(),u=(0,n1.useRef)({type:"mouse",target:null,startX:0,startY:0,currentX:0,currentY:0}),c=(0,n1.useRef)(),d=(0,n1.useMemo)(()=>"vertical"===e?{width:t,height:"100%",left:n,backgroundColor:r}:{width:"100%",height:t,top:n,backgroundColor:r},[e,n,t,r]),h=()=>{window.addEventListener("mousemove",p),window.addEventListener("mouseup",m)},f=()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",m)},p=e=>{u.current.target&&(u.current.currentX=e.pageX,u.current.currentY=e.pageY,a(u.current,c.current))},m=e=>{u.current.target&&(u.current.currentX=e.pageX,u.current.currentY=e.pageY,o(u.current,c.current),u.current.target=null,c.current=void 0),f()};return(0,I.jsx)("div",{ref:e=>{l.current=e,s&&("function"==typeof s?s(e):s.current=e)},className:O(a6)({sash:!0}),style:d,onMouseDown:e=>{h(),u.current.target=e.target,u.current.startX=e.pageX,u.current.startY=e.pageY,c.current=i(u.current)}})});var a9=({views:e,orientation:t="horizontal",width:n="100%",height:r="100%"})=>{let[i,a]=(0,n1.useState)({width:0,height:0}),[o,s]=(0,n1.useState)([]),l=(0,n1.useRef)(null),u=(0,n1.useRef)([]),c="horizontal"===t?"width":"height",d=e=>{u.current=[...o]},h=(n,r)=>{let a=n.currentX-n.startX,l=n.currentY-n.startY,d="horizontal"===t?a:l,h=e[r],f=h.max?h.max*i[c]:o[r]+o[r+1],p=h.min||0,m=d>0?Math.min(d,f-o[r]):Math.max(d,p-o[0]);o[r]=u.current[r]+m,o[r+1]=u.current[r+1]-m,s([...o])},f=e=>{let t=0;for(let n=0;n<=e;n++)t+=o[n]||0;return t-2};return(0,n1.useLayoutEffect)(()=>{if("number"==typeof n&&"number"==typeof r)a({width:n,height:r});else{let{width:e,height:t}=l.current.getBoundingClientRect();a({width:e,height:t})}},[n,r]),(0,n1.useLayoutEffect)(()=>{i.width&&i.height&&s(e.reduce((t,n)=>t.concat((n.init||1/e.length)*i[c]),[]))},[e,i]),(0,I.jsxs)("div",{className:"split-view",ref:l,style:{width:"100%",height:"100%"},children:[(0,I.jsx)("div",{className:"sash-container",children:o.length&&e.slice(0,-1).map((e,t)=>(0,I.jsx)(a8,{position:f(t),onStart:e=>d(e),onChange:e=>h(e,t),orientation:"vertical"},t))}),(0,I.jsx)("div",{className:O(a6)(["view-container",t]),children:o.length&&e.map(({element:e},t)=>{let n=e.key||t;return O(n1).cloneElement(e,{key:n,width:"width"===c?o[t]:i.width,height:"height"===c?o[t]:i.height})})})]})},I=N("ayMG0"),n1=N("acw62"),I=N("ayMG0");N("acw62");const a7=rP(({name:e,id:t,color:n,properties:r})=>(0,I.jsxs)("div",{className:"classification",children:[(0,I.jsx)("div",{style:{backgroundColor:n},children:e||t}),(0,I.jsx)("div",{})]}));var oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),on=N("1SA7b"),or=N("bOOlK"),oi=N("9dZwz"),oe=N("8nd05"),ot=N("1En50"),oa=N("17r9Q"),oo=N("kOOck");const os=["sx"],ol=e=>{var t,n;let r={systemProps:{},otherProps:{}},i=null!=(t=null==e?void 0:null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:oo.default;return Object.keys(e).forEach(t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function ou(e){let t;let{sx:n}=e,r=(0,ot.default)(e,os),{systemProps:i,otherProps:a}=ol(r);return t=Array.isArray(n)?[i,...n]:"function"==typeof n?(...e)=>{let t=n(...e);return(0,oa.isPlainObject)(t)?(0,oe.default)({},i,t):i}:(0,oe.default)({},i,n),(0,oe.default)({},a,{sx:t})}var oc=N("7HKeb"),I=N("ayMG0");const od=["className","component"];var oh=N("bnost"),of=N("ijOKP"),op=N("4jPsi");const om=(0,of.default)(),og=function(e={}){let{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,a=(0,or.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(oi.default),o=n1.forwardRef(function(e,o){let s=(0,oc.default)(n),l=ou(e),{className:u,component:c="div"}=l,d=(0,ot.default)(l,od);return(0,I.jsx)(a,(0,oe.default)({as:c,ref:o,className:(0,on.default)(u,i?i(r):r),theme:t&&s[t]||s},d))});return o}({themeId:op.default,defaultTheme:om,defaultClassName:"MuiBox-root",generateClassName:oh.default.generate});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),ob=N("d8seH"),o_=N("6g9fa"),oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa");function ox(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function oS(...e){return n1.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{ox(e,t)})},e)}var n1=(N("acw62"),N("acw62"),N("acw62"));const ow="undefined"!=typeof window?n1.useLayoutEffect:n1.useEffect;function oE(e){let t=n1.useRef(e);return ow(()=>{t.current=e}),n1.useCallback((...e)=>(0,t.current)(...e),[])}var n1=N("acw62");let oM=!0,oT=!1;const oC={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function oP(e){e.metaKey||e.altKey||e.ctrlKey||(oM=!0)}function oA(){oM=!1}function oR(){"hidden"===this.visibilityState&&oT&&(oM=!0)}function oO(){let e=n1.useCallback(e=>{if(null!=e){var t;(t=e.ownerDocument).addEventListener("keydown",oP,!0),t.addEventListener("mousedown",oA,!0),t.addEventListener("pointerdown",oA,!0),t.addEventListener("touchstart",oA,!0),t.addEventListener("visibilitychange",oR,!0)}},[]),n=n1.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!function(e){let{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return oM||function(e){let{type:t,tagName:n}=e;return"INPUT"===n&&!!oC[t]&&!e.readOnly||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(oT=!0,window.clearTimeout(t),t=window.setTimeout(()=>{oT=!1},100),n.current=!1,!0)},ref:e}}var oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),ot=N("1En50"),oe=N("8nd05");function ok(e,t){return(ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ok(e,t)}var n1=(N("acw62"),N("acw62")),oN=O(n1).createContext(null),n1=N("acw62");function oI(e,t){var n=Object.create(null);return e&&(0,n1.Children).map(e,function(e){return e}).forEach(function(e){n[e.key]=t&&(0,n1.isValidElement)(e)?t(e):e}),n}function oD(e,t,n){return null!=n[t]?n[t]:e.props[t]}var oU=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},oz=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}oL(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?oI(e.children,function(t){return(0,n1.cloneElement)(t,{onExited:a.bind(null,t),in:!0,appear:oD(t,"appear",e),enter:oD(t,"enter",e),exit:oD(t,"exit",e)})}):(Object.keys(r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(i,n=oI(e.children))).forEach(function(t){var o=r[t];if((0,n1.isValidElement)(o)){var s=t in i,l=t in n,u=i[t],c=(0,n1.isValidElement)(u)&&!u.props.in;l&&(!s||c)?r[t]=(0,n1.cloneElement)(o,{onExited:a.bind(null,o),in:!0,exit:oD(o,"exit",e),enter:oD(o,"enter",e)}):l||!s||c?l&&s&&(0,n1.isValidElement)(u)&&(r[t]=(0,n1.cloneElement)(o,{onExited:a.bind(null,o),in:u.props.in,exit:oD(o,"exit",e),enter:oD(o,"enter",e)})):r[t]=(0,n1.cloneElement)(o,{in:!1})}}),r),firstRender:!1}},n.handleExited=function(e,t){var n=oI(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,oe.default)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,ot.default)(e,["component","childFactory"]),i=this.state.contextValue,a=oU(this.state.children).map(n);return(delete r.appear,delete r.enter,delete r.exit,null===t)?O(n1).createElement(oN.Provider,{value:i},a):O(n1).createElement(oN.Provider,{value:i},O(n1).createElement(t,r,a))},t}(O(n1).Component);oz.propTypes={},oz.defaultProps={component:"div",childFactory:function(e){return e}};var on=N("1SA7b"),oF=N("8zogs"),ob=N("d8seH"),o_=N("6g9fa"),n1=N("acw62"),on=N("1SA7b"),I=N("ayMG0"),oj=N("beCSm"),oB=N("4Cod0");const oV=(0,oj.default)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var I=N("ayMG0");const oG=["center","classes","className"];let oH=e=>e,oW,oX,o$,oq;const oY=(0,oF.keyframes)(oW||(oW=oH`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),oK=(0,oF.keyframes)(oX||(oX=oH`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),oZ=(0,oF.keyframes)(o$||(o$=oH`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),oQ=(0,ob.default)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),oJ=(0,ob.default)(function(e){let{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:o,in:s,onExited:l,timeout:u}=e,[c,d]=n1.useState(!1),h=(0,on.default)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f=(0,on.default)(n.child,c&&n.childLeaving,r&&n.childPulsate);return s||c||d(!0),n1.useEffect(()=>{if(!s&&null!=l){let e=setTimeout(l,u);return()=>{clearTimeout(e)}}},[l,s,u]),(0,I.jsx)("span",{className:h,style:{width:o,height:o,top:-(o/2)+a,left:-(o/2)+i},children:(0,I.jsx)("span",{className:f})})},{name:"MuiTouchRipple",slot:"Ripple"})(oq||(oq=oH`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),oV.rippleVisible,oY,550,({theme:e})=>e.transitions.easing.easeInOut,oV.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,oV.child,oV.childLeaving,oK,550,({theme:e})=>e.transitions.easing.easeInOut,oV.childPulsate,oZ,({theme:e})=>e.transitions.easing.easeInOut),o0=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:a}=n,o=(0,ot.default)(n,oG),[s,l]=n1.useState([]),u=n1.useRef(0),c=n1.useRef(null);n1.useEffect(()=>{c.current&&(c.current(),c.current=null)},[s]);let d=n1.useRef(!1),h=n1.useRef(0),f=n1.useRef(null),p=n1.useRef(null);n1.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);let m=n1.useCallback(e=>{let{pulsate:t,rippleX:n,rippleY:r,rippleSize:a,cb:o}=e;l(e=>[...e,(0,I.jsx)(oJ,{classes:{ripple:(0,on.default)(i.ripple,oV.ripple),rippleVisible:(0,on.default)(i.rippleVisible,oV.rippleVisible),ripplePulsate:(0,on.default)(i.ripplePulsate,oV.ripplePulsate),child:(0,on.default)(i.child,oV.child),childLeaving:(0,on.default)(i.childLeaving,oV.childLeaving),childPulsate:(0,on.default)(i.childPulsate,oV.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},u.current)]),u.current+=1,c.current=o},[i]),g=n1.useCallback((e={},t={},n=()=>{})=>{let i,a,o;let{pulsate:s=!1,center:l=r||t.pulsate,fakeElement:u=!1}=t;if((null==e?void 0:e.type)==="mousedown"&&d.current){d.current=!1;return}(null==e?void 0:e.type)==="touchstart"&&(d.current=!0);let c=u?null:p.current,g=c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!l&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;i=Math.round(t-g.left),a=Math.round(n-g.top)}else i=Math.round(g.width/2),a=Math.round(g.height/2);if(l)(o=Math.sqrt((2*g.width**2+g.height**2)/3))%2==0&&(o+=1);else{let e=2*Math.max(Math.abs((c?c.clientWidth:0)-i),i)+2,t=2*Math.max(Math.abs((c?c.clientHeight:0)-a),a)+2;o=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{m({pulsate:s,rippleX:i,rippleY:a,rippleSize:o,cb:n})},h.current=setTimeout(()=>{f.current&&(f.current(),f.current=null)},80)):m({pulsate:s,rippleX:i,rippleY:a,rippleSize:o,cb:n})},[r,m]),v=n1.useCallback(()=>{g({},{pulsate:!0})},[g]),y=n1.useCallback((e,t)=>{if(clearTimeout(h.current),(null==e?void 0:e.type)==="touchend"&&f.current){f.current(),f.current=null,h.current=setTimeout(()=>{y(e,t)});return}f.current=null,l(e=>e.length>0?e.slice(1):e),c.current=t},[]);return n1.useImperativeHandle(t,()=>({pulsate:v,start:g,stop:y}),[v,g,y]),(0,I.jsx)(oQ,(0,oe.default)({className:(0,on.default)(oV.root,i.root,a),ref:p},o,{children:(0,I.jsx)(oz,{component:null,exit:!0,children:s})}))});var oj=N("beCSm"),oB=N("4Cod0");function o1(e){return(0,oB.default)("MuiButtonBase",e)}const o2=(0,oj.default)("MuiButtonBase",["root","disabled","focusVisible"]);var I=N("ayMG0");const o3=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],o5=e=>{let{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=(0,ov.default)({root:["root",t&&"disabled",n&&"focusVisible"]},o1,i);return n&&r&&(a.root+=` ${r}`),a},o4=(0,ob.default)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${o2.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),o6=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:a,className:o,component:s="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:d=!1,LinkComponent:h="a",onBlur:f,onClick:p,onContextMenu:m,onDragLeave:g,onFocus:v,onFocusVisible:y,onKeyDown:b,onKeyUp:_,onMouseDown:x,onMouseLeave:S,onMouseUp:w,onTouchEnd:E,onTouchMove:M,onTouchStart:T,tabIndex:C=0,TouchRippleProps:P,touchRippleRef:A,type:R}=n,O=(0,ot.default)(n,o3),k=n1.useRef(null),L=n1.useRef(null),N=oS(L,A),{isFocusVisibleRef:D,onFocus:U,onBlur:z,ref:F}=oO(),[j,B]=n1.useState(!1);l&&j&&B(!1),n1.useImperativeHandle(r,()=>({focusVisible:()=>{B(!0),k.current.focus()}}),[]);let[V,G]=n1.useState(!1);n1.useEffect(()=>{G(!0)},[]);let H=V&&!u&&!l;function W(e,t,n=c){return oE(r=>(t&&t(r),!n&&L.current&&L.current[e](r),!0))}n1.useEffect(()=>{j&&d&&!u&&V&&L.current.pulsate()},[u,d,j,V]);let X=W("start",x),$=W("stop",m),q=W("stop",g),Y=W("stop",w),K=W("stop",e=>{j&&e.preventDefault(),S&&S(e)}),Z=W("start",T),Q=W("stop",E),J=W("stop",M),ee=W("stop",e=>{z(e),!1===D.current&&B(!1),f&&f(e)},!1),et=oE(e=>{k.current||(k.current=e.currentTarget),U(e),!0===D.current&&(B(!0),y&&y(e)),v&&v(e)}),en=()=>{let e=k.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},er=n1.useRef(!1),ei=oE(e=>{d&&!er.current&&j&&L.current&&" "===e.key&&(er.current=!0,L.current.stop(e,()=>{L.current.start(e)})),e.target===e.currentTarget&&en()&&" "===e.key&&e.preventDefault(),b&&b(e),e.target===e.currentTarget&&en()&&"Enter"===e.key&&!l&&(e.preventDefault(),p&&p(e))}),ea=oE(e=>{d&&" "===e.key&&L.current&&j&&!e.defaultPrevented&&(er.current=!1,L.current.stop(e,()=>{L.current.pulsate(e)})),_&&_(e),p&&e.target===e.currentTarget&&en()&&" "===e.key&&!e.defaultPrevented&&p(e)}),eo=s;"button"===eo&&(O.href||O.to)&&(eo=h);let es={};"button"===eo?(es.type=void 0===R?"button":R,es.disabled=l):(O.href||O.to||(es.role="button"),l&&(es["aria-disabled"]=l));let el=oS(t,F,k),eu=(0,oe.default)({},n,{centerRipple:i,component:s,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:d,tabIndex:C,focusVisible:j}),ec=o5(eu);return(0,I.jsxs)(o4,(0,oe.default)({as:eo,className:(0,on.default)(ec.root,o),ownerState:eu,onBlur:ee,onClick:p,onContextMenu:$,onFocus:et,onKeyDown:ei,onKeyUp:ea,onMouseDown:X,onMouseLeave:K,onMouseUp:Y,onDragLeave:q,onTouchEnd:Q,onTouchMove:J,onTouchStart:Z,ref:el,tabIndex:l?-1:C,type:R},es,O,{children:[a,H?(0,I.jsx)(o0,(0,oe.default)({ref:N,center:i},P)):null]}))});var o8=N("jTnBY"),oj=N("beCSm"),oB=N("4Cod0");function o9(e){return(0,oB.default)("MuiIconButton",e)}const o7=(0,oj.default)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);"use strict";var I=N("ayMG0");const se=["edge","children","className","color","disabled","disableFocusRipple","size"],st=e=>{let{classes:t,disabled:n,color:r,edge:i,size:a}=e,o={root:["root",n&&"disabled","default"!==r&&`color${(0,o8.default)(r)}`,i&&`edge${(0,o8.default)(i)}`,`size${(0,o8.default)(a)}`]};return(0,ov.default)(o,o9,t)},sn=(0,ob.default)(o6,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,o8.default)(n.color)}`],n.edge&&t[`edge${(0,o8.default)(n.edge)}`],t[`size${(0,o8.default)(n.size)}`]]}})(({theme:e,ownerState:t})=>(0,oe.default)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var n;let r=null==(n=(e.vars||e).palette)?void 0:n[t.color];return(0,oe.default)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,oe.default)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,oe.default)({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${o7.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),sr=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:a,color:o="default",disabled:s=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=(0,ot.default)(n,se),d=(0,oe.default)({},n,{edge:r,color:o,disabled:s,disableFocusRipple:l,size:u}),h=st(d);return(0,I.jsx)(sn,(0,oe.default)({className:(0,on.default)(h.root,a),centerRipple:!0,focusRipple:!l,disabled:s,ref:t,ownerState:d},c,{children:i}))});var si={},sa={};(sa=function(e){return e&&e.__esModule?e:{default:e}}).__esModule=!0,sa.default=sa,Object.defineProperty(si,"__esModule",{value:!0}),si.default=void 0;var so=sa(N("7Ekty")),I=N("ayMG0"),ss=(0,so.default)((0,I.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");si.default=ss;const sl=rP(({width:e="100%",height:t="100%"})=>{let[n,r]=(0,n1.useState)(!1),i=a4();return(0,I.jsx)("div",{className:"side-panel",style:{width:e,height:t,boxShadow:"-1px 0 #d0d7de"},children:(0,I.jsxs)(og,{sx:{width:"100%",bgcolor:"background.paper"},children:[(0,I.jsx)("h3",{children:"classifications"}),(0,I.jsxs)("div",{className:"classifications",children:[i.classifications.map(e=>(0,I.jsx)(a7,{...e},e.name)),(0,I.jsx)(sr,{onClick:()=>r(!0),children:(0,I.jsx)(O(si),{})})]})]})})});var I=N("ayMG0");N("acw62");const su=rP(()=>{let e=a4();return(0,I.jsxs)("div",{className:"slt-status-bar",style:{height:40,lineHeight:"40px",boxShadow:"0 -1px #d0d7de",paddingLeft:20},children:["scale: ",e.scale,"mouse action: ",e.mouseAction,(0,I.jsx)("span",{style:{color:"red",marginLeft:20},children:"左键标注，右键控制点云"})]})});var I=N("ayMG0"),n1=N("acw62"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),sc=N("1vDzc"),ov=N("8Indx"),oy=N("jgarO"),ob=N("d8seH"),o_=N("6g9fa"),o8=N("jTnBY"),oj=N("beCSm"),oB=N("4Cod0");function sd(e){return(0,oB.default)("MuiButton",e)}const sh=(0,oj.default)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var n1=N("acw62");const sf=n1.createContext({});var I=N("ayMG0");const sp=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sm=e=>{let{color:t,disableElevation:n,fullWidth:r,size:i,variant:a,classes:o}=e,s={root:["root",a,`${a}${(0,o8.default)(t)}`,`size${(0,o8.default)(i)}`,`${a}Size${(0,o8.default)(i)}`,"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,o8.default)(i)}`],endIcon:["endIcon",`iconSize${(0,o8.default)(i)}`]},l=(0,ov.default)(s,sd,o);return(0,oe.default)({},o,l)},sg=e=>(0,oe.default)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),sv=(0,ob.default)(o6,{shouldForwardProp:e=>(0,ob.rootShouldForwardProp)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,o8.default)(n.color)}`],t[`size${(0,o8.default)(n.size)}`],t[`${n.variant}Size${(0,o8.default)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;let i="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],a="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,oe.default)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,oe.default)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,oe.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${sh.focusVisible}`]:(0,oe.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${sh.disabled}`]:(0,oe.default)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,oy.alpha)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sh.disabled}`]:{boxShadow:"none"}}),sy=(0,ob.default)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,o8.default)(n.size)}`]]}})(({ownerState:e})=>(0,oe.default)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},sg(e))),sb=(0,ob.default)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,o8.default)(n.size)}`]]}})(({ownerState:e})=>(0,oe.default)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},sg(e))),s_=n1.forwardRef(function(e,t){let n=n1.useContext(sf),r=(0,sc.default)(n,e),i=(0,o_.default)({props:r,name:"MuiButton"}),{children:a,color:o="primary",component:s="button",className:l,disabled:u=!1,disableElevation:c=!1,disableFocusRipple:d=!1,endIcon:h,focusVisibleClassName:f,fullWidth:p=!1,size:m="medium",startIcon:g,type:v,variant:y="text"}=i,b=(0,ot.default)(i,sp),_=(0,oe.default)({},i,{color:o,component:s,disabled:u,disableElevation:c,disableFocusRipple:d,fullWidth:p,size:m,type:v,variant:y}),x=sm(_),S=g&&(0,I.jsx)(sy,{className:x.startIcon,ownerState:_,children:g}),w=h&&(0,I.jsx)(sb,{className:x.endIcon,ownerState:_,children:h});return(0,I.jsxs)(sv,(0,oe.default)({ownerState:_,className:(0,on.default)(n.className,x.root,l),component:s,disabled:u,focusRipple:!d,focusVisibleClassName:(0,on.default)(x.focusVisible,f),ref:t,type:v},b,{classes:x,children:[S,a,w]}))});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),oa=N("17r9Q"),ov=N("8Indx"),oB=N("4Cod0"),sx=N("dNfBQ");const sS=(0,sx.default)();var sw=N("dFNG2"),sE=N("6o2lr"),sM=N("3OJTQ"),sT=N("cKRCq"),I=N("ayMG0");const sC=["component","direction","spacing","divider","children","className","useFlexGap"],sP=(0,sE.default)(),sA=sS("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function sR(e){return(0,sw.default)({props:e,name:"MuiStack",defaultTheme:sP})}const sO=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],sk=({ownerState:e,theme:t})=>{let n=(0,oe.default)({display:"flex",flexDirection:"column"},(0,sM.handleBreakpoints)({theme:t},(0,sM.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,sT.createUnarySpacing)(t),i=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),a=(0,sM.resolveBreakpointValues)({values:e.direction,base:i}),o=(0,sM.resolveBreakpointValues)({values:e.spacing,base:i});"object"==typeof a&&Object.keys(a).forEach((e,t,n)=>{let r=a[e];if(!r){let r=t>0?a[n[t-1]]:"column";a[e]=r}}),n=(0,oa.default)(n,(0,sM.handleBreakpoints)({theme:t},o,(t,n)=>e.useFlexGap?{gap:(0,sT.getValue)(r,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${sO(n?a[n]:e.direction)}`]:(0,sT.getValue)(r,t)}}))}return(0,sM.mergeBreakpointsInOrder)(t.breakpoints,n)};var ob=N("d8seH"),o_=N("6g9fa");const sL=function(e={}){let{createStyledComponent:t=sA,useThemeProps:n=sR,componentName:r="MuiStack"}=e,i=()=>(0,ov.default)({root:["root"]},e=>(0,oB.default)(r,e),{}),a=t(sk),o=n1.forwardRef(function(e,t){let r=n(e),o=ou(r),{component:s="div",direction:l="column",spacing:u=0,divider:c,children:d,className:h,useFlexGap:f=!1}=o,p=(0,ot.default)(o,sC),m=i();return(0,I.jsx)(a,(0,oe.default)({as:s,ownerState:{direction:l,spacing:u,useFlexGap:f},ref:t,className:(0,on.default)(m.root,h)},p,{children:c?function(e,t){let n=n1.Children.toArray(e).filter(Boolean);return n.reduce((e,r,i)=>(e.push(r),i<n.length-1&&e.push(n1.cloneElement(t,{key:`separator-${i}`})),e),[])}(d,c):d}))});return o}({createStyledComponent:(0,ob.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,o_.default)({props:e,name:"MuiStack"})});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),oe=N("8nd05"),ot=N("1En50"),n1=N("acw62");function sN(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})}function sI(e){return e&&e.ownerDocument||document}var ov=N("8Indx"),n1=N("acw62"),I=N("ayMG0");const sD=n1.forwardRef(function(e,t){let{children:n,container:r,disablePortal:i=!1}=e,[a,o]=n1.useState(null),s=oS(n1.isValidElement(n)?n.ref:null,t);return(ow(()=>{!i&&o(("function"==typeof r?r():r)||document.body)},[r,i]),ow(()=>{if(a&&!i)return ox(t,a),()=>{ox(t,null)}},[t,a,i]),i)?n1.isValidElement(n)?n1.cloneElement(n,{ref:s}):(0,I.jsx)(n1.Fragment,{children:n}):(0,I.jsx)(n1.Fragment,{children:a?D.createPortal(n,a):a})});function sU(e){let t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function sz(e){let t=sI(e);return t.defaultView||window}function sF(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function sj(e){return parseInt(sz(e).getComputedStyle(e).paddingRight,10)||0}function sB(e,t,n,r,i){let a=[t,n,...r];[].forEach.call(e.children,e=>{let t=-1===a.indexOf(e),n=!function(e){let t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&sF(e,i)})}function sV(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}var n1=N("acw62"),I=N("ayMG0");function sG(e){let t=[],n=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,r)=>{let i=function(e){let t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1===i||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e)||(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function sH(){return!0}var sW=function(e){let{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:a=sG,isEnabled:o=sH,open:s}=e,l=n1.useRef(!1),u=n1.useRef(null),c=n1.useRef(null),d=n1.useRef(null),h=n1.useRef(null),f=n1.useRef(!1),p=n1.useRef(null),m=oS(t.ref,p),g=n1.useRef(null);n1.useEffect(()=>{s&&p.current&&(f.current=!n)},[n,s]),n1.useEffect(()=>{if(!s||!p.current)return;let e=sI(p.current);return!p.current.contains(e.activeElement)&&(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),n1.useEffect(()=>{if(!s||!p.current)return;let e=sI(p.current),t=t=>{let{current:n}=p;if(null!==n){if(!e.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!n.contains(e.activeElement)){if(t&&h.current!==t.target||e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!f.current)return;let r=[];if((e.activeElement===u.current||e.activeElement===c.current)&&(r=a(p.current)),r.length>0){var i,s;let e=!!((null==(i=g.current)?void 0:i.shiftKey)&&(null==(s=g.current)?void 0:s.key)==="Tab"),t=r[0],n=r[r.length-1];"string"!=typeof t&&"string"!=typeof n&&(e?n.focus():t.focus())}else n.focus()}}},n=t=>{g.current=t,!r&&o()&&"Tab"===t.key&&e.activeElement===p.current&&t.shiftKey&&(l.current=!0,c.current&&c.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);let i=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)},50);return()=>{clearInterval(i),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}},[n,r,i,o,s,a]);let v=e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0};return(0,I.jsxs)(n1.Fragment,{children:[(0,I.jsx)("div",{tabIndex:s?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),n1.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0,h.current=e.target;let n=t.props.onFocus;n&&n(e)}}),(0,I.jsx)("div",{tabIndex:s?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})},oj=N("beCSm"),oB=N("4Cod0");function sX(e){return(0,oB.default)("MuiModal",e)}(0,oj.default)("MuiModal",["root","hidden","backdrop"]);var oe=N("8nd05"),ot=N("1En50");function s$(e){return"string"==typeof e}var oe=(N("8nd05"),N("8nd05")),on=N("1SA7b");function sq(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(n=>{t[n]=e[n]}),t}function sY(e,t){return"function"==typeof e?e(t):e}const sK=["elementType","externalSlotProps","ownerState"];function sZ(e){var t,n;let{elementType:r,externalSlotProps:i,ownerState:a}=e,o=(0,ot.default)(e,sK),s=sY(i,a),{props:l,internalRef:u}=function(e){let{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){let e=(0,on.default)(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),t=(0,oe.default)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),o=(0,oe.default)({},n,i,r);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}let o=function(e,t=[]){if(void 0===e)return{};let n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n}((0,oe.default)({},i,r)),s=sq(r),l=sq(i),u=t(o),c=(0,on.default)(null==u?void 0:u.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,oe.default)({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,oe.default)({},u,n,l,s);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}((0,oe.default)({},o,{externalSlotProps:s})),c=oS(u,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref),d=(n=(0,oe.default)({},l,{ref:c}),void 0===r||s$(r)?n:(0,oe.default)({},n,{ownerState:(0,oe.default)({},n.ownerState,a)}));return d}var n1=N("acw62"),I=N("ayMG0");const sQ=n1.createContext({disableDefaultClasses:!1});var I=N("ayMG0");const sJ=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],s0=e=>{let{open:t,exited:n}=e;return(0,ov.default)({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},function(e){let{disableDefaultClasses:t}=n1.useContext(sQ);return n=>t?"":e(n)}(sX))},s1=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&sF(e.modalRef,!1);let r=function(e){let t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);sB(t,e.mount,e.modalRef,r,!0);let i=sV(this.containers,e=>e.container===t);return -1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){let n=sV(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=function(e,t){let n=[],r=e.container;if(!t.disableScrollLock){let e;if(function(e){let t=sI(e);return t.body===e?sz(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){let e=sU(sI(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${sj(r)+e}px`;let t=sI(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${sj(t)+e}px`})}if(r.parentNode instanceof DocumentFragment)e=sI(r).body;else{let t=r.parentElement,n=sz(r);e=(null==t?void 0:t.nodeName)==="HTML"&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)})}}(r,t))}remove(e,t=!0){let n=this.modals.indexOf(e);if(-1===n)return n;let r=sV(this.containers,t=>-1!==t.modals.indexOf(e)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&sF(e.modalRef,t),sB(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{let e=i.modals[i.modals.length-1];e.modalRef&&sF(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},s2=n1.forwardRef(function(e,t){var n,r;let{children:i,closeAfterTransition:a=!1,container:o,disableAutoFocus:s=!1,disableEnforceFocus:l=!1,disableEscapeKeyDown:u=!1,disablePortal:c=!1,disableRestoreFocus:d=!1,disableScrollLock:h=!1,hideBackdrop:f=!1,keepMounted:p=!1,manager:m=s1,onBackdropClick:g,onClose:v,onKeyDown:y,open:b,onTransitionEnter:_,onTransitionExited:x,slotProps:S={},slots:w={}}=e,E=(0,ot.default)(e,sJ),[M,T]=n1.useState(!b),C=n1.useRef({}),P=n1.useRef(null),A=n1.useRef(null),R=oS(A,t),O=!!i&&i.props.hasOwnProperty("in"),k=null==(n=e["aria-hidden"])||n,L=()=>sI(P.current),N=()=>(C.current.modalRef=A.current,C.current.mountNode=P.current,C.current),D=()=>{m.mount(N(),{disableScrollLock:h}),A.current&&(A.current.scrollTop=0)},U=oE(()=>{let e=("function"==typeof o?o():o)||L().body;m.add(N(),e),A.current&&D()}),z=n1.useCallback(()=>m.isTopModal(N()),[m]),F=oE(e=>{P.current=e,e&&A.current&&(b&&z()?D():sF(A.current,k))}),j=n1.useCallback(()=>{m.remove(N(),k)},[m,k]);n1.useEffect(()=>()=>{j()},[j]),n1.useEffect(()=>{b?U():O&&a||j()},[b,j,O,a,U]);let B=(0,oe.default)({},e,{closeAfterTransition:a,disableAutoFocus:s,disableEnforceFocus:l,disableEscapeKeyDown:u,disablePortal:c,disableRestoreFocus:d,disableScrollLock:h,exited:M,hideBackdrop:f,keepMounted:p}),V=s0(B),G={};void 0===i.props.tabIndex&&(G.tabIndex="-1"),O&&(G.onEnter=sN(()=>{T(!1),_&&_()},i.props.onEnter),G.onExited=sN(()=>{T(!0),x&&x(),a&&j()},i.props.onExited));let H=null!=(r=w.root)?r:"div",W=sZ({elementType:H,externalSlotProps:S.root,externalForwardedProps:E,additionalProps:{ref:R,role:"presentation",onKeyDown:e=>{y&&y(e),"Escape"===e.key&&z()&&!u&&(e.stopPropagation(),v&&v(e,"escapeKeyDown"))}},className:V.root,ownerState:B}),X=w.backdrop,$=sZ({elementType:X,externalSlotProps:S.backdrop,additionalProps:{"aria-hidden":!0,onClick:e=>{e.target===e.currentTarget&&(g&&g(e),v&&v(e,"backdropClick"))},open:b},className:V.backdrop,ownerState:B});return p||b||O&&!M?(0,I.jsx)(sD,{ref:F,container:o,disablePortal:c,children:(0,I.jsxs)(H,(0,oe.default)({},W,{children:[!f&&X?(0,I.jsx)(X,(0,oe.default)({},$)):null,(0,I.jsx)(sW,{disableEnforceFocus:l,disableAutoFocus:s,disableRestoreFocus:d,isEnabled:z,open:b,children:n1.cloneElement(i,G)})]}))}):null});var ob=N("d8seH"),o_=N("6g9fa"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),ot=N("1En50"),n1=N("acw62"),s3={disabled:!1},s5="unmounted",s4="exited",s6="entering",s8="entered",s9="exiting",s7=function(e){function t(t,n){r=e.call(this,t,n)||this;var r,i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=s4,r.appearStatus=s6):i=s8:i=t.unmountOnExit||t.mountOnEnter?s5:s4,r.state={status:i},r.nextCallback=null,r}oL(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s5?{status:s4}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==s6&&n!==s8&&(t=s6):(n===s6||n===s8)&&(t=s9)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===s6){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:O(D).findDOMNode(this);n&&n.scrollTop}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===s4&&this.setState({status:s5})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[O(D).findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;if(!e&&!n||s3.disabled){this.safeSetState({status:s8},function(){t.props.onEntered(a)});return}this.props.onEnter(a,o),this.safeSetState({status:s6},function(){t.props.onEntering(a,o),t.onTransitionEnd(l,function(){t.safeSetState({status:s8},function(){t.props.onEntered(a,o)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:O(D).findDOMNode(this);if(!t||s3.disabled){this.safeSetState({status:s4},function(){e.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:s9},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:s4},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:O(D).findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===s5)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,ot.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return O(n1).createElement(oN.Provider,{value:null},"function"==typeof n?n(e,r):O(n1).cloneElement(O(n1).Children.only(n),r))},t}(O(n1).Component);function le(){}s7.contextType=oN,s7.propTypes={},s7.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:le,onEntering:le,onEntered:le,onExit:le,onExiting:le,onExited:le},s7.UNMOUNTED=s5,s7.EXITED=s4,s7.ENTERING=s6,s7.ENTERED=s8,s7.EXITING=s9,N("acw62");var oc=N("7HKeb"),lt=N("jR9F1"),op=N("4jPsi");function ln(){let e=(0,oc.default)(lt.default);return e[op.default]||e}const lr=e=>e.scrollTop;function li(e,t){var n,r;let{timeout:i,easing:a,style:o={}}=e;return{duration:null!=(n=o.transitionDuration)?n:"number"==typeof i?i:i[t.mode]||0,easing:null!=(r=o.transitionTimingFunction)?r:"object"==typeof a?a[t.mode]:a,delay:o.transitionDelay}}var I=N("ayMG0");const la=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lo={entering:{opacity:1},entered:{opacity:1}},ls=n1.forwardRef(function(e,t){let n=ln(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:o,easing:s,in:l,onEnter:u,onEntered:c,onEntering:d,onExit:h,onExited:f,onExiting:p,style:m,timeout:g=r,TransitionComponent:v=s7}=e,y=(0,ot.default)(e,la),b=n1.useRef(null),_=oS(b,o.ref,t),x=e=>t=>{if(e){let n=b.current;void 0===t?e(n):e(n,t)}},S=x(d),w=x((e,t)=>{lr(e);let r=li({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)}),E=x(c),M=x(p),T=x(e=>{let t=li({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),h&&h(e)}),C=x(f);return(0,I.jsx)(v,(0,oe.default)({appear:a,in:l,nodeRef:b,onEnter:w,onEntered:E,onEntering:S,onExit:T,onExited:C,onExiting:M,addEndListener:e=>{i&&i(b.current,e)},timeout:g},y,{children:(e,t)=>n1.cloneElement(o,(0,oe.default)({style:(0,oe.default)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},lo[e],m,o.props.style),ref:_},t))}))});var oj=N("beCSm"),oB=N("4Cod0");function ll(e){return(0,oB.default)("MuiBackdrop",e)}(0,oj.default)("MuiBackdrop",["root","invisible"]);var I=N("ayMG0");const lu=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],lc=e=>{let{classes:t,invisible:n}=e;return(0,ov.default)({root:["root",n&&"invisible"]},ll,t)},ld=(0,ob.default)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>(0,oe.default)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),lh=n1.forwardRef(function(e,t){var n,r,i;let a=(0,o_.default)({props:e,name:"MuiBackdrop"}),{children:o,className:s,component:l="div",components:u={},componentsProps:c={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=ls,transitionDuration:g}=a,v=(0,ot.default)(a,lu),y=(0,oe.default)({},a,{component:l,invisible:d}),b=lc(y),_=null!=(n=f.root)?n:c.root;return(0,I.jsx)(m,(0,oe.default)({in:h,timeout:g},v,{children:(0,I.jsx)(ld,(0,oe.default)({"aria-hidden":!0},_,{as:null!=(r=null!=(i=p.root)?i:u.Root)?r:l,className:(0,on.default)(b.root,s,null==_?void 0:_.className),ownerState:(0,oe.default)({},y,null==_?void 0:_.ownerState),classes:b,ref:t,children:o}))}))});var I=N("ayMG0");const lf=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],lp=(0,ob.default)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>(0,oe.default)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),lm=(0,ob.default)(lh,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),lg=n1.forwardRef(function(e,t){var n,r,i,a,o,s;let l=(0,o_.default)({name:"MuiModal",props:e}),{BackdropComponent:u=lm,BackdropProps:c,classes:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:x=!1,disablePortal:S=!1,disableRestoreFocus:w=!1,disableScrollLock:E=!1,hideBackdrop:M=!1,keepMounted:T=!1,onBackdropClick:C,onClose:P,open:A,slotProps:R,slots:O,theme:k}=l,L=(0,ot.default)(l,lf),[N,D]=n1.useState(!0),U={container:m,closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:w,disableScrollLock:E,hideBackdrop:M,keepMounted:T,onBackdropClick:C,onClose:P,open:A},z=(0,oe.default)({},l,U,{exited:N}),F=null!=(n=null!=(r=null==O?void 0:O.root)?r:v.Root)?n:lp,j=null!=(i=null!=(a=null==O?void 0:O.backdrop)?a:v.Backdrop)?i:u,B=null!=(o=null==R?void 0:R.root)?o:y.root,V=null!=(s=null==R?void 0:R.backdrop)?s:y.backdrop;return(0,I.jsx)(s2,(0,oe.default)({slots:{root:F,backdrop:j},slotProps:{root:()=>(0,oe.default)({},sY(B,z),!s$(F)&&{as:g,theme:k},{className:(0,on.default)(h,null==B?void 0:B.className,null==d?void 0:d.root,!z.open&&z.exited&&(null==d?void 0:d.hidden))}),backdrop:()=>(0,oe.default)({},c,sY(V,z),{className:(0,on.default)(null==V?void 0:V.className,null==c?void 0:c.className,null==d?void 0:d.backdrop)})},onTransitionEnter:()=>D(!1),onTransitionExited:()=>D(!0),ref:t},L,U,{children:p}))});var oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),lv=function(e,t=166){let n;function r(...i){clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}return r.clear=()=>{clearTimeout(n)},r},I=N("ayMG0");const ly=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function lb(e,t,n){let r="function"==typeof n?n():n,i=function(e,t,n){let r;let i=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=sz(t);if(t.fakeTransform)r=t.fakeTransform;else{let e=o.getComputedStyle(t);r=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(r&&"none"!==r&&"string"==typeof r){let e=r.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?a?`translateX(${a.right+s-i.left}px)`:`translateX(${o.innerWidth+s-i.left}px)`:"right"===e?a?`translateX(-${i.right-a.left-s}px)`:`translateX(-${i.left+i.width-s}px)`:"up"===e?a?`translateY(${a.bottom+l-i.top}px)`:`translateY(${o.innerHeight+l-i.top}px)`:a?`translateY(-${i.top-a.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const l_=n1.forwardRef(function(e,t){let n=ln(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,container:l,direction:u="down",easing:c=r,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=i,TransitionComponent:_=s7}=e,x=(0,ot.default)(e,ly),S=n1.useRef(null),w=oS(s.ref,S,t),E=e=>t=>{e&&(void 0===t?e(S.current):e(S.current,t))},M=E((e,t)=>{lb(u,e,l),lr(e),h&&h(e,t)}),T=E((e,t)=>{let r=li({timeout:b,style:y,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,oe.default)({},r)),e.style.transition=n.transitions.create("transform",(0,oe.default)({},r)),e.style.webkitTransform="none",e.style.transform="none",p&&p(e,t)}),C=E(f),P=E(v),A=E(e=>{let t=li({timeout:b,style:y,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),lb(u,e,l),m&&m(e)}),R=E(e=>{e.style.webkitTransition="",e.style.transition="",g&&g(e)}),O=n1.useCallback(()=>{S.current&&lb(u,S.current,l)},[u,l]);return n1.useEffect(()=>{if(d||"down"===u||"right"===u)return;let e=lv(()=>{S.current&&lb(u,S.current,l)}),t=sz(S.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,d,l]),n1.useEffect(()=>{d||O()},[d,O]),(0,I.jsx)(_,(0,oe.default)({nodeRef:S,onEnter:M,onEntered:C,onEntering:T,onExit:A,onExited:R,onExiting:P,addEndListener:e=>{a&&a(S.current,e)},appear:o,in:d,timeout:b},x,{children:(e,t)=>n1.cloneElement(s,(0,oe.default)({ref:w,style:(0,oe.default)({visibility:"exited"!==e||d?void 0:"hidden"},y,s.props.style)},t))}))});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),ob=N("d8seH"),lx=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2),o_=N("6g9fa"),oj=N("beCSm"),oB=N("4Cod0");function lS(e){return(0,oB.default)("MuiPaper",e)}(0,oj.default)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var I=N("ayMG0");const lw=["className","component","elevation","square","variant"],lE=e=>{let{square:t,elevation:n,variant:r,classes:i}=e,a={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,ov.default)(a,lS,i)},lM=(0,ob.default)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return(0,oe.default)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,oe.default)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,oy.alpha)("#fff",lx(t.elevation))}, ${(0,oy.alpha)("#fff",lx(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))}),lT=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:a=1,square:o=!1,variant:s="elevation"}=n,l=(0,ot.default)(n,lw),u=(0,oe.default)({},n,{component:i,elevation:a,square:o,variant:s}),c=lE(u);return(0,I.jsx)(lM,(0,oe.default)({as:i,ownerState:u,className:(0,on.default)(c.root,r),ref:t},l))});var o8=N("jTnBY"),o_=N("6g9fa"),ob=N("d8seH"),oj=N("beCSm"),oB=N("4Cod0");function lC(e){return(0,oB.default)("MuiDrawer",e)}(0,oj.default)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var I=N("ayMG0");"use strict";const lP=["BackdropProps"],lA=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],lR=(e,t)=>{let{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},lO=e=>{let{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,o8.default)(n)}`,"temporary"!==r&&`paperAnchorDocked${(0,o8.default)(n)}`]};return(0,ov.default)(i,lC,t)},lk=(0,ob.default)(lg,{name:"MuiDrawer",slot:"Root",overridesResolver:lR})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),lL=(0,ob.default)("div",{shouldForwardProp:ob.rootShouldForwardProp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:lR})({flex:"0 0 auto"}),lN=(0,ob.default)(lT,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.paper,t[`paperAnchor${(0,o8.default)(n.anchor)}`],"temporary"!==n.variant&&t[`paperAnchorDocked${(0,o8.default)(n.anchor)}`]]}})(({theme:e,ownerState:t})=>(0,oe.default)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===t.anchor&&{left:0},"top"===t.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===t.anchor&&{right:0},"bottom"===t.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===t.anchor&&"temporary"!==t.variant&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},"top"===t.anchor&&"temporary"!==t.variant&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},"right"===t.anchor&&"temporary"!==t.variant&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"bottom"===t.anchor&&"temporary"!==t.variant&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),lI={left:"right",right:"left",top:"down",bottom:"up"},lD=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiDrawer"}),r=ln(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:o,children:s,className:l,elevation:u=16,hideBackdrop:c=!1,ModalProps:{BackdropProps:d}={},onClose:h,open:f=!1,PaperProps:p={},SlideProps:m,TransitionComponent:g=l_,transitionDuration:v=i,variant:y="temporary"}=n,b=(0,ot.default)(n.ModalProps,lP),_=(0,ot.default)(n,lA),x=n1.useRef(!1);n1.useEffect(()=>{x.current=!0},[]);let S="rtl"===r.direction&&-1!==["left","right"].indexOf(a)?lI[a]:a,w=(0,oe.default)({},n,{anchor:a,elevation:u,open:f,variant:y},_),E=lO(w),M=(0,I.jsx)(lN,(0,oe.default)({elevation:"temporary"===y?u:0,square:!0},p,{className:(0,on.default)(E.paper,p.className),ownerState:w,children:s}));if("permanent"===y)return(0,I.jsx)(lL,(0,oe.default)({className:(0,on.default)(E.root,E.docked,l),ownerState:w,ref:t},_,{children:M}));let T=(0,I.jsx)(g,(0,oe.default)({in:f,direction:lI[S],timeout:v,appear:x.current},m,{children:M}));return"persistent"===y?(0,I.jsx)(lL,(0,oe.default)({className:(0,on.default)(E.root,E.docked,l),ownerState:w,ref:t},_,{children:T})):(0,I.jsx)(lk,(0,oe.default)({BackdropProps:(0,oe.default)({},o,d,{transitionDuration:v}),className:(0,on.default)(E.root,E.modal,l),open:f,ownerState:w,onClose:h,hideBackdrop:c,ref:t},_,b,{children:T}))});var I=N("ayMG0");N("acw62");"use strict";var lU={};Object.defineProperty(lU,"__esModule",{value:!0}),lU.default=void 0;var lz=sa(N("7Ekty")),I=N("ayMG0"),lF=(0,lz.default)((0,I.jsx)("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3zM7 14.96v-4.62l4 2.32v4.61l-4-2.31zm5-4.03L8 8.61l4-2.31 4 2.31-4 2.32zm1 6.34v-4.61l4-2.32v4.62l-4 2.31zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3V2zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3V2zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3v2zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3v2z"}),"ViewInAr");lU.default=lF;"use strict";var lj={};Object.defineProperty(lj,"__esModule",{value:!0}),lj.default=void 0;var lB=sa(N("7Ekty")),I=N("ayMG0"),lV=(0,lB.default)((0,I.jsx)("path",{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"}),"CropSquare");lj.default=lV;"use strict";var lG={};Object.defineProperty(lG,"__esModule",{value:!0}),lG.default=void 0;var lH=sa(N("7Ekty")),I=N("ayMG0"),lW=(0,lH.default)((0,I.jsx)("path",{d:"M21 3 3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"}),"NearMe");lG.default=lW;var lX={};Object.defineProperty(lX,"__esModule",{value:!0}),lX.default=void 0;var l$=sa(N("7Ekty")),I=N("ayMG0"),lq=(0,l$.default)((0,I.jsx)("path",{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18c-1.16.41-2 1.51-2 2.82 0 1.66 1.34 3 3 3s3-1.34 3-3c0-1.3-.84-2.4-2-2.82z"}),"Route");lX.default=lq;var ob=N("d8seH"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),ob=N("d8seH"),o_=N("6g9fa"),oj=N("beCSm"),oB=N("4Cod0");function lY(e){return(0,oB.default)("MuiDivider",e)}const lK=(0,oj.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var I=N("ayMG0");const lZ=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],lQ=e=>{let{absolute:t,children:n,classes:r,flexItem:i,light:a,orientation:o,textAlign:s,variant:l}=e;return(0,ov.default)({root:["root",t&&"absolute",l,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]},lY,r)},lJ=(0,ob.default)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>(0,oe.default)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,oy.alpha)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>(0,oe.default)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>(0,oe.default)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>(0,oe.default)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>(0,oe.default)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),l0=(0,ob.default)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>(0,oe.default)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),l1=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:a,component:o=i?"div":"hr",flexItem:s=!1,light:l=!1,orientation:u="horizontal",role:c="hr"!==o?"separator":void 0,textAlign:d="center",variant:h="fullWidth"}=n,f=(0,ot.default)(n,lZ),p=(0,oe.default)({},n,{absolute:r,component:o,flexItem:s,light:l,orientation:u,role:c,textAlign:d,variant:h}),m=lQ(p);return(0,I.jsx)(lJ,(0,oe.default)({as:o,className:(0,on.default)(m.root,a),role:c,ref:t,ownerState:p},f,{children:i?(0,I.jsx)(l0,{className:m.wrapper,ownerState:p,children:i}):null}))});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),o8=N("jTnBY"),o_=N("6g9fa"),ob=N("d8seH"),oj=N("beCSm"),oB=N("4Cod0");function l2(e){return(0,oB.default)("MuiToggleButton",e)}const l3=(0,oj.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]);"use strict";var I=N("ayMG0");const l5=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],l4=e=>{let{classes:t,fullWidth:n,selected:r,disabled:i,size:a,color:o}=e,s={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${(0,o8.default)(a)}`,o]};return(0,ov.default)(s,l2,t)},l6=(0,ob.default)(o6,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`size${(0,o8.default)(n.size)}`]]}})(({theme:e,ownerState:t})=>{let n,r="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(r="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,n="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,oe.default)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${l3.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,oy.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${l3.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:(0,oy.alpha)(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${n} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,oy.alpha)(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:(0,oy.alpha)(r,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),l8=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiToggleButton"}),{children:r,className:i,color:a="standard",disabled:o=!1,disableFocusRipple:s=!1,fullWidth:l=!1,onChange:u,onClick:c,selected:d,size:h="medium",value:f}=n,p=(0,ot.default)(n,l5),m=(0,oe.default)({},n,{color:a,disabled:o,disableFocusRipple:s,fullWidth:l,size:h}),g=l4(m);return(0,I.jsx)(l6,(0,oe.default)({className:(0,on.default)(g.root,i),disabled:o,focusRipple:!s,ref:t,onClick:e=>{c&&(c(e,f),e.defaultPrevented)||!u||u(e,f)},onChange:u,value:f,ownerState:m,"aria-pressed":d},p,{children:r}))});"use strict";var l9={};Object.defineProperty(l9,"__esModule",{value:!0}),l9.default=void 0;var l7=sa(N("7Ekty")),I=N("ayMG0"),ue=(0,l7.default)((0,I.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");l9.default=ue;"use strict";var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var un=sa(N("7Ekty")),I=N("ayMG0"),ur=(0,un.default)((0,I.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");ut.default=ur;var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62");N("9cCWX");var on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),o8=N("jTnBY"),oj=N("beCSm"),oB=N("4Cod0");function ui(e){return(0,oB.default)("MuiToggleButtonGroup",e)}const ua=(0,oj.default)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]);var I=N("ayMG0");const uo=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],us=e=>{let{classes:t,orientation:n,fullWidth:r,disabled:i}=e,a={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,o8.default)(n)}`,i&&"disabled"]};return(0,ov.default)(a,ui,t)},ul=(0,ob.default)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${ua.grouped}`]:t.grouped},{[`& .${ua.grouped}`]:t[`grouped${(0,o8.default)(n.orientation)}`]},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,oe.default)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${ua.grouped}`]:(0,oe.default)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${ua.selected} + .${ua.grouped}.${ua.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${ua.selected} + .${ua.grouped}.${ua.selected}`]:{borderTop:0,marginTop:0}})})),uu=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:i,color:a="standard",disabled:o=!1,exclusive:s=!1,fullWidth:l=!1,onChange:u,orientation:c="horizontal",size:d="medium",value:h}=n,f=(0,ot.default)(n,uo),p=(0,oe.default)({},n,{disabled:o,fullWidth:l,orientation:c,size:d}),m=us(p),g=(e,t)=>{let n;if(!u)return;let r=h&&h.indexOf(t);h&&r>=0?(n=h.slice()).splice(r,1):n=h?h.concat(t):[t],u(e,n)},v=(e,t)=>{u&&u(e,h===t?null:t)};return(0,I.jsx)(ul,(0,oe.default)({role:"group",className:(0,on.default)(m.root,i),ref:t,ownerState:p},f,{children:n1.Children.map(r,e=>{var t;return n1.isValidElement(e)?n1.cloneElement(e,{className:(0,on.default)(m.grouped,e.props.className),onChange:s?v:g,selected:void 0===e.props.selected?(t=e.props.value,void 0!==h&&void 0!==t&&(Array.isArray(h)?h.indexOf(t)>=0:t===h)):e.props.selected,size:e.props.size||d,fullWidth:l,color:e.props.color||a,disabled:e.props.disabled||o}):null})}))}),uc=(0,ob.default)(uu)(({theme:e})=>({[`& .${ua.grouped}`]:{margin:e.spacing(.5),border:0,borderRadius:e.shape.borderRadius,[`&.${ua.disabled}`]:{border:0}}})),ud=rP(()=>{let e=a4();return(0,I.jsx)("div",{children:(0,I.jsxs)(og,{sx:{display:"flex",border:e=>`1px solid ${e.palette.divider}`,flexWrap:"wrap",marginTop:.8},children:[(0,I.jsxs)(uc,{size:"small",value:"cube",exclusive:!0,children:[(0,I.jsx)(l8,{value:"selection",children:(0,I.jsx)(O(lG),{})}),(0,I.jsx)(l8,{value:"cube",children:(0,I.jsx)(O(lU),{})}),(0,I.jsx)(l8,{value:"rect",children:(0,I.jsx)(O(lj),{})}),(0,I.jsx)(l8,{value:"lasso",children:(0,I.jsx)(O(lX),{})})]}),(0,I.jsx)(l1,{flexItem:!0,orientation:"vertical",sx:{mx:.5,my:1}}),(0,I.jsxs)(uc,{size:"small",exclusive:!0,onChange:(t,n)=>{"redo"===n?e.redo():"undo"===n&&e.undo()},children:[(0,I.jsx)(l8,{value:"redo",disabled:!e.canRedo,children:(0,I.jsx)(O(l9),{})}),(0,I.jsx)(l8,{value:"undo",disabled:!e.canUndo,children:(0,I.jsx)(O(ut),{})})]})]})})});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),sM=N("3OJTQ"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),n1=N("acw62");const uh=n1.createContext();var oj=N("beCSm"),oB=N("4Cod0");function uf(e){return(0,oB.default)("MuiGrid",e)}const up=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],um=(0,oj.default)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...up.map(e=>`grid-xs-${e}`),...up.map(e=>`grid-sm-${e}`),...up.map(e=>`grid-md-${e}`),...up.map(e=>`grid-lg-${e}`),...up.map(e=>`grid-xl-${e}`)]);var I=N("ayMG0");const ug=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function uv(e){let t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function uy({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(e=>{""===n&&0!==t[e]&&(n=e)});let r=Object.keys(e).sort((t,n)=>e[t]-e[n]);return r.slice(0,r.indexOf(n))}const ub=(0,ob.default)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{container:r,direction:i,item:a,spacing:o,wrap:s,zeroMinWidth:l,breakpoints:u}=n,c=[];r&&(c=function(e,t,n={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[n[`spacing-xs-${String(e)}`]];let r=[];return t.forEach(t=>{let i=e[t];Number(i)>0&&r.push(n[`spacing-${t}-${String(i)}`])}),r}(o,u,t));let d=[];return u.forEach(e=>{let r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])}),[t.root,r&&t.container,a&&t.item,l&&t.zeroMinWidth,...c,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})(({ownerState:e})=>(0,oe.default)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap}),function({theme:e,ownerState:t}){let n=(0,sM.resolveBreakpointValues)({values:t.direction,breakpoints:e.breakpoints.values});return(0,sM.handleBreakpoints)({theme:e},n,e=>{let t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${um.item}`]={maxWidth:"none"}),t})},function({theme:e,ownerState:t}){let{container:n,rowSpacing:r}=t,i={};if(n&&0!==r){let t;let n=(0,sM.resolveBreakpointValues)({values:r,breakpoints:e.breakpoints.values});"object"==typeof n&&(t=uy({breakpoints:e.breakpoints.values,values:n})),i=(0,sM.handleBreakpoints)({theme:e},n,(n,r)=>{var i;let a=e.spacing(n);return"0px"!==a?{marginTop:`-${uv(a)}`,[`& > .${um.item}`]:{paddingTop:uv(a)}}:null!=(i=t)&&i.includes(r)?{}:{marginTop:0,[`& > .${um.item}`]:{paddingTop:0}}})}return i},function({theme:e,ownerState:t}){let{container:n,columnSpacing:r}=t,i={};if(n&&0!==r){let t;let n=(0,sM.resolveBreakpointValues)({values:r,breakpoints:e.breakpoints.values});"object"==typeof n&&(t=uy({breakpoints:e.breakpoints.values,values:n})),i=(0,sM.handleBreakpoints)({theme:e},n,(n,r)=>{var i;let a=e.spacing(n);return"0px"!==a?{width:`calc(100% + ${uv(a)})`,marginLeft:`-${uv(a)}`,[`& > .${um.item}`]:{paddingLeft:uv(a)}}:null!=(i=t)&&i.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${um.item}`]:{paddingLeft:0}}})}return i},function({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let a={};if(t[i]&&(n=t[i]),!n)return r;if(!0===n)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===n)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let o=(0,sM.resolveBreakpointValues)({values:t.columns,breakpoints:e.breakpoints.values}),s="object"==typeof o?o[i]:o;if(null==s)return r;let l=`${Math.round(n/s*1e8)/1e6}%`,u={};if(t.container&&t.item&&0!==t.columnSpacing){let n=e.spacing(t.columnSpacing);if("0px"!==n){let e=`calc(${l} + ${uv(n)})`;u={flexBasis:e,maxWidth:e}}}a=(0,oe.default)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===e.breakpoints.values[i]?Object.assign(r,a):r[e.breakpoints.up(i)]=a,r},{})}),u_=e=>{let{classes:t,container:n,direction:r,item:i,spacing:a,wrap:o,zeroMinWidth:s,breakpoints:l}=e,u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let n=[];return t.forEach(t=>{let r=e[t];if(Number(r)>0){let e=`spacing-${t}-${String(r)}`;n.push(e)}}),n}(a,l));let c=[];l.forEach(t=>{let n=e[t];n&&c.push(`grid-${t}-${String(n)}`)});let d={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==o&&`wrap-xs-${String(o)}`,...c]};return(0,ov.default)(d,uf,t)},ux=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiGrid"}),{breakpoints:r}=ln(),i=ou(n),{className:a,columns:o,columnSpacing:s,component:l="div",container:u=!1,direction:c="row",item:d=!1,rowSpacing:h,spacing:f=0,wrap:p="wrap",zeroMinWidth:m=!1}=i,g=(0,ot.default)(i,ug),v=n1.useContext(uh),y=u?o||12:v,b={},_=(0,oe.default)({},g);r.keys.forEach(e=>{null!=g[e]&&(b[e]=g[e],delete _[e])});let x=(0,oe.default)({},i,{columns:y,container:u,direction:c,item:d,rowSpacing:h||f,columnSpacing:s||f,wrap:p,zeroMinWidth:m,spacing:f},b,{breakpoints:r.keys}),S=u_(x);return(0,I.jsx)(uh.Provider,{value:y,children:(0,I.jsx)(ub,(0,oe.default)({ownerState:x,className:(0,on.default)(S.root,a),as:l,ref:t},_))})}),uS=rP(()=>{let e=a4(),[t,n]=(0,n1.useState)(!1);return(0,I.jsxs)("div",{className:"slt-title-bar",style:{height:60,paddingRight:20,boxShadow:"inset 0 -1px #d0d7de"},children:[(0,I.jsxs)(ux,{container:!0,children:[(0,I.jsx)(ux,{item:!0,xs:4}),(0,I.jsx)(ux,{item:!0,xs:4,display:"flex",alignItems:"center",children:(0,I.jsx)(ud,{})}),(0,I.jsx)(ux,{item:!0,xs:4,children:(0,I.jsx)(sL,{spacing:2,direction:"row",justifyContent:"end",alignItems:"center",children:(0,I.jsx)(s_,{size:"small",variant:"contained",color:"primary",onClick:()=>n(!0),children:"annotation"})})})]}),(0,I.jsx)(lD,{anchor:"right",open:t,onClose:()=>n(!1),children:(0,I.jsx)("div",{className:"annotations",style:{width:400},children:(0,I.jsx)("pre",{children:JSON.stringify(e.elements.map(e=>{let{id:t,value:n,key:r}=e;return{id:t,value:n,key:r}}),null,2)})})})]})});var I=N("ayMG0"),n1=N("acw62"),I=N("ayMG0"),n1=N("acw62"),I=N("ayMG0"),n1=N("acw62");const uw=rP((0,n1.forwardRef)(({width:e="100%",height:t="100%",onMouseDown:n=()=>{},onMouseMove:r=()=>{},onMouseUp:i=()=>{},onDrawStart:a=()=>{},onDraw:o=()=>{},onDrawEnd:s=()=>{},children:l},u)=>{let c=(0,n1.useRef)(null),d=(0,n1.useRef)(null),h=(0,n1.useRef)(null),f=a4(),p=vO();(0,n1.useImperativeHandle)(u,()=>({containerRef:c,sourceCanvasRef:d,mouseCanvasRef:h,get width(){return c.current?.offsetWidth},get height(){return c.current?.offsetHeight}}));let m=e=>{if(y("mouseDown",e),n(e),"draw"===f.mouseAction){let t=c.current.getBoundingClientRect(),n=e.pageX-t.left,r=e.pageY-t.top;a({evt:e,offset:t,startX:n,startY:r,currentX:n,currentY:r});let i=e=>{let i=e.pageX-t.left,a=e.pageY-t.top;o({evt:e,offset:t,startX:n,startY:r,currentX:i,currentY:a})},l=e=>{let a=e.pageX-t.left,o=e.pageY-t.top;s({evt:e,offset:t,startX:n,startY:r,currentX:a,currentY:o}),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",l)}},g=e=>{r(e)},v=e=>{i(e)},y=(e,t)=>{p.intersects.forEach(n=>{let r=O(n1).Children.toArray(l).find(e=>{if(O(n1).isValidElement(e)&&e.props.element&&e.props.element.id===p.objectUUIDMaps.get(n.object.uuid))return!0}),i=r?.props["on"+e.toLocaleUpperCase()];i&&i(t)})};return(0,n1.useEffect)(()=>(c.current.addEventListener("mousedown",m),c.current.addEventListener("mousemove",g),c.current.addEventListener("mouseup",v),()=>{c.current.removeEventListener("mousedown",m),c.current.removeEventListener("mousemove",g),c.current.removeEventListener("mouseup",v)}),[]),(0,I.jsxs)("div",{className:"cloud-canvas",ref:c,style:{position:"relative",width:e,height:t},children:[(0,I.jsx)("canvas",{className:"source-canvas",ref:d,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}}),(0,I.jsx)("canvas",{className:"mouse-canvas",ref:h,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}}),l]})}));var uE=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1}}),Back:Object.freeze({In:function(e){return 1===e?1:e*e*(2.70158*e-1.70158)},Out:function(e){return 0===e?0:--e*e*(2.70158*e+1.70158)+1},InOut:function(e){return(e*=2)<1?.5*(e*e*(3.5949095*e-2.5949095)):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)}}),Bounce:Object.freeze({In:function(e){return 1-uE.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*uE.Bounce.In(2*e):.5*uE.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),uM=function(){return performance.now()},uT=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=uM()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!t;i&&!1===i.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),uC={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=uC.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=uC.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*a(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=uC.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=uC.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var a=(n-e)*.5,o=(r-t)*.5,s=i*i;return(2*t-2*n+a+o)*(i*s)+(-3*t+3*n-2*a-o)*s+a*i+t}}},uP=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),uA=new uT,uR=function(){function e(e,t){void 0===t&&(t=uA),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=uE.Linear.None,this._interpolationFunction=uC.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=uP.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=uM()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var a in n){var o=e[a],s=Array.isArray(o),l=s?"array":typeof o,u=!s&&Array.isArray(n[a]);if("undefined"!==l&&"function"!==l){if(u){var c=n[a];if(0===c.length)continue;for(var d=[o],h=0,f=c.length;h<f;h+=1){var p=this._handleRelativeValue(o,c[h]);if(isNaN(p)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(p)}u&&(n[a]=d)}if(("object"===l||s)&&o&&!u){for(var m in t[a]=s?[]:{},o)t[a][m]=o[m];r[a]=s?[]:{};var c=n[a];if(!this._isDynamic){var g={};for(var m in c)g[m]=c[m];n[a]=c=g}this._setupProperties(o,t[a],c,r[a],i)}else(void 0===t[a]||i)&&(t[a]=o),s||(t[a]*=1),u?r[a]=n[a].slice().reverse():r[a]=t[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object)),this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=uM()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=uM()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this)),this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=uA),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=uE.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=uC.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=uM()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],s=Array.isArray(e[i]),l=Array.isArray(o);!s&&l?e[i]=this._interpolationFunction(o,r):"object"==typeof o&&o?this._updateProperties(e[i],a,o,r):"number"==typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];"string"==typeof n?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},e}();uP.nextId,uA.getAll.bind(uA),uA.removeAll.bind(uA),uA.add.bind(uA),uA.remove.bind(uA),uA.update.bind(uA);const uO={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},uk={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uL="srgb",uN="srgb-linear",uI="display-p3",uD="300 es";class uU{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners,r=n[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;let t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const uz=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],uF=Math.PI/180,uj=180/Math.PI;function uB(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=uz[255&e]+uz[e>>8&255]+uz[e>>16&255]+uz[e>>24&255]+"-"+uz[255&t]+uz[t>>8&255]+"-"+uz[t>>16&15|64]+uz[t>>24&255]+"-"+uz[63&n|128]+uz[n>>8&255]+"-"+uz[n>>16&255]+uz[n>>24&255]+uz[255&r]+uz[r>>8&255]+uz[r>>16&255]+uz[r>>24&255];return i.toLowerCase()}function uV(e,t,n){return Math.max(t,Math.min(n,e))}function uG(e){return(e&e-1)==0&&0!==e}function uH(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function uW(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw Error("Invalid component type.")}}function uX(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw Error("Invalid component type.")}}class u${constructor(e=0,t=0){u$.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){let e=Math.atan2(-this.y,-this.x)+Math.PI;return e}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(uV(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class uq{constructor(e,t,n,r,i,a,o,s,l){uq.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){let u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],_=r[2],x=r[5],S=r[8];return i[0]=a*p+o*v+s*_,i[3]=a*m+o*y+s*x,i[6]=a*g+o*b+s*S,i[1]=l*p+u*v+c*_,i[4]=l*m+u*y+c*x,i[7]=l*g+u*b+c*S,i[2]=d*p+h*v+f*_,i[5]=d*m+h*y+f*x,i[8]=d*g+h*b+f*S,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,h=l*i-a*s,f=t*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;let t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){let s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(uY.makeScale(e,t)),this}rotate(e){return this.premultiply(uY.makeRotation(-e)),this}translate(e,t){return this.premultiply(uY.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const uY=new uq;function uK(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function uZ(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const uQ={};function uJ(e){e in uQ||(uQ[e]=!0,console.warn(e))}function u0(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function u1(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const u2=new uq().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-.0000001,1e-7,.9105199]),u3=new uq().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),u5={[uN]:e=>e,[uL]:e=>e.convertSRGBToLinear(),[uI]:function(e){return e.convertSRGBToLinear().applyMatrix3(u3)}},u4={[uN]:e=>e,[uL]:e=>e.convertLinearToSRGB(),[uI]:function(e){return e.applyMatrix3(u2).convertLinearToSRGB()}},u6={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(legacyMode){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!legacyMode},get workingColorSpace(){return uN},set workingColorSpace(colorSpace){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;let r=u5[t],i=u4[n];if(void 0===r||void 0===i)throw Error(`Unsupported color space conversion, "${t}" to "${n}".`);return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};class u8{static getDataURL(e){let t;if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===n&&(n=uZ("canvas")),n.width=e.width,n.height=e.height;let r=n.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=n}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let t=uZ("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*u0(i[e]/255);return n.putImageData(r,0,0),t}if(!e.data)return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e;{let t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*u0(t[e]/255)):t[e]=u0(t[e]);return{data:t,width:e.width,height:e.height}}}}let u9=0;class u7{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:u9++}),this.uuid=uB(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(ce(r[t].image)):e.push(ce(r[t]))}else e=ce(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function ce(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?u8.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ct=0;class cn extends uU{constructor(e=cn.DEFAULT_IMAGE,t=cn.DEFAULT_MAPPING,n=1001,r=1001,i=1006,a=1008,o=1023,s=1009,l=cn.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ct++}),this.uuid=uB(),this.name="",this.source=new u7(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new u$(0,0),this.repeat=new u$(1,1),this.center=new u$(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new uq,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof u?this.colorSpace=u:(uJ("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===u?uL:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return uJ("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===uL?3001:3e3}set encoding(e){uJ("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===e?uL:""}}cn.DEFAULT_IMAGE=null,cn.DEFAULT_MAPPING=300,cn.DEFAULT_ANISOTROPY=1;class cr{constructor(e=0,t=0,n=0,r=1){cr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r;let i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],f=i[10];if(.01>Math.abs(o-l)&&.01>Math.abs(s-d)&&.01>Math.abs(c-h)){if(.1>Math.abs(o+l)&&.1>Math.abs(s+d)&&.1>Math.abs(c+h)&&.1>Math.abs(a+u+f-3))return this.set(1,0,0,0),this;let e=(a+1)/2,i=(u+1)/2,p=(f+1)/2,m=(o+l)/4,g=(s+d)/4,v=(c+h)/4;return e>i&&e>p?e<.01?(t=0,n=.707106781,r=.707106781):(n=m/(t=Math.sqrt(e)),r=g/t):i>p?i<.01?(t=.707106781,n=0,r=.707106781):(t=m/(n=Math.sqrt(i)),r=v/n):p<.01?(t=.707106781,n=.707106781,r=0):(t=g/(r=Math.sqrt(p)),n=v/r),this.set(t,n,r,Math.PI),this}let p=Math.sqrt((h-c)*(h-c)+(s-d)*(s-d)+(l-o)*(l-o));return .001>Math.abs(p)&&(p=1),this.x=(h-c)/p,this.y=(s-d)/p,this.z=(l-o)/p,this.w=Math.acos((a+u+f-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ci extends uU{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new cr(0,0,e,t),this.scissorTest=!1,this.viewport=new cr(0,0,e,t),void 0!==n.encoding&&(uJ("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=3001===n.encoding?uL:""),this.texture=new cn({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new u7(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ca extends cn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class co{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(0===o){e[t+0]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c;return}if(1===o){e[t+0]=d,e[t+1]=h,e[t+2]=f,e[t+3]=p;return}if(c!==p||s!==d||l!==h||u!==f){let e=1-o,t=s*d+l*h+u*f+c*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){let i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}let i=o*n;if(s=s*e+d*i,l=l*e+h*i,u=u*e+f*i,c=c*e+p*i,e===1-o){let e=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=e,l*=e,u*=e,c*=e}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,a){let o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*h-l*d,e[t+1]=s*f+u*d+l*c-o*h,e[t+2]=l*f+u*h+o*d-s*c,e[t+3]=u*f-o*c-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"YXZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"ZXY":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"ZYX":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"YZX":this._x=d*u*c+l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c-d*h*f;break;case"XZY":this._x=d*u*c-l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){let e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(u-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>c){let e=2*Math.sqrt(1+n-o-c);this._w=(u-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>c){let e=2*Math.sqrt(1+o-n-c);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+u)/e}else{let e=2*Math.sqrt(1+c-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(uV(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);return 0===n||this.slerp(e,Math.min(1,t/n)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);let n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;let s=1-o*o;if(s<=Number.EPSILON){let e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(s),u=Math.atan2(l,o),c=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=a*c+this._w*d,this._x=n*c+this._x*d,this._y=r*c+this._y*d,this._z=i*c+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class cs{constructor(e=0,t=0,n=0){cs.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(cu.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(cu.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+-(d*i)+-(u*o)- -(c*a),this.y=u*s+-(d*a)+-(c*i)- -(l*o),this.z=c*s+-(d*o)+-(l*a)- -(u*i),this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return cl.copy(this).projectOnVector(e),this.sub(cl)}reflect(e){return this.sub(cl.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(uV(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cl=new cs,cu=new co;class cc{constructor(e=new cs(1/0,1/0,1/0),t=new cs(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(ch.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(ch.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=ch.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),cf.copy(e.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf);else{let n=e.geometry;if(void 0!==n){if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){let t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)ch.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(ch)}else null===n.boundingBox&&n.computeBoundingBox(),cf.copy(n.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf)}}let n=e.children;for(let e=0,r=n.length;e<r;e++)this.expandByObject(n[e],t);return this}containsPoint(e){return!(e.x<this.min.x)&&!(e.x>this.max.x)&&!(e.y<this.min.y)&&!(e.y>this.max.y)&&!(e.z<this.min.z)&&!(e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x)&&!(e.min.x>this.max.x)&&!(e.max.y<this.min.y)&&!(e.min.y>this.max.y)&&!(e.max.z<this.min.z)&&!(e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ch),ch.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(c_),cx.subVectors(this.max,c_),cp.subVectors(e.a,c_),cm.subVectors(e.b,c_),cg.subVectors(e.c,c_),cv.subVectors(cm,cp),cy.subVectors(cg,cm),cb.subVectors(cp,cg);let t=[0,-cv.z,cv.y,0,-cy.z,cy.y,0,-cb.z,cb.y,cv.z,0,-cv.x,cy.z,0,-cy.x,cb.z,0,-cb.x,-cv.y,cv.x,0,-cy.y,cy.x,0,-cb.y,cb.x,0];return!!(cE(t,cp,cm,cg,cx)&&cE(t=[1,0,0,0,1,0,0,0,1],cp,cm,cg,cx))&&(cS.crossVectors(cv,cy),cE(t=[cS.x,cS.y,cS.z],cp,cm,cg,cx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ch).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ch).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(cd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),cd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),cd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),cd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),cd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),cd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),cd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),cd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(cd)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const cd=[new cs,new cs,new cs,new cs,new cs,new cs,new cs,new cs],ch=new cs,cf=new cc,cp=new cs,cm=new cs,cg=new cs,cv=new cs,cy=new cs,cb=new cs,c_=new cs,cx=new cs,cS=new cs,cw=new cs;function cE(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){cw.fromArray(e,a);let o=i.x*Math.abs(cw.x)+i.y*Math.abs(cw.y)+i.z*Math.abs(cw.z),s=t.dot(cw),l=n.dot(cw),u=r.dot(cw);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>o)return!1}return!0}const cM=new cc,cT=new cs,cC=new cs;class cP{constructor(e=new cs,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):cM.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;cT.subVectors(e,this.center);let t=cT.lengthSq();if(t>this.radius*this.radius){let e=Math.sqrt(t),n=(e-this.radius)*.5;this.center.addScaledVector(cT,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(cC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(cT.copy(e.center).add(cC)),this.expandByPoint(cT.copy(e.center).sub(cC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const cA=new cs,cR=new cs,cO=new cs,ck=new cs,cL=new cs,cN=new cs,cI=new cs;class cD{constructor(e=new cs,t=new cs(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,cA)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=cA.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(cA.copy(this.origin).addScaledVector(this.direction,t),cA.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){let i,a,o,s;cR.copy(e).add(t).multiplyScalar(.5),cO.copy(t).sub(e).normalize(),ck.copy(this.origin).sub(cR);let l=.5*e.distanceTo(t),u=-this.direction.dot(cO),c=ck.dot(this.direction),d=-ck.dot(cO),h=ck.lengthSq(),f=Math.abs(1-u*u);if(f>0){if(i=u*d-c,a=u*c-d,s=l*f,i>=0){if(a>=-s){if(a<=s){let e=1/f;i*=e,a*=e,o=i*(i+u*a+2*c)+a*(u*i+a+2*d)+h}else o=-(i=Math.max(0,-(u*(a=l)+c)))*i+a*(a+2*d)+h}else o=-(i=Math.max(0,-(u*(a=-l)+c)))*i+a*(a+2*d)+h}else a<=-s?(a=(i=Math.max(0,-(-u*l+c)))>0?-l:Math.min(Math.max(-l,-d),l),o=-i*i+a*(a+2*d)+h):a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):(a=(i=Math.max(0,-(u*l+c)))>0?l:Math.min(Math.max(-l,-d),l),o=-i*i+a*(a+2*d)+h)}else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(cR).addScaledVector(cO,a),o}intersectSphere(e,t){cA.subVectors(e.center,this.origin);let n=cA.dot(this.direction),r=cA.dot(cA)-n*n,i=e.radius*e.radius;if(r>i)return null;let a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);if(0===t)return!0;let n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,r,i,a,o,s;let l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return(l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r)?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r)?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,cA)}intersectTriangle(e,t,n,r,i){let a;cL.subVectors(t,e),cN.subVectors(n,e),cI.crossVectors(cL,cN);let o=this.direction.dot(cI);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ck.subVectors(this.origin,e);let s=a*this.direction.dot(cN.crossVectors(ck,cN));if(s<0)return null;let l=a*this.direction.dot(cL.cross(ck));if(l<0||s+l>o)return null;let u=-a*ck.dot(cI);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cU{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h,f,p,m){cU.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,u,c,d,h,f,p,m)}set(e,t,n,r,i,a,o,s,l,u,c,d,h,f,p,m){let g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cU().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,r=1/cz.setFromMatrixColumn(e,0).length(),i=1/cz.setFromMatrixColumn(e,1).length(),a=1/cz.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){let e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){let e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){let e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e-i*o,t[4]=-a*c,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*u,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){let e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){let e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){let e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=e*c+i,t[5]=a*u,t[9]=n*c-r,t[2]=r*c-n,t[6]=o*u,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cj,e,cB)}lookAt(e,t,n){let r=this.elements;return cH.subVectors(e,t),0===cH.lengthSq()&&(cH.z=1),cH.normalize(),cV.crossVectors(n,cH),0===cV.lengthSq()&&(1===Math.abs(n.z)?cH.x+=1e-4:cH.z+=1e-4,cH.normalize(),cV.crossVectors(n,cH)),cV.normalize(),cG.crossVectors(cH,cV),r[0]=cV.x,r[4]=cG.x,r[8]=cH.x,r[1]=cV.y,r[5]=cG.y,r[9]=cH.y,r[2]=cV.z,r[6]=cG.z,r[10]=cH.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=r[0],S=r[4],w=r[8],E=r[12],M=r[1],T=r[5],C=r[9],P=r[13],A=r[2],R=r[6],O=r[10],k=r[14],L=r[3],N=r[7],I=r[11],D=r[15];return i[0]=a*x+o*M+s*A+l*L,i[4]=a*S+o*T+s*R+l*N,i[8]=a*w+o*C+s*O+l*I,i[12]=a*E+o*P+s*k+l*D,i[1]=u*x+c*M+d*A+h*L,i[5]=u*S+c*T+d*R+h*N,i[9]=u*w+c*C+d*O+h*I,i[13]=u*E+c*P+d*k+h*D,i[2]=f*x+p*M+m*A+g*L,i[6]=f*S+p*T+m*R+g*N,i[10]=f*w+p*C+m*O+g*I,i[14]=f*E+p*P+m*k+g*D,i[3]=v*x+y*M+b*A+_*L,i[7]=v*S+y*T+b*R+_*N,i[11]=v*w+y*C+b*O+_*I,i[15]=v*E+y*P+b*k+_*D,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14],f=e[3],p=e[7],m=e[11],g=e[15];return f*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*h-n*s*h)+p*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*u-i*s*u)+m*(+t*l*c-t*o*h-i*a*c+n*a*h+i*o*u-n*l*u)+g*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}transpose(){let e;let t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(e,t,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=c*m*l-p*d*l+p*s*h-o*m*h-c*s*g+o*d*g,y=f*d*l-u*m*l-f*s*h+a*m*h+u*s*g-a*d*g,b=u*p*l-f*c*l+f*o*h-a*p*h-u*o*g+a*c*g,_=f*c*s-u*p*s-f*o*d+a*p*d+u*o*m-a*c*m,x=t*v+n*y+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let S=1/x;return e[0]=v*S,e[1]=(p*d*i-c*m*i-p*r*h+n*m*h+c*r*g-n*d*g)*S,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*S,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*h-n*s*h)*S,e[4]=y*S,e[5]=(u*m*i-f*d*i+f*r*h-t*m*h-u*r*g+t*d*g)*S,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*S,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*h+t*s*h)*S,e[8]=b*S,e[9]=(f*c*i-u*p*i-f*n*h+t*p*h+u*n*g-t*c*g)*S,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*S,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*h-t*o*h)*S,e[12]=_*S,e[13]=(u*p*r-f*c*r+f*n*d-t*p*d-u*n*m+t*c*m)*S,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*S,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*S,this}scale(e){let t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){let r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,h=i*u,f=i*c,p=a*u,m=a*c,g=o*c,v=s*l,y=s*u,b=s*c,_=n.x,x=n.y,S=n.z;return r[0]=(1-(p+g))*_,r[1]=(h+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*S,r[9]=(m-v)*S,r[10]=(1-(d+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){let r=this.elements,i=cz.set(r[0],r[1],r[2]).length(),a=cz.set(r[4],r[5],r[6]).length(),o=cz.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],cF.copy(this);let l=1/i,u=1/a,c=1/o;return cF.elements[0]*=l,cF.elements[1]*=l,cF.elements[2]*=l,cF.elements[4]*=u,cF.elements[5]*=u,cF.elements[6]*=u,cF.elements[8]*=c,cF.elements[9]*=c,cF.elements[10]*=c,t.setFromRotationMatrix(cF),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a,o=2e3){let s,l;let u=this.elements;if(2e3===o)s=-(a+i)/(a-i),l=-2*a*i/(a-i);else if(2001===o)s=-a/(a-i),l=-a*i/(a-i);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=2*i/(t-e),u[4]=0,u[8]=(t+e)/(t-e),u[12]=0,u[1]=0,u[5]=2*i/(n-r),u[9]=(n+r)/(n-r),u[13]=0,u[2]=0,u[6]=0,u[10]=s,u[14]=l,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,r,i,a,o=2e3){let s,l;let u=this.elements,c=1/(t-e),d=1/(n-r),h=1/(a-i);if(2e3===o)s=(a+i)*h,l=-2*h;else if(2001===o)s=i*h,l=-1*h;else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-((t+e)*c),u[1]=0,u[5]=2*d,u[9]=0,u[13]=-((n+r)*d),u[2]=0,u[6]=0,u[10]=l,u[14]=-s,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const cz=new cs,cF=new cU,cj=new cs(0,0,0),cB=new cs(1,1,1),cV=new cs,cG=new cs,cH=new cs,cW=new cU,cX=new co;class c${constructor(e=0,t=0,n=0,r=c$.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(uV(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-uV(u,-1,1)),.9999999>Math.abs(u)?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(uV(d,-1,1)),.9999999>Math.abs(d)?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-uV(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(uV(s,-1,1)),.9999999>Math.abs(s)?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-uV(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return cW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cW,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return cX.setFromEuler(this),this.setFromQuaternion(cX,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}c$.DEFAULT_ORDER="XYZ";class cq{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let cY=0;const cK=new cs,cZ=new co,cQ=new cU,cJ=new cs,c0=new cs,c1=new cs,c2=new co,c3=new cs(1,0,0),c5=new cs(0,1,0),c4=new cs(0,0,1),c6={type:"added"},c8={type:"removed"};class c9 extends uU{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:cY++}),this.uuid=uB(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=c9.DEFAULT_UP.clone();let e=new cs,t=new c$,n=new co,r=new cs(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new cU},normalMatrix:{value:new uq}}),this.matrix=new cU,this.matrixWorld=new cU,this.matrixAutoUpdate=c9.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=c9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cq,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return cZ.setFromAxisAngle(e,t),this.quaternion.multiply(cZ),this}rotateOnWorldAxis(e,t){return cZ.setFromAxisAngle(e,t),this.quaternion.premultiply(cZ),this}rotateX(e){return this.rotateOnAxis(c3,e)}rotateY(e){return this.rotateOnAxis(c5,e)}rotateZ(e){return this.rotateOnAxis(c4,e)}translateOnAxis(e,t){return cK.copy(e).applyQuaternion(this.quaternion),this.position.add(cK.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(c3,e)}translateY(e){return this.translateOnAxis(c5,e)}translateZ(e){return this.translateOnAxis(c4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(cQ.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?cJ.copy(e):cJ.set(e,t,n);let r=this.parent;this.updateWorldMatrix(!0,!1),c0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cQ.lookAt(c0,cJ,this.up):cQ.lookAt(cJ,c0,this.up),this.quaternion.setFromRotationMatrix(cQ),r&&(cQ.extractRotation(r.matrixWorld),cZ.setFromRotationMatrix(cQ),this.quaternion.premultiply(cZ.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(c6)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}let t=this.children.indexOf(e);return -1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(c8)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(c8)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),cQ.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),cQ.multiply(e.parent.matrixWorld)),e.applyMatrix4(cQ),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){let r=this.children[n],i=r.getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){let i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,e,c1),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,c2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,r=t.length;n<r;n++){let r=t[n];(!0===r.matrixWorldAutoUpdate||!0===e)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let e=this.children;for(let t=0,n=e.length;t<n;t++){let n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);let t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){let n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material){if(Array.isArray(this.material)){let t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material)}if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){let n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){let t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),u=a(e.animations),c=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=r,n;function a(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){let n=e.children[t];this.add(n.clone())}return this}}c9.DEFAULT_UP=new cs(0,1,0),c9.DEFAULT_MATRIX_AUTO_UPDATE=!0,c9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const c7=new cs,de=new cs,dt=new cs,dn=new cs,dr=new cs,di=new cs,da=new cs,ds=new cs,dl=new cs,du=new cs;let dc=!1;class dd{constructor(e=new cs,t=new cs,n=new cs){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),c7.subVectors(e,t),r.cross(c7);let i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){c7.subVectors(r,t),de.subVectors(n,t),dt.subVectors(e,t);let a=c7.dot(c7),o=c7.dot(de),s=c7.dot(dt),l=de.dot(de),u=de.dot(dt),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);let d=1/c,h=(l*s-o*u)*d,f=(a*u-o*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,dn),dn.x>=0&&dn.y>=0&&dn.x+dn.y<=1}static getUV(e,t,n,r,i,a,o,s){return!1===dc&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dc=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}static getInterpolation(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,dn),s.setScalar(0),s.addScaledVector(i,dn.x),s.addScaledVector(a,dn.y),s.addScaledVector(o,dn.z),s}static isFrontFacing(e,t,n,r){return c7.subVectors(n,t),de.subVectors(e,t),0>c7.cross(de).dot(r)}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return c7.subVectors(this.c,this.b),de.subVectors(this.a,this.b),.5*c7.cross(de).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return dd.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return dd.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===dc&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dc=!0),dd.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return dd.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return dd.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return dd.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n,r;let i=this.a,a=this.b,o=this.c;dr.subVectors(a,i),di.subVectors(o,i),ds.subVectors(e,i);let s=dr.dot(ds),l=di.dot(ds);if(s<=0&&l<=0)return t.copy(i);dl.subVectors(e,a);let u=dr.dot(dl),c=di.dot(dl);if(u>=0&&c<=u)return t.copy(a);let d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(dr,n);du.subVectors(e,o);let h=dr.dot(du),f=di.dot(du);if(f>=0&&h<=f)return t.copy(o);let p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(di,r);let m=u*f-h*c;if(m<=0&&c-u>=0&&h-f>=0)return da.subVectors(o,a),r=(c-u)/(c-u+(h-f)),t.copy(a).addScaledVector(da,r);let g=1/(m+p+d);return n=p*g,r=d*g,t.copy(i).addScaledVector(dr,n).addScaledVector(di,r)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let dh=0;class df extends uU{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dh++}),this.uuid=uB(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(void 0===r){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let e=t.length;n=Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const dp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dm={h:0,s:0,l:0},dg={h:0,s:0,l:0};function dv(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*6*(2/3-n):e}class dy{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){return void 0===t&&void 0===n?e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e):this.setRGB(e,t,n),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=uL){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,u6.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=u6.workingColorSpace){return this.r=e,this.g=t,this.b=n,u6.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=u6.workingColorSpace){if(e=(e%1+1)%1,t=uV(t,0,1),n=uV(n,0,1),0===t)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=dv(i,r,e+1/3),this.g=dv(i,r,e),this.b=dv(i,r,e-1/3)}return u6.toWorkingColorSpace(this,r),this}setStyle(e,t=uL){let n;function r(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;let a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=n[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(6===i)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=uL){let n=dp[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=u0(e.r),this.g=u0(e.g),this.b=u0(e.b),this}copyLinearToSRGB(e){return this.r=u1(e.r),this.g=u1(e.g),this.b=u1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=uL){return u6.fromWorkingColorSpace(db.copy(this),e),65536*Math.round(uV(255*db.r,0,255))+256*Math.round(uV(255*db.g,0,255))+Math.round(uV(255*db.b,0,255))}getHexString(e=uL){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=u6.workingColorSpace){let n,r;u6.fromWorkingColorSpace(db.copy(this),t);let i=db.r,a=db.g,o=db.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{let e=s-l;switch(r=u<=.5?e/(s+l):e/(2-s-l),s){case i:n=(a-o)/e+(a<o?6:0);break;case a:n=(o-i)/e+2;break;case o:n=(i-a)/e+4}n/=6}return e.h=n,e.s=r,e.l=u,e}getRGB(e,t=u6.workingColorSpace){return u6.fromWorkingColorSpace(db.copy(this),t),e.r=db.r,e.g=db.g,e.b=db.b,e}getStyle(e=uL){u6.fromWorkingColorSpace(db.copy(this),e);let t=db.r,n=db.g,r=db.b;return e!==uL?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(dm),dm.h+=e,dm.s+=t,dm.l+=n,this.setHSL(dm.h,dm.s,dm.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(dm),e.getHSL(dg);let n=(1-t)*dm.h+t*dg.h,r=(1-t)*dm.s+t*dg.s,i=(1-t)*dm.l+t*dg.l;return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const db=new dy;dy.NAMES=dp;class d_ extends df{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dy(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dx=new cs,dS=new u$;class dw{constructor(e,t,n=!1){if(Array.isArray(e))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)dS.fromBufferAttribute(this,t),dS.applyMatrix3(e),this.setXY(t,dS.x,dS.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)dx.fromBufferAttribute(this,t),dx.applyMatrix3(e),this.setXYZ(t,dx.x,dx.y,dx.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)dx.fromBufferAttribute(this,t),dx.applyMatrix4(e),this.setXYZ(t,dx.x,dx.y,dx.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)dx.fromBufferAttribute(this,t),dx.applyNormalMatrix(e),this.setXYZ(t,dx.x,dx.y,dx.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)dx.fromBufferAttribute(this,t),dx.transformDirection(e),this.setXYZ(t,dx.x,dx.y,dx.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=uW(t,this.array)),t}setX(e,t){return this.normalized&&(t=uX(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=uW(t,this.array)),t}setY(e,t){return this.normalized&&(t=uX(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=uW(t,this.array)),t}setZ(e,t){return this.normalized&&(t=uX(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=uW(t,this.array)),t}setW(e,t){return this.normalized&&(t=uX(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=uX(t,this.array),n=uX(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=uX(t,this.array),n=uX(n,this.array),r=uX(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=uX(t,this.array),n=uX(n,this.array),r=uX(r,this.array),i=uX(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class dE extends dw{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class dM extends dw{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class dT extends dw{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class dC extends dw{constructor(e,t,n){super(new Float32Array(e),t,n)}}let dP=0;const dA=new cU,dR=new c9,dO=new cs,dk=new cc,dL=new cc,dN=new cs;class dI extends uU{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:dP++}),this.uuid=uB(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uK(e)?dT:dM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let t=new uq().getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}let r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return dA.makeRotationFromQuaternion(e),this.applyMatrix4(dA),this}rotateX(e){return dA.makeRotationX(e),this.applyMatrix4(dA),this}rotateY(e){return dA.makeRotationY(e),this.applyMatrix4(dA),this}rotateZ(e){return dA.makeRotationZ(e),this.applyMatrix4(dA),this}translate(e,t,n){return dA.makeTranslation(e,t,n),this.applyMatrix4(dA),this}scale(e,t,n){return dA.makeScale(e,t,n),this.applyMatrix4(dA),this}lookAt(e){return dR.lookAt(e),dR.updateMatrix(),this.applyMatrix4(dR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dO).negate(),this.translate(dO.x,dO.y,dO.z),this}setFromPoints(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new dC(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new cc);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new cs(-1/0,-1/0,-1/0),new cs(1/0,1/0,1/0));return}if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];dk.setFromBufferAttribute(n),this.morphTargetsRelative?(dN.addVectors(this.boundingBox.min,dk.min),this.boundingBox.expandByPoint(dN),dN.addVectors(this.boundingBox.max,dk.max),this.boundingBox.expandByPoint(dN)):(this.boundingBox.expandByPoint(dk.min),this.boundingBox.expandByPoint(dk.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new cP);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new cs,1/0);return}if(e){let n=this.boundingSphere.center;if(dk.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];dL.setFromBufferAttribute(n),this.morphTargetsRelative?(dN.addVectors(dk.min,dL.min),dk.expandByPoint(dN),dN.addVectors(dk.max,dL.max),dk.expandByPoint(dN)):(dk.expandByPoint(dL.min),dk.expandByPoint(dL.max))}dk.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)dN.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(dN));if(t)for(let i=0,a=t.length;i<a;i++){let a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)dN.fromBufferAttribute(a,t),o&&(dO.fromBufferAttribute(e,t),dN.add(dO)),r=Math.max(r,n.distanceToSquared(dN))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new dw(new Float32Array(4*o),4));let s=this.getAttribute("tangent").array,l=[],u=[];for(let e=0;e<o;e++)l[e]=new cs,u[e]=new cs;let c=new cs,d=new cs,h=new cs,f=new u$,p=new u$,m=new u$,g=new cs,v=new cs,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(let e=0,t=y.length;e<t;++e){let t=y[e],i=t.start,o=t.count;for(let e=i,t=i+o;e<t;e+=3)!function(e,t,n){c.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(c),h.sub(c),p.sub(f),m.sub(f);let i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(i),v.copy(h).multiplyScalar(p.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(v),u[t].add(v),u[n].add(v))}(n[e+0],n[e+1],n[e+2])}let b=new cs,_=new cs,x=new cs,S=new cs;function w(e){x.fromArray(i,3*e),S.copy(x);let t=l[e];b.copy(t),b.sub(x.multiplyScalar(x.dot(t))).normalize(),_.crossVectors(S,t);let n=_.dot(u[e]);s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n<0?-1:1}for(let e=0,t=y.length;e<t;++e){let t=y[e],r=t.start,i=t.count;for(let e=r,t=r+i;e<t;e+=3)w(n[e+0]),w(n[e+1]),w(n[e+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new dw(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);let r=new cs,i=new cs,a=new cs,o=new cs,s=new cs,l=new cs,u=new cs,c=new cs;if(e)for(let d=0,h=e.count;d<h;d+=3){let h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(u),s.add(u),l.add(u),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)dN.fromBufferAttribute(e,t),dN.normalize(),e.setXYZ(t,dN.x,dN.y,dN.z)}toNonIndexed(){function e(e,t){let n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0;for(let i=0,l=t.length;i<l;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new dw(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new dI,n=this.index.array,r=this.attributes;for(let i in r){let a=r[i],o=e(a,n);t.setAttribute(i,o)}let i=this.morphAttributes;for(let r in i){let a=[],o=i[r];for(let t=0,r=o.length;t<r;t++){let r=o[t],i=e(r,n);a.push(i)}t.morphAttributes[r]=a}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let e=0,n=a.length;e<n;e++){let n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){let e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let t=this.parameters;for(let n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let t in n){let r=n[t];e.data.attributes[t]=r.toJSON(e.data)}let r={},i=!1;for(let t in this.morphAttributes){let n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++){let r=n[t];a.push(r.toJSON(e.data))}a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(t));let r=e.attributes;for(let e in r){let n=r[e];this.setAttribute(e,n.clone(t))}let i=e.morphAttributes;for(let e in i){let n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let e=0,t=a.length;e<t;e++){let t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}let o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());let s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const dD=new cU,dU=new cD,dz=new cP,dF=new cs,dj=new cs,dB=new cs,dV=new cs,dG=new cs,dH=new cs,dW=new u$,dX=new u$,d$=new u$,dq=new cs,dY=new cs,dK=new cs,dZ=new cs,dQ=new cs;class dJ extends c9{constructor(e=new dI,t=new d_){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){let n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}getVertexPosition(e,t){let n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(i&&o){dH.set(0,0,0);for(let n=0,r=i.length;n<r;n++){let r=o[n],s=i[n];0!==r&&(dG.fromBufferAttribute(s,e),a?dH.addScaledVector(dG,r):dH.addScaledVector(dG.sub(t),r))}t.add(dH)}return t}raycast(e,t){let n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),dz.copy(n.boundingSphere),dz.applyMatrix4(i),dU.copy(e.ray).recast(e.near),!1===dz.containsPoint(dU.origin)&&(null===dU.intersectSphere(dz,dF)||dU.origin.distanceToSquared(dF)>(e.far-e.near)**2)||(dD.copy(i).invert(),dU.copy(e.ray).applyMatrix4(dD),null!==n.boundingBox&&!1===dU.intersectsBox(n.boundingBox)))return;this._computeIntersections(e,t,dU)}}_computeIntersections(e,t,n){let r;let i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==o){if(Array.isArray(a))for(let i=0,s=d.length;i<s;i++){let s=d[i],f=a[s.materialIndex],p=Math.max(s.start,h.start),m=Math.min(o.count,Math.min(s.start+s.count,h.start+h.count));for(let i=p;i<m;i+=3){let a=o.getX(i),d=o.getX(i+1),h=o.getX(i+2);(r=d0(this,f,e,n,l,u,c,a,d,h))&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=s.materialIndex,t.push(r))}}else{let i=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);for(let d=i;d<s;d+=3){let i=o.getX(d),s=o.getX(d+1),h=o.getX(d+2);(r=d0(this,a,e,n,l,u,c,i,s,h))&&(r.faceIndex=Math.floor(d/3),t.push(r))}}}else if(void 0!==s){if(Array.isArray(a))for(let i=0,o=d.length;i<o;i++){let o=d[i],f=a[o.materialIndex],p=Math.max(o.start,h.start),m=Math.min(s.count,Math.min(o.start+o.count,h.start+h.count));for(let i=p;i<m;i+=3){let a=i,s=i+1,d=i+2;(r=d0(this,f,e,n,l,u,c,a,s,d))&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=o.materialIndex,t.push(r))}}else{let i=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);for(let s=i;s<o;s+=3){let i=s,o=s+1,d=s+2;(r=d0(this,a,e,n,l,u,c,i,o,d))&&(r.faceIndex=Math.floor(s/3),t.push(r))}}}}}function d0(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,dj),e.getVertexPosition(l,dB),e.getVertexPosition(u,dV);let c=function(e,t,n,r,i,a,o,s){if(null===(1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,0===t.side,s)))return null;dQ.copy(s),dQ.applyMatrix4(e.matrixWorld);let l=n.ray.origin.distanceTo(dQ);return l<n.near||l>n.far?null:{distance:l,point:dQ.clone(),object:e}}(e,t,n,r,dj,dB,dV,dZ);if(c){i&&(dW.fromBufferAttribute(i,s),dX.fromBufferAttribute(i,l),d$.fromBufferAttribute(i,u),c.uv=dd.getInterpolation(dZ,dj,dB,dV,dW,dX,d$,new u$)),a&&(dW.fromBufferAttribute(a,s),dX.fromBufferAttribute(a,l),d$.fromBufferAttribute(a,u),c.uv1=dd.getInterpolation(dZ,dj,dB,dV,dW,dX,d$,new u$),c.uv2=c.uv1),o&&(dq.fromBufferAttribute(o,s),dY.fromBufferAttribute(o,l),dK.fromBufferAttribute(o,u),c.normal=dd.getInterpolation(dZ,dj,dB,dV,dq,dY,dK,new cs),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));let e={a:s,b:l,c:u,normal:new cs,materialIndex:0};dd.getNormal(dj,dB,dV,e.normal),c.face=e}return c}class d1 extends dI{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};let o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);let s=[],l=[],u=[],c=[],d=0,h=0;function f(e,t,n,r,i,a,f,p,m,g,v){let y=a/m,b=f/g,_=a/2,x=f/2,S=p/2,w=m+1,E=g+1,M=0,T=0,C=new cs;for(let a=0;a<E;a++){let o=a*b-x;for(let s=0;s<w;s++){let d=s*y-_;C[e]=d*r,C[t]=o*i,C[n]=S,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=p>0?1:-1,u.push(C.x,C.y,C.z),c.push(s/m),c.push(1-a/g),M+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){let n=d+t+w*e,r=d+t+w*(e+1),i=d+(t+1)+w*(e+1),a=d+(t+1)+w*e;s.push(n,r,a),s.push(r,i,a),T+=6}o.addGroup(h,T,v),h+=T,d+=M}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new dC(l,3)),this.setAttribute("normal",new dC(u,3)),this.setAttribute("uv",new dC(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function d2(e){let t={};for(let n in e)for(let r in t[n]={},e[n]){let i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function d3(e){let t={};for(let n=0;n<e.length;n++){let r=d2(e[n]);for(let e in r)t[e]=r[e]}return t}function d5(e){return null===e.getRenderTarget()?e.outputColorSpace:uN}const d4={clone:d2,merge:d3};class d6 extends df{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=d2(e.uniforms),this.uniformsGroups=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);for(let n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){let r=this.uniforms[n],i=r.value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let n={};for(let e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class d8 extends c9{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cU,this.projectionMatrix=new cU,this.projectionMatrixInverse=new cU,this.coordinateSystem=2e3}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class d9 extends d8{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*uj*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*uF*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*uj*Math.atan(Math.tan(.5*uF*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*uF*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){let e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}let o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class d7 extends c9{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null;let r=new d9(-90,1,e,t);r.layers=this.layers,this.add(r);let i=new d9(-90,1,e,t);i.layers=this.layers,this.add(i);let a=new d9(-90,1,e,t);a.layers=this.layers,this.add(a);let o=new d9(-90,1,e,t);o.layers=this.layers,this.add(o);let s=new d9(-90,1,e,t);s.layers=this.layers,this.add(s);let l=new d9(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(let e of t)this.remove(e);if(2e3===e)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else if(2001===e)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[r,i,a,o,s,l]=this.children,u=e.getRenderTarget(),c=e.toneMapping,d=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;let h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=c,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class he extends cn{constructor(e,t,n,r,i,a,o,s,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,i,a,o,s,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ht extends ci{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];void 0!==t.encoding&&(uJ("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=3001===t.encoding?uL:""),this.texture=new he(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:1006}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new d1(5,5,5),i=new d6({name:"CubemapFromEquirect",uniforms:d2(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;let a=new dJ(r,i),o=t.minFilter;1008===t.minFilter&&(t.minFilter=1006);let s=new d7(1,10,this);return s.update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){let i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}const hn=new cs,hr=new cs,hi=new uq;class ha{constructor(e=new cs(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let r=hn.subVectors(n,t).cross(hr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let n=e.delta(hn),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||hi.getNormalMatrix(e),r=this.coplanarPoint(hn).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ho=new cP,hs=new cs;class hl{constructor(e=new ha,t=new ha,n=new ha,r=new ha,i=new ha,a=new ha){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){let n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],h=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-h,b-g).normalize(),n[1].setComponents(s+i,d+l,m+h,b+g).normalize(),n[2].setComponents(s+a,d+u,m+f,b+v).normalize(),n[3].setComponents(s-a,d-u,m-f,b-v).normalize(),n[4].setComponents(s-o,d-c,m-p,b-y).normalize(),2e3===t)n[5].setComponents(s+o,d+c,m+p,b+y).normalize();else if(2001===t)n[5].setComponents(o,c,p,y).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ho.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ho.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ho)}intersectsSprite(e){return ho.center.set(0,0,0),ho.radius=.7071067811865476,ho.applyMatrix4(e.matrixWorld),this.intersectsSphere(ho)}intersectsSphere(e){let t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++){let i=t[e].distanceToPoint(n);if(i<r)return!1}return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let r=t[n];if(hs.x=r.normal.x>0?e.max.x:e.min.x,hs.y=r.normal.y>0?e.max.y:e.min.y,hs.z=r.normal.z>0?e.max.z:e.min.z,0>r.distanceToPoint(hs))return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}clone(){return new this.constructor().copy(this)}}function hu(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function hc(e,t){let n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);let n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){let e=r.get(t);(!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version});return}t.isInterleavedBufferAttribute&&(t=t.data);let a=r.get(t);void 0===a?r.set(t,function(t,r){let i;let a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array){if(t.isFloat16BufferAttribute){if(n)i=e.HALF_FLOAT;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.")}else i=e.UNSIGNED_SHORT}else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else if(a instanceof Uint8ClampedArray)i=e.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){let a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}class hd extends dI{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};let i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,u=s+1,c=e/o,d=t/s,h=[],f=[],p=[],m=[];for(let e=0;e<u;e++){let t=e*d-a;for(let n=0;n<l;n++){let r=n*c-i;f.push(r,-t,0),p.push(0,0,1),m.push(n/o),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){let n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),a=t+1+l*e;h.push(n,r,a),h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new dC(f,3)),this.setAttribute("normal",new dC(p,3)),this.setAttribute("uv",new dC(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.width,e.height,e.widthSegments,e.heightSegments)}}const hh={alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	anisotropyV /= material.anisotropy;\n	material.anisotropy = saturate( material.anisotropy );\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return saturate(v);\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif",map_fragment:"#ifdef USE_MAP\n	diffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}"},hf={common:{diffuse:{value:new dy(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new uq},alphaMap:{value:null},alphaMapTransform:{value:new uq},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new uq}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new uq}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new uq}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new uq},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new uq},normalScale:{value:new u$(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new uq},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new uq}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new uq}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new uq}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dy(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dy(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new uq},alphaTest:{value:0},uvTransform:{value:new uq}},sprite:{diffuse:{value:new dy(16777215)},opacity:{value:1},center:{value:new u$(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new uq},alphaMap:{value:null},alphaMapTransform:{value:new uq},alphaTest:{value:0}}},hp={basic:{uniforms:d3([hf.common,hf.specularmap,hf.envmap,hf.aomap,hf.lightmap,hf.fog]),vertexShader:hh.meshbasic_vert,fragmentShader:hh.meshbasic_frag},lambert:{uniforms:d3([hf.common,hf.specularmap,hf.envmap,hf.aomap,hf.lightmap,hf.emissivemap,hf.bumpmap,hf.normalmap,hf.displacementmap,hf.fog,hf.lights,{emissive:{value:new dy(0)}}]),vertexShader:hh.meshlambert_vert,fragmentShader:hh.meshlambert_frag},phong:{uniforms:d3([hf.common,hf.specularmap,hf.envmap,hf.aomap,hf.lightmap,hf.emissivemap,hf.bumpmap,hf.normalmap,hf.displacementmap,hf.fog,hf.lights,{emissive:{value:new dy(0)},specular:{value:new dy(1118481)},shininess:{value:30}}]),vertexShader:hh.meshphong_vert,fragmentShader:hh.meshphong_frag},standard:{uniforms:d3([hf.common,hf.envmap,hf.aomap,hf.lightmap,hf.emissivemap,hf.bumpmap,hf.normalmap,hf.displacementmap,hf.roughnessmap,hf.metalnessmap,hf.fog,hf.lights,{emissive:{value:new dy(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hh.meshphysical_vert,fragmentShader:hh.meshphysical_frag},toon:{uniforms:d3([hf.common,hf.aomap,hf.lightmap,hf.emissivemap,hf.bumpmap,hf.normalmap,hf.displacementmap,hf.gradientmap,hf.fog,hf.lights,{emissive:{value:new dy(0)}}]),vertexShader:hh.meshtoon_vert,fragmentShader:hh.meshtoon_frag},matcap:{uniforms:d3([hf.common,hf.bumpmap,hf.normalmap,hf.displacementmap,hf.fog,{matcap:{value:null}}]),vertexShader:hh.meshmatcap_vert,fragmentShader:hh.meshmatcap_frag},points:{uniforms:d3([hf.points,hf.fog]),vertexShader:hh.points_vert,fragmentShader:hh.points_frag},dashed:{uniforms:d3([hf.common,hf.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hh.linedashed_vert,fragmentShader:hh.linedashed_frag},depth:{uniforms:d3([hf.common,hf.displacementmap]),vertexShader:hh.depth_vert,fragmentShader:hh.depth_frag},normal:{uniforms:d3([hf.common,hf.bumpmap,hf.normalmap,hf.displacementmap,{opacity:{value:1}}]),vertexShader:hh.meshnormal_vert,fragmentShader:hh.meshnormal_frag},sprite:{uniforms:d3([hf.sprite,hf.fog]),vertexShader:hh.sprite_vert,fragmentShader:hh.sprite_frag},background:{uniforms:{uvTransform:{value:new uq},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:hh.background_vert,fragmentShader:hh.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:hh.backgroundCube_vert,fragmentShader:hh.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:hh.cube_vert,fragmentShader:hh.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hh.equirect_vert,fragmentShader:hh.equirect_frag},distanceRGBA:{uniforms:d3([hf.common,hf.displacementmap,{referencePosition:{value:new cs},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hh.distanceRGBA_vert,fragmentShader:hh.distanceRGBA_frag},shadow:{uniforms:d3([hf.lights,hf.fog,{color:{value:new dy(0)},opacity:{value:1}}]),vertexShader:hh.shadow_vert,fragmentShader:hh.shadow_frag}};hp.physical={uniforms:d3([hp.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new uq},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new uq},clearcoatNormalScale:{value:new u$(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new uq},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new uq},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new uq},sheen:{value:0},sheenColor:{value:new dy(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new uq},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new uq},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new uq},transmissionSamplerSize:{value:new u$},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new uq},attenuationDistance:{value:0},attenuationColor:{value:new dy(0)},specularColor:{value:new dy(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new uq},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new uq},anisotropyVector:{value:new u$},anisotropyMap:{value:null},anisotropyMapTransform:{value:new uq}}]),vertexShader:hh.meshphysical_vert,fragmentShader:hh.meshphysical_frag};const hm={r:0,b:0,g:0};function hg(e,t,n,r,i,a,o){let s,l;let u=new dy(0),c=!0===a?0:1,d=null,h=0,f=null;function p(t,n){t.getRGB(hm,d5(e)),r.buffers.color.setClear(hm.r,hm.g,hm.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e,t=1){u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(a,m){let g=!1,v=!0===m.isScene?m.background:null;if(v&&v.isTexture){let e=m.backgroundBlurriness>0;v=(e?n:t).get(v)}null===v?p(u,c):v&&v.isColor&&(p(v,1),g=!0);let y=e.xr,b=y.getEnvironmentBlendMode();switch(b){case"opaque":g=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),g=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),g=!0}(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||306===v.mapping)?(void 0===l&&((l=new dJ(new d1(1,1,1),new d6({name:"BackgroundCubeMaterial",uniforms:d2(hp.backgroundCube.uniforms),vertexShader:hp.backgroundCube.vertexShader,fragmentShader:hp.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=v,l.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=v.colorSpace!==uL,(d!==v||h!==v.version||f!==e.toneMapping)&&(l.material.needsUpdate=!0,d=v,h=v.version,f=e.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new dJ(new hd(2,2),new d6({name:"BackgroundMaterial",uniforms:d2(hp.background.uniforms),vertexShader:hp.background.vertexShader,fragmentShader:hp.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,s.material.toneMapped=v.colorSpace!==uL,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||h!==v.version||f!==e.toneMapping)&&(s.material.needsUpdate=!0,d=v,h=v.version,f=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function hv(e,t,n,r){let i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),u=l,c=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){let t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){let e=u.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){let a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;if(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i){let a=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");a[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function v(){let t=u.newAttributes,n=u.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){_(),c=!0,u!==l&&d((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,b,_){let x=!1;if(o){let t=function(t,n,i){let o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);let u=l[n.id];void 0===u&&(u={},l[n.id]=u);let c=u[o];return void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(b,h,l);u!==t&&d((u=t).object),(x=function(e,t,n,r){let i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(let t in s){let n=s[t];if(n.location>=0){let n=i[t],r=a[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n||n.attribute!==r||r&&n.data!==r.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,b,h,_))&&function(e,t,n,r){let i={},a=t.attributes,o=0,s=n.getAttributes();for(let t in s){let n=s[t];if(n.location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));let r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,b,h,_)}else{let e=!0===l.wireframe;(u.geometry!==b.id||u.program!==h.id||u.wireframe!==e)&&(u.geometry=b.id,u.program=h.id,u.wireframe=e,x=!0)}null!==_&&n.update(_,e.ELEMENT_ARRAY_BUFFER),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();let l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(let t in u){let a=u[t];if(a.location>=0){let o=l[t];if(void 0===o&&("instanceMatrix"===t&&i.instanceMatrix&&(o=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(o=i.instanceColor)),void 0!==o){let t=o.normalized,l=o.itemSize,u=n.get(o);if(void 0===u)continue;let c=u.buffer,d=u.type,h=u.bytesPerElement,f=!0===r.isWebGL2&&(d===e.INT||d===e.UNSIGNED_INT||1013===o.gpuType);if(o.isInterleavedBufferAttribute){let n=o.data,r=n.stride,u=o.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<a.locationSize;e++)g(a.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<a.locationSize;e++)m(a.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<a.locationSize;e++)y(a.location+e,l/a.locationSize,d,t,r*h,(u+l/a.locationSize*e)*h,f)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<a.locationSize;e++)g(a.location+e,o.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<a.locationSize;e++)m(a.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<a.locationSize;e++)y(a.location+e,l/a.locationSize,d,t,l*h,l/a.locationSize*e*h,f)}}else if(void 0!==c){let n=c[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(a.location,n);break;case 3:e.vertexAttrib3fv(a.location,n);break;case 4:e.vertexAttrib4fv(a.location,n);break;default:e.vertexAttrib1fv(a.location,n)}}}}v()}(i,l,h,b),null!==_&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){for(let e in b(),s){let t=s[e];for(let e in t){let n=t[e];for(let e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;let t=s[e.id];for(let e in t){let n=t[e];for(let e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(let t in s){let n=s[t];if(void 0===n[e.id])continue;let r=n[e.id];for(let e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function hy(e,t,n,r){let i;let a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){let l,u;if(0!==s){if(a)l=e,u="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===l){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}l[u](i,r,o,s),n.update(o,i,s)}}}function hb(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);let l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=d>0,b=a||t.has("OES_texture_float"),_=a?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){let n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:_}}function h_(e){let t=this,n=null,r=0,i=!1,a=!1,o=new ha,s=new uq,l={value:null,needsUpdate:!1};function u(e,n,r,i){let a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){let t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(u,n),u[n+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){let n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){let d=o.clippingPlanes,h=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(i&&null!==d&&0!==d.length&&(!a||f)){let e=a?0:r,t=4*e,i=p.clippingState||null;l.value=i,i=u(d,s,t,c);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}else a?u(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0)}}function hx(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){let a=i.mapping;if(303===a||304===a){if(t.has(i)){let e=t.get(i).texture;return n(e,i.mapping)}{let a=i.image;if(!a||!(a.height>0))return null;{let o=new ht(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}}}}return i},dispose:function(){t=new WeakMap}}}class hS extends d8{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const hw=[.125,.215,.35,.446,.526,.582],hE=new hS,hM=new dy;let hT=null;const hC=(1+Math.sqrt(5))/2,hP=1/hC,hA=[new cs(1,1,1),new cs(-1,1,1),new cs(1,1,-1),new cs(-1,1,-1),new cs(0,hC,hP),new cs(0,hC,-hP),new cs(hP,0,hC),new cs(-hP,0,hC),new cs(hC,hP,0),new cs(-hC,hP,0)];class hR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){hT=this._renderer.getRenderTarget(),this._setSize(256);let i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=hN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=hL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(hT),e.scissorTest=!1,hk(e,0,0,e.width,e.height)}_fromTexture(e,t){301===e.mapping||302===e.mapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),hT=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:uN,depthBuffer:!1},r=hO(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=hO(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){let t=[],n=[],r=[],i=e,a=e-4+1+hw.length;for(let o=0;o<a;o++){let a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=hw[o-e+4-1]:0===o&&(s=0),r.push(s);let l=1/(a-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],h=new Float32Array(108),f=new Float32Array(72),p=new Float32Array(36);for(let e=0;e<6;e++){let t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];h.set(r,18*e),f.set(d,12*e);let i=[e,e,e,e,e,e];p.set(i,6*e)}let m=new dI;m.setAttribute("position",new dw(h,3)),m.setAttribute("uv",new dw(f,2)),m.setAttribute("faceIndex",new dw(p,1)),t.push(m),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){let r=new Float32Array(20),i=new cs(0,1,0),a=new d6({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){let t=new dJ(this._lodPlanes[0],e);this._renderer.compile(t,hE)}_sceneToCubeUV(e,t,n,r){let i=new d9(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(hM),s.toneMapping=0,s.autoClear=!1;let c=new d_({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new dJ(new d1,c),h=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,h=!0):(c.color.copy(hM),h=!0);for(let t=0;t<6;t++){let n=t%3;0===n?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===n?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t]));let l=this._cubeSize;hk(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),h&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){let n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=hN()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=hL());let i=r?this._cubemapMaterial:this._equirectMaterial,a=new dJ(this._lodPlanes[0],i),o=i.uniforms;o.envMap.value=e;let s=this._cubeSize;hk(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,hE)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){let n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=hA[(t-1)%hA.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,r,i){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){let s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");let u=new dJ(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);let m=[],g=0;for(let e=0;e<20;++e){let t=e/f,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);let{_lodMax:v}=this;c.dTheta.value=h,c.mipInt.value=v-n;let y=this._sizeLods[r],b=3*y*(r>v-4?r-v+4:0),_=4*(this._cubeSize-y);hk(t,b,_,3*y,2*y),s.setRenderTarget(t),s.render(u,hE)}}function hO(e,t,n){let r=new ci(e,t,n);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function hk(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function hL(){return new d6({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function hN(){return new d6({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function hI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hD(e){let t=new WeakMap,n=null;function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){let a=i.mapping,o=303===a||304===a,s=301===a||302===a;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new hR(e)),r=o?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{let a=i.image;if(!(o&&a&&a.height>0||s&&a&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(a)))return null;{null===n&&(n=new hR(e));let a=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",r),a.texture}}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function hU(e){let t={};function n(n){let r;if(void 0!==t[n])return t[n];switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){let t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function hz(e,t,n,r){let i={},a=new WeakMap;function o(e){let s=e.target;for(let e in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[e]);for(let e in s.morphAttributes){let n=s.morphAttributes[e];for(let e=0,r=n.length;e<r;e++)t.remove(n[e])}s.removeEventListener("dispose",o),delete i[s.id];let l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){let n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){let e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){let r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{let e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){let e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}let s=new(uK(n)?dT:dM)(n,1);s.version=o;let l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){let r=n.attributes;for(let n in r)t.update(r[n],e.ARRAY_BUFFER);let i=n.morphAttributes;for(let n in i){let r=i[n];for(let n=0,i=r.length;n<i;n++)t.update(r[n],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){let t=a.get(e);if(t){let n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function hF(e,t,n,r){let i,a,o;let s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){let c,d;if(0!==u){if(s)c=e,d="drawElementsInstanced";else if(c=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===c){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}c[d](i,l,a,r*o,u),n.update(l,i,u)}}}function hj(e){let t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function hB(e,t){return e[0]-t[0]}function hV(e,t){return Math.abs(t[1])-Math.abs(e[1])}function hG(e,t,n){let r={},i=new Float32Array(8),a=new WeakMap,o=new cr,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,u,c){let d=l.morphTargetInfluences;if(!0===t.isWebGL2){let r=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,i=void 0!==r?r.length:0,s=a.get(u);if(void 0===s||s.count!==i){void 0!==s&&s.texture.dispose();let e=void 0!==u.morphAttributes.position,n=void 0!==u.morphAttributes.normal,r=void 0!==u.morphAttributes.color,l=u.morphAttributes.position||[],c=u.morphAttributes.normal||[],d=u.morphAttributes.color||[],h=0;!0===e&&(h=1),!0===n&&(h=2),!0===r&&(h=3);let f=u.attributes.position.count*h,p=1;f>t.maxTextureSize&&(p=Math.ceil(f/t.maxTextureSize),f=t.maxTextureSize);let m=new Float32Array(f*p*4*i),g=new ca(m,f,p,i);g.type=1015,g.needsUpdate=!0;let v=4*h;for(let t=0;t<i;t++){let i=l[t],a=c[t],s=d[t],u=f*p*4*t;for(let t=0;t<i.count;t++){let l=t*v;!0===e&&(o.fromBufferAttribute(i,t),m[u+l+0]=o.x,m[u+l+1]=o.y,m[u+l+2]=o.z,m[u+l+3]=0),!0===n&&(o.fromBufferAttribute(a,t),m[u+l+4]=o.x,m[u+l+5]=o.y,m[u+l+6]=o.z,m[u+l+7]=0),!0===r&&(o.fromBufferAttribute(s,t),m[u+l+8]=o.x,m[u+l+9]=o.y,m[u+l+10]=o.z,m[u+l+11]=4===s.itemSize?o.w:1)}}s={count:i,texture:g,size:new u$(f,p)},a.set(u,s),u.addEventListener("dispose",function e(){g.dispose(),a.delete(u),u.removeEventListener("dispose",e)})}let l=0;for(let e=0;e<d.length;e++)l+=d[e];let h=u.morphTargetsRelative?1:1-l;c.getUniforms().setValue(e,"morphTargetBaseInfluence",h),c.getUniforms().setValue(e,"morphTargetInfluences",d),c.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{let t=void 0===d?0:d.length,n=r[u.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[u.id]=n}for(let e=0;e<t;e++){let t=n[e];t[0]=e,t[1]=d[e]}n.sort(hV);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(hB);let a=u.morphAttributes.position,o=u.morphAttributes.normal,l=0;for(let e=0;e<8;e++){let t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(a&&u.getAttribute("morphTarget"+e)!==a[n]&&u.setAttribute("morphTarget"+e,a[n]),o&&u.getAttribute("morphNormal"+e)!==o[n]&&u.setAttribute("morphNormal"+e,o[n]),i[e]=r,l+=r):(a&&!0===u.hasAttribute("morphTarget"+e)&&u.deleteAttribute("morphTarget"+e),o&&!0===u.hasAttribute("morphNormal"+e)&&u.deleteAttribute("morphNormal"+e),i[e]=0)}let h=u.morphTargetsRelative?1:1-l;c.getUniforms().setValue(e,"morphTargetBaseInfluence",h),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function hH(e,t,n,r){let i=new WeakMap;function a(e){let t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){let s=r.render.frame,l=o.geometry,u=t.get(o,l);return i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER)),u},dispose:function(){i=new WeakMap}}}const hW=new cn,hX=new ca,h$=new class extends cn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},hq=new he,hY=[],hK=[],hZ=new Float32Array(16),hQ=new Float32Array(9),hJ=new Float32Array(4);function h0(e,t,n){let r=e[0];if(r<=0||r>0)return e;let i=t*n,a=hY[i];if(void 0===a&&(a=new Float32Array(i),hY[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function h1(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h2(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function h3(e,t){let n=hK[t];void 0===n&&(n=new Int32Array(t),hK[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function h5(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function h4(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(h1(n,t))return;e.uniform2fv(this.addr,t),h2(n,t)}}function h6(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(h1(n,t))return;e.uniform3fv(this.addr,t),h2(n,t)}}function h8(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(h1(n,t))return;e.uniform4fv(this.addr,t),h2(n,t)}}function h9(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(h1(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),h2(n,t)}else{if(h1(n,r))return;hJ.set(r),e.uniformMatrix2fv(this.addr,!1,hJ),h2(n,r)}}function h7(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(h1(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),h2(n,t)}else{if(h1(n,r))return;hQ.set(r),e.uniformMatrix3fv(this.addr,!1,hQ),h2(n,r)}}function fe(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(h1(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),h2(n,t)}else{if(h1(n,r))return;hZ.set(r),e.uniformMatrix4fv(this.addr,!1,hZ),h2(n,r)}}function ft(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function fn(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(h1(n,t))return;e.uniform2iv(this.addr,t),h2(n,t)}}function fr(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(h1(n,t))return;e.uniform3iv(this.addr,t),h2(n,t)}}function fi(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(h1(n,t))return;e.uniform4iv(this.addr,t),h2(n,t)}}function fa(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function fo(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(h1(n,t))return;e.uniform2uiv(this.addr,t),h2(n,t)}}function fs(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(h1(n,t))return;e.uniform3uiv(this.addr,t),h2(n,t)}}function fl(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(h1(n,t))return;e.uniform4uiv(this.addr,t),h2(n,t)}}function fu(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||hW,i)}function fc(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||h$,i)}function fd(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||hq,i)}function fh(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||hX,i)}function ff(e,t){e.uniform1fv(this.addr,t)}function fp(e,t){let n=h0(t,this.size,2);e.uniform2fv(this.addr,n)}function fm(e,t){let n=h0(t,this.size,3);e.uniform3fv(this.addr,n)}function fg(e,t){let n=h0(t,this.size,4);e.uniform4fv(this.addr,n)}function fv(e,t){let n=h0(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function fy(e,t){let n=h0(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function fb(e,t){let n=h0(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function f_(e,t){e.uniform1iv(this.addr,t)}function fx(e,t){e.uniform2iv(this.addr,t)}function fS(e,t){e.uniform3iv(this.addr,t)}function fw(e,t){e.uniform4iv(this.addr,t)}function fE(e,t){e.uniform1uiv(this.addr,t)}function fM(e,t){e.uniform2uiv(this.addr,t)}function fT(e,t){e.uniform3uiv(this.addr,t)}function fC(e,t){e.uniform4uiv(this.addr,t)}function fP(e,t,n){let r=this.cache,i=t.length,a=h3(n,i);h1(r,a)||(e.uniform1iv(this.addr,a),h2(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||hW,a[e])}function fA(e,t,n){let r=this.cache,i=t.length,a=h3(n,i);h1(r,a)||(e.uniform1iv(this.addr,a),h2(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||h$,a[e])}function fR(e,t,n){let r=this.cache,i=t.length,a=h3(n,i);h1(r,a)||(e.uniform1iv(this.addr,a),h2(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||hq,a[e])}function fO(e,t,n){let r=this.cache,i=t.length,a=h3(n,i);h1(r,a)||(e.uniform1iv(this.addr,a),h2(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||hX,a[e])}class fk{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return h5;case 35664:return h4;case 35665:return h6;case 35666:return h8;case 35674:return h9;case 35675:return h7;case 35676:return fe;case 5124:case 35670:return ft;case 35667:case 35671:return fn;case 35668:case 35672:return fr;case 35669:case 35673:return fi;case 5125:return fa;case 36294:return fo;case 36295:return fs;case 36296:return fl;case 35678:case 36198:case 36298:case 36306:case 35682:return fu;case 35679:case 36299:case 36307:return fc;case 35680:case 36300:case 36308:case 36293:return fd;case 36289:case 36303:case 36311:case 36292:return fh}}(t.type)}}class fL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ff;case 35664:return fp;case 35665:return fm;case 35666:return fg;case 35674:return fv;case 35675:return fy;case 35676:return fb;case 5124:case 35670:return f_;case 35667:case 35671:return fx;case 35668:case 35672:return fS;case 35669:case 35673:return fw;case 5125:return fE;case 36294:return fM;case 36295:return fT;case 36296:return fC;case 35678:case 36198:case 36298:case 36306:case 35682:return fP;case 35679:case 36299:case 36307:return fA;case 35680:case 36300:case 36308:case 36293:return fR;case 36289:case 36303:case 36311:case 36292:return fO}}(t.type)}}class fN{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let a=r[i];a.setValue(e,t[a.id],n)}}}const fI=/(\w+)(\])?(\[|\.)?/g;function fD(e,t){e.seq.push(t),e.map[t.id]=t}class fU{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);!function(e,t,n){let r=e.name,i=r.length;for(fI.lastIndex=0;;){let a=fI.exec(r),o=fI.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){fD(n,void 0===u?new fk(s,e,t):new fL(s,e,t));break}{let e=n.map,t=e[s];void 0===t&&fD(n,t=new fN(s)),n=t}}}(n,i,this)}}setValue(e,t,n,r){let i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){let a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,i=e.length;r!==i;++r){let i=e[r];i.id in t&&n.push(i)}return n}}function fz(e,t,n){let r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let fF=0;function fj(e,t,n){let r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";let a=/ERROR: 0:(\d+)/.exec(i);if(!a)return i;{let r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){let n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){let i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}}function fB(e){return""!==e}function fV(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fG(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const fH=/^[ \t]*#include +<([\w\d./]+)>/gm;function fW(e){return e.replace(fH,fX)}function fX(e,t){let n=hh[t];if(void 0===n)throw Error("Can not resolve #include <"+t+">");return fW(n)}const f$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fq(e){return e.replace(f$,fY)}function fY(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function fK(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function fZ(e,t,n,r){let i,a,o,s,l,u;let c=e.getContext(),d=n.defines,h=n.vertexShader,f=n.fragmentShader,p=(l="SHADOWMAP_TYPE_BASIC",1===n.shadowMapType?l="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?l="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(l="SHADOWMAP_TYPE_VSM"),l),m=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),g=(u="ENVMAP_MODE_REFLECTION",n.envMap&&302===n.envMapMode&&(u="ENVMAP_MODE_REFRACTION"),u),v=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),y=function(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:1/t,maxMip:n}}(n),b=n.isWebGL2?"":function(e){let t=[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(fB).join("\n")}(n),_=function(e){let t=[];for(let n in e){let r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(d),x=c.createProgram(),S=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(fB).join("\n")).length>0&&(i+="\n"),(a=[b,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(fB).join("\n")).length>0&&(a+="\n")):(i=[fK(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(fB).join("\n"),a=[b,fK(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",n.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?hh.tonemapping_pars_fragment:"",0!==n.toneMapping?function(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",hh.encodings_pars_fragment,function(e,t){let n=function(e){switch(e){case uN:return["Linear","( value )"];case uL:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(fB).join("\n")),h=fG(h=fV(h=fW(h),n),n),f=fG(f=fV(f=fW(f),n),n),h=fq(h),f=fq(f),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(S="#version 300 es\n",i="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+i,a=["#define varying in",n.glslVersion===uD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===uD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);let w=S+i+h,E=S+a+f,M=fz(c,c.VERTEX_SHADER,w),T=fz(c,c.FRAGMENT_SHADER,E);if(c.attachShader(x,M),c.attachShader(x,T),void 0!==n.index0AttributeName?c.bindAttribLocation(x,0,n.index0AttributeName):!0===n.morphTargets&&c.bindAttribLocation(x,0,"position"),c.linkProgram(x),e.debug.checkShaderErrors){let t=c.getProgramInfoLog(x).trim(),n=c.getShaderInfoLog(M).trim(),r=c.getShaderInfoLog(T).trim(),o=!0,s=!0;if(!1===c.getProgramParameter(x,c.LINK_STATUS)){if(o=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(c,x,M,T);else{let e=fj(c,M,"vertex"),n=fj(c,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(x,c.VALIDATE_STATUS)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):(""===n||""===r)&&(s=!1);s&&(this.diagnostics={runnable:o,programLog:t,vertexShader:{log:n,prefix:i},fragmentShader:{log:r,prefix:a}})}return c.deleteShader(M),c.deleteShader(T),this.getUniforms=function(){return void 0===o&&(o=new fU(c,x)),o},this.getAttributes=function(){return void 0===s&&(s=function(e,t){let n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let r=e.getActiveAttrib(t,i),a=r.name,o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(c,x)),s},this.destroy=function(){r.releaseStatesOfProgram(this),c.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=fF++,this.cacheKey=t,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=T,this}let fQ=0;class fJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new f0(e),t.set(e,n)),n}}class f0{constructor(e){this.id=fQ++,this.code=e,this.usedTimes=0}}function f1(e,t,n,r,i,a,o){let s=new cq,l=new fJ,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 0===e?"uv":`uv${e}`}return{getParameters:function(a,s,u,g,v){let y,b,_,x;let S=g.fog,w=v.geometry,E=a.isMeshStandardMaterial?g.environment:null,M=(a.isMeshStandardMaterial?n:t).get(a.envMap||E),T=M&&306===M.mapping?M.image.height:null,C=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead.");let P=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,A=void 0!==P?P.length:0,R=0;if(void 0!==w.morphAttributes.position&&(R=1),void 0!==w.morphAttributes.normal&&(R=2),void 0!==w.morphAttributes.color&&(R=3),C){let e=hp[C];y=e.vertexShader,b=e.fragmentShader}else y=a.vertexShader,b=a.fragmentShader,l.update(a),_=l.getVertexShaderID(a),x=l.getFragmentShaderID(a);let O=e.getRenderTarget(),k=!0===v.isInstancedMesh,L=!!a.map,N=!!a.matcap,I=!!M,D=!!a.aoMap,U=!!a.lightMap,z=!!a.bumpMap,F=!!a.normalMap,j=!!a.displacementMap,B=!!a.emissiveMap,V=!!a.metalnessMap,G=!!a.roughnessMap,H=a.anisotropy>0,W=a.clearcoat>0,X=a.iridescence>0,$=a.sheen>0,q=a.transmission>0,Y=H&&!!a.anisotropyMap,K=W&&!!a.clearcoatMap,Z=W&&!!a.clearcoatNormalMap,Q=W&&!!a.clearcoatRoughnessMap,J=X&&!!a.iridescenceMap,ee=X&&!!a.iridescenceThicknessMap,et=$&&!!a.sheenColorMap,en=$&&!!a.sheenRoughnessMap,er=!!a.specularMap,ei=!!a.specularColorMap,ea=!!a.specularIntensityMap,eo=q&&!!a.transmissionMap,es=q&&!!a.thicknessMap,el=!!a.gradientMap,eu=!!a.alphaMap,ec=a.alphaTest>0,ed=!!a.extensions,eh=!!w.attributes.uv1,ef=!!w.attributes.uv2,ep=!!w.attributes.uv3,em={isWebGL2:c,shaderID:C,shaderType:a.type,shaderName:a.name,vertexShader:y,fragmentShader:b,defines:a.defines,customVertexShaderID:_,customFragmentShaderID:x,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:k,instancingColor:k&&null!==v.instanceColor,supportsVertexTextures:h,outputColorSpace:null===O?e.outputColorSpace:!0===O.isXRRenderTarget?O.texture.colorSpace:uN,map:L,matcap:N,envMap:I,envMapMode:I&&M.mapping,envMapCubeUVHeight:T,aoMap:D,lightMap:U,bumpMap:z,normalMap:F,displacementMap:h&&j,emissiveMap:B,normalMapObjectSpace:F&&1===a.normalMapType,normalMapTangentSpace:F&&0===a.normalMapType,metalnessMap:V,roughnessMap:G,anisotropy:H,anisotropyMap:Y,clearcoat:W,clearcoatMap:K,clearcoatNormalMap:Z,clearcoatRoughnessMap:Q,iridescence:X,iridescenceMap:J,iridescenceThicknessMap:ee,sheen:$,sheenColorMap:et,sheenRoughnessMap:en,specularMap:er,specularColorMap:ei,specularIntensityMap:ea,transmission:q,transmissionMap:eo,thicknessMap:es,gradientMap:el,opaque:!1===a.transparent&&1===a.blending,alphaMap:eu,alphaTest:ec,combine:a.combine,mapUv:L&&m(a.map.channel),aoMapUv:D&&m(a.aoMap.channel),lightMapUv:U&&m(a.lightMap.channel),bumpMapUv:z&&m(a.bumpMap.channel),normalMapUv:F&&m(a.normalMap.channel),displacementMapUv:j&&m(a.displacementMap.channel),emissiveMapUv:B&&m(a.emissiveMap.channel),metalnessMapUv:V&&m(a.metalnessMap.channel),roughnessMapUv:G&&m(a.roughnessMap.channel),anisotropyMapUv:Y&&m(a.anisotropyMap.channel),clearcoatMapUv:K&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:Z&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Q&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:J&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ee&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:et&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:en&&m(a.sheenRoughnessMap.channel),specularMapUv:er&&m(a.specularMap.channel),specularColorMapUv:ei&&m(a.specularColorMap.channel),specularIntensityMapUv:ea&&m(a.specularIntensityMap.channel),transmissionMapUv:eo&&m(a.transmissionMap.channel),thicknessMapUv:es&&m(a.thicknessMap.channel),alphaMapUv:eu&&m(a.alphaMap.channel),vertexTangents:!!w.attributes.tangent&&(F||H),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!w.attributes.color&&4===w.attributes.color.itemSize,vertexUv1s:eh,vertexUv2s:ef,vertexUv3s:ep,pointsUvs:!0===v.isPoints&&!!w.attributes.uv&&(L||eu),fog:!!S,useFog:!0===a.fog,fogExp2:S&&S.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==w.morphAttributes.position,morphNormals:void 0!==w.morphAttributes.normal,morphColors:void 0!==w.morphAttributes.color,morphTargetsCount:A,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:0,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ed&&!0===a.extensions.derivatives,extensionFragDepth:ed&&!0===a.extensions.fragDepth,extensionDrawBuffers:ed&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ed&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()};return em},getProgramCacheKey:function(t){let n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(let e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(n.push(t.precision),n.push(t.outputColorSpace),n.push(t.envMapMode),n.push(t.envMapCubeUVHeight),n.push(t.mapUv),n.push(t.alphaMapUv),n.push(t.lightMapUv),n.push(t.aoMapUv),n.push(t.bumpMapUv),n.push(t.normalMapUv),n.push(t.displacementMapUv),n.push(t.emissiveMapUv),n.push(t.metalnessMapUv),n.push(t.roughnessMapUv),n.push(t.anisotropyMapUv),n.push(t.clearcoatMapUv),n.push(t.clearcoatNormalMapUv),n.push(t.clearcoatRoughnessMapUv),n.push(t.iridescenceMapUv),n.push(t.iridescenceThicknessMapUv),n.push(t.sheenColorMapUv),n.push(t.sheenRoughnessMapUv),n.push(t.specularMapUv),n.push(t.specularColorMapUv),n.push(t.specularIntensityMapUv),n.push(t.transmissionMapUv),n.push(t.thicknessMapUv),n.push(t.combine),n.push(t.fogExp2),n.push(t.sizeAttenuation),n.push(t.morphTargetsCount),n.push(t.morphAttributeCount),n.push(t.numDirLights),n.push(t.numPointLights),n.push(t.numSpotLights),n.push(t.numSpotLightMaps),n.push(t.numHemiLights),n.push(t.numRectAreaLights),n.push(t.numDirLightShadows),n.push(t.numPointLightShadows),n.push(t.numSpotLightShadows),n.push(t.numSpotLightShadowsWithMaps),n.push(t.shadowMapType),n.push(t.toneMapping),n.push(t.numClippingPlanes),n.push(t.numClipIntersection),n.push(t.depthPacking),s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.matcap&&s.enable(4),t.envMap&&s.enable(5),t.normalMapObjectSpace&&s.enable(6),t.normalMapTangentSpace&&s.enable(7),t.clearcoat&&s.enable(8),t.iridescence&&s.enable(9),t.alphaTest&&s.enable(10),t.vertexColors&&s.enable(11),t.vertexAlphas&&s.enable(12),t.vertexUv1s&&s.enable(13),t.vertexUv2s&&s.enable(14),t.vertexUv3s&&s.enable(15),t.vertexTangents&&s.enable(16),t.anisotropy&&s.enable(17),n.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.useLegacyLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.transmission&&s.enable(15),t.sheen&&s.enable(16),t.opaque&&s.enable(17),t.pointsUvs&&s.enable(18),n.push(s.mask),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){let t;let n=p[e.type];if(n){let e=hp[n];t=d4.clone(e.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){let r;for(let e=0,t=u.length;e<t;e++){let t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new fZ(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){let t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function f2(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function f3(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function f5(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function f4(){let e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){let c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){let c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){let t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||f3),r.length>1&&r.sort(t||f5),i.length>1&&i.sort(t||f5)}}}function f6(){let e=new WeakMap;return{get:function(t,n){let r;let i=e.get(t);return void 0===i?(r=new f4,e.set(t,[r])):n>=i.length?(r=new f4,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function f8(){let e={};return{get:function(t){let n;if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":n={direction:new cs,color:new dy};break;case"SpotLight":n={position:new cs,direction:new cs,color:new dy,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new cs,color:new dy,distance:0,decay:0};break;case"HemisphereLight":n={direction:new cs,skyColor:new dy,groundColor:new dy};break;case"RectAreaLight":n={color:new dy,position:new cs,halfWidth:new cs,halfHeight:new cs}}return e[t.id]=n,n}}}let f9=0;function f7(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function pe(e,t){let n=new f8,r=function(){let e={};return{get:function(t){let n;if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new u$};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new u$,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)i.probe.push(new cs);let a=new cs,o=new cU,s=new cU;return{setup:function(a,o){let s=0,l=0,u=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0;a.sort(f7);let _=!0===o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){let t=a[e],o=t.color,x=t.intensity,S=t.distance,w=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*x*_,l+=o.g*x*_,u+=o.b*x*_;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],x);else if(t.isDirectionalLight){let e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),t.castShadow){let e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[c]=n,i.directionalShadowMap[c]=w,i.directionalShadowMatrix[c]=t.shadow.matrix,m++}i.directional[c]=e,c++}else if(t.isSpotLight){let e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(x*_),e.distance=S,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;let a=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,a.updateMatrices(t),t.castShadow&&b++),i.spotLightMatrix[h]=a.matrix,t.castShadow){let e=r.get(t);e.shadowBias=a.bias,e.shadowNormalBias=a.normalBias,e.shadowRadius=a.radius,e.shadowMapSize=a.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=w,v++}h++}else if(t.isRectAreaLight){let e=n.get(t);e.color.copy(o).multiplyScalar(x),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){let e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),e.distance=t.distance,e.decay=t.decay,t.castShadow){let e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=w,i.pointShadowMatrix[d]=t.shadow.matrix,g++}i.point[d]=e,d++}else if(t.isHemisphereLight){let e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(x*_),e.groundColor.copy(t.groundColor).multiplyScalar(x*_),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2?(i.rectAreaLTC1=hf.LTC_FLOAT_1,i.rectAreaLTC2=hf.LTC_FLOAT_2):!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=hf.LTC_FLOAT_1,i.rectAreaLTC2=hf.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=hf.LTC_HALF_1,i.rectAreaLTC2=hf.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;let x=i.hash;(x.directionalLength!==c||x.pointLength!==d||x.spotLength!==h||x.rectAreaLength!==f||x.hemiLength!==p||x.numDirectionalShadows!==m||x.numPointShadows!==g||x.numSpotShadows!==v||x.numSpotMaps!==y)&&(i.directional.length=c,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,x.directionalLength=c,x.pointLength=d,x.spotLength=h,x.rectAreaLength=f,x.hemiLength=p,x.numDirectionalShadows=m,x.numPointShadows=g,x.numSpotShadows=v,x.numSpotMaps=y,i.version=f9++)},setupView:function(e,t){let n=0,r=0,l=0,u=0,c=0,d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){let h=e[t];if(h.isDirectionalLight){let e=i.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),n++}else if(h.isSpotLight){let e=i.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){let e=i.rectArea[u];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),s.identity(),o.copy(h.matrixWorld),o.premultiply(d),s.extractRotation(o),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),u++}else if(h.isPointLight){let e=i.point[r];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),r++}else if(h.isHemisphereLight){let e=i.hemi[c];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),c++}}},state:i}}function pt(e,t){let n=new pe(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function pn(e,t){let n=new WeakMap;return{get:function(r,i=0){let a;let o=n.get(r);return void 0===o?(a=new pt(e,t),n.set(r,[a])):i>=o.length?(a=new pt(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}class pr extends df{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class pi extends df{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function pa(e,t,n){let r=new hl,i=new u$,a=new u$,o=new cr,s=new pr({depthPacking:3201}),l=new pi,u={},c=n.maxTextureSize,d={0:1,1:0,2:2},h=new d6({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new u$},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let p=new dI;p.setAttribute("position",new dw(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new dJ(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(t,n,r,i){let a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){let e=a.uuid,t=n.uuid,r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,3===i?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){let t=e.properties.get(a);t.light=r}return a}this.render=function(n,s,l){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===n.length)return;let u=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),b=e.state;b.setBlending(0),b.buffers.color.setClear(1,1,1,1),b.buffers.depth.setTest(!0),b.setScissorTest(!1);let _=3!==v&&3===this.type,x=3===v&&3!==this.type;for(let u=0,d=n.length;u<d;u++){let d=n[u],p=d.shadow;if(void 0===p){console.warn("THREE.WebGLShadowMap:",d,"has no shadow.");continue}if(!1===p.autoUpdate&&!1===p.needsUpdate)continue;i.copy(p.mapSize);let g=p.getFrameExtents();if(i.multiply(g),a.copy(p.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/g.x),i.x=a.x*g.x,p.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/g.y),i.y=a.y*g.y,p.mapSize.y=a.y)),null===p.map||!0===_||!0===x){let e=3!==this.type?{minFilter:1003,magFilter:1003}:{};null!==p.map&&p.map.dispose(),p.map=new ci(i.x,i.y,e),p.map.texture.name=d.name+".shadowMap",p.camera.updateProjectionMatrix()}e.setRenderTarget(p.map),e.clear();let v=p.getViewportCount();for(let n=0;n<v;n++){let i=p.getViewport(n);o.set(a.x*i.x,a.y*i.y,a.x*i.z,a.y*i.w),b.viewport(o),p.updateMatrices(d,n),r=p.getFrustum(),function n(i,a,o,s,l){if(!1===i.visible)return;let u=i.layers.test(a.layers);if(u&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&3===l)&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,i.matrixWorld);let n=t.update(i),r=i.material;if(Array.isArray(r)){let t=n.groups;for(let a=0,u=t.length;a<u;a++){let u=t[a],c=r[u.materialIndex];if(c&&c.visible){let t=y(i,c,s,l);e.renderBufferDirect(o,null,n,t,i,u)}}}else if(r.visible){let t=y(i,r,s,l);e.renderBufferDirect(o,null,n,t,i,null)}}let c=i.children;for(let e=0,t=c.length;e<t;e++)n(c[e],a,o,s,l)}(s,l,p.camera,d,this.type)}!0!==p.isPointLightShadow&&3===this.type&&function(n,r){let a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new ci(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}(p,l),p.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(u,d,p)}}function po(e,t,n){let r=n.isWebGL2,i=new function(){let t=!1,n=new cr,r=null,i=new cr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?F(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?F(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){(r!==t||i!==n||a!==o)&&(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){(o!==t||s!==n||l!==r)&&(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},s=new WeakMap,l=new WeakMap,u={},c={},d=new WeakMap,h=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,S=!1,w=null,E=null,M=null,T=null,C=null,P=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),A=!1,R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?A=parseFloat(/^WebGL (\d)/.exec(R)[1])>=1:-1!==R.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(R)[1])>=2);let O=null,k={},L=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),I=new cr().fromArray(L),D=new cr().fromArray(N);function U(t,n,i,a){let o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)r&&(t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY)?e.texImage3D(n,0,e.RGBA,1,1,a,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}let z={};function F(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function j(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}z[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),z[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(z[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),z[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),F(e.DEPTH_TEST),a.setFunc(3),H(!1),W(1),F(e.CULL_FACE),G(0);let B={100:e.FUNC_ADD,101:e.FUNC_SUBTRACT,102:e.FUNC_REVERSE_SUBTRACT};if(r)B[103]=e.MIN,B[104]=e.MAX;else{let e=t.get("EXT_blend_minmax");null!==e&&(B[103]=e.MIN_EXT,B[104]=e.MAX_EXT)}let V={200:e.ZERO,201:e.ONE,202:e.SRC_COLOR,204:e.SRC_ALPHA,210:e.SRC_ALPHA_SATURATE,208:e.DST_COLOR,206:e.DST_ALPHA,203:e.ONE_MINUS_SRC_COLOR,205:e.ONE_MINUS_SRC_ALPHA,209:e.ONE_MINUS_DST_COLOR,207:e.ONE_MINUS_DST_ALPHA};function G(t,n,r,i,a,o,s,l){if(0===t){!0===p&&(j(e.BLEND),p=!1);return}if(!1===p&&(F(e.BLEND),p=!0),5!==t){if(t!==m||l!==S){if((100!==g||100!==b)&&(e.blendEquation(e.FUNC_ADD),g=100,b=100),l)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,y=null,_=null,x=null,m=t,S=l}return}a=a||n,o=o||r,s=s||i,(n!==g||a!==b)&&(e.blendEquationSeparate(B[n],B[a]),g=n,b=a),(r!==v||i!==y||o!==_||s!==x)&&(e.blendFuncSeparate(V[r],V[i],V[o],V[s]),v=r,y=i,_=o,x=s),m=t,S=!1}function H(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function W(t){0!==t?(F(e.CULL_FACE),t!==E&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),E=t}function X(t,n,r){t?(F(e.POLYGON_OFFSET_FILL),(T!==n||C!==r)&&(e.polygonOffset(n,r),T=n,C=r)):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:a,stencil:o},enable:F,disable:j,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,r&&(t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){let a=h,o=!1;if(r){if(void 0===(a=d.get(i))&&(a=[],d.set(i,a)),r.isWebGLMultipleRenderTargets){let t=r.texture;if(a.length!==t.length||a[0]!==e.COLOR_ATTACHMENT0){for(let n=0,r=t.length;n<r;n++)a[n]=e.COLOR_ATTACHMENT0+n;a.length=t.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0)}else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:G,setMaterial:function(t,n){2===t.side?j(e.CULL_FACE):F(e.CULL_FACE);let r=1===t.side;n&&(r=!r),H(r),1===t.blending&&!1===t.transparent?G(0):G(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),i.setMask(t.colorWrite);let s=t.stencilWrite;o.setTest(s),s&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?F(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:H,setCullFace:W,setLineWidth:function(t){t!==M&&(A&&e.lineWidth(t),M=t)},setPolygonOffset:X,setScissorTest:function(t){t?F(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+P-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+P-1:O);let i=k[r];void 0===i&&(i={type:void 0,texture:void 0},k[r]=i),(i.type!==t||i.texture!==n)&&(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||z[t]),i.type=t,i.texture=n)},unbindTexture:function(){let t=k[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){let r=l.get(n),i=r.get(t);s.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),s.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===I.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),I.copy(t))},viewport:function(t){!1===D.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),D.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===r&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},O=null,k={},c={},d=new WeakMap,h=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,S=!1,w=null,E=null,M=null,T=null,C=null,I.set(0,0,e.canvas.width,e.canvas.height),D.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function ps(e,t,n,r,i,a,o){let s;let l=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,g=new WeakMap,v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return v?new OffscreenCanvas(e,t):uZ("canvas")}function b(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let r=t?uH:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===s&&(s=y(a,o));let l=n?y(a,o):s;l.width=a,l.height=o;let u=l.getContext("2d");return u.drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),l}"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+").")}return e}function _(e){return uG(e.width)&&uG(e.height)}function x(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function S(t){e.generateMipmap(t)}function w(n,r,i,a,o=!1){if(!1===l)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===uL&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),(s===e.R16F||s===e.R32F||s===e.RG16F||s===e.RG32F||s===e.RGBA16F||s===e.RGBA32F)&&t.get("EXT_color_buffer_float"),s}function E(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&1003!==e.minFilter&&1006!==e.minFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function M(t){return 1003===t||1004===t||1005===t?e.NEAREST:e.LINEAR}function T(e){let t=e.target;t.removeEventListener("dispose",T),function(e){let t=r.get(e);if(void 0===t.__webglInit)return;let n=e.source,i=g.get(n);if(i){let r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&P(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&m.delete(t)}function C(t){let n=t.target;n.removeEventListener("dispose",C),function(t){let n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){let i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}(n)}function P(t){let n=r.get(t);e.deleteTexture(n.__webglTexture);let i=t.source,a=g.get(i);delete a[n.__cacheKey],o.memory.textures--}let A=0;function R(t,i){let a=r.get(t);if(t.isVideoTexture&&function(e){let t=o.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){let e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===e.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{D(a,t,i);return}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}let O={1e3:e.REPEAT,1001:e.CLAMP_TO_EDGE,1002:e.MIRRORED_REPEAT},k={1003:e.NEAREST,1004:e.NEAREST_MIPMAP_NEAREST,1005:e.NEAREST_MIPMAP_LINEAR,1006:e.LINEAR,1007:e.LINEAR_MIPMAP_NEAREST,1008:e.LINEAR_MIPMAP_LINEAR},L={512:e.NEVER,519:e.ALWAYS,513:e.LESS,515:e.LEQUAL,514:e.EQUAL,518:e.GEQUAL,516:e.GREATER,517:e.NOTEQUAL};function N(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,O[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,O[a.wrapT]),(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY)&&e.texParameteri(n,e.TEXTURE_WRAP_R,O[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,k[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,k[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY)&&e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),(1001!==a.wrapS||1001!==a.wrapT)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M(a.minFilter)),1003!==a.minFilter&&1006!==a.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,L[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){let o=t.get("EXT_texture_filter_anisotropic");1003!==a.magFilter&&(1005===a.minFilter||1008===a.minFilter)&&(1015!==a.type||!1!==t.has("OES_texture_float_linear"))&&(!1!==l||1016!==a.type||!1!==t.has("OES_texture_half_float_linear"))&&(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));let i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));let s=function(e){let t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;let i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&P(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function D(t,i,o){let s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);let u=I(t,i),c=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);let h=r.get(c);if(c.version!==h.__version||!0===u){let t;n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);let r=!l&&(1001!==i.wrapS||1001!==i.wrapT||1003!==i.minFilter&&1006!==i.minFilter)&&!1===_(i.image),f=b(i.image,r,!1,d);f=V(i,f);let p=_(f)||l,m=a.convert(i.format,i.colorSpace),g=a.convert(i.type),v=w(i.internalFormat,m,g,i.colorSpace);N(s,i,p);let y=i.mipmaps,M=l&&!0!==i.isVideoTexture,T=void 0===h.__version||!0===u,C=E(i,f,p);if(i.isDepthTexture)v=e.DEPTH_COMPONENT,l?v=1015===i.type?e.DEPTH_COMPONENT32F:1014===i.type?e.DEPTH_COMPONENT24:1020===i.type?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:1015===i.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===i.format&&v===e.DEPTH_COMPONENT&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1014,g=a.convert(i.type)),1027===i.format&&v===e.DEPTH_COMPONENT&&(v=e.DEPTH_STENCIL,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,g=a.convert(i.type))),T&&(M?n.texStorage2D(e.TEXTURE_2D,1,v,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,v,f.width,f.height,0,m,g,null));else if(i.isDataTexture){if(y.length>0&&p){M&&T&&n.texStorage2D(e.TEXTURE_2D,C,v,y[0].width,y[0].height);for(let r=0,i=y.length;r<i;r++)t=y[r],M?n.texSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,m,g,t.data):n.texImage2D(e.TEXTURE_2D,r,v,t.width,t.height,0,m,g,t.data);i.generateMipmaps=!1}else M?(T&&n.texStorage2D(e.TEXTURE_2D,C,v,f.width,f.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,f.width,f.height,m,g,f.data)):n.texImage2D(e.TEXTURE_2D,0,v,f.width,f.height,0,m,g,f.data)}else if(i.isCompressedTexture){if(i.isCompressedArrayTexture){M&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,v,y[0].width,y[0].height,f.depth);for(let r=0,a=y.length;r<a;r++)t=y[r],1023!==i.format?null!==m?M?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,r,0,0,0,t.width,t.height,f.depth,m,t.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,r,v,t.width,t.height,f.depth,0,t.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage3D(e.TEXTURE_2D_ARRAY,r,0,0,0,t.width,t.height,f.depth,m,g,t.data):n.texImage3D(e.TEXTURE_2D_ARRAY,r,v,t.width,t.height,f.depth,0,m,g,t.data)}else{M&&T&&n.texStorage2D(e.TEXTURE_2D,C,v,y[0].width,y[0].height);for(let r=0,a=y.length;r<a;r++)t=y[r],1023!==i.format?null!==m?M?n.compressedTexSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,m,t.data):n.compressedTexImage2D(e.TEXTURE_2D,r,v,t.width,t.height,0,t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,m,g,t.data):n.texImage2D(e.TEXTURE_2D,r,v,t.width,t.height,0,m,g,t.data)}}else if(i.isDataArrayTexture)M?(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,v,f.width,f.height,f.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,m,g,f.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,v,f.width,f.height,f.depth,0,m,g,f.data);else if(i.isData3DTexture)M?(T&&n.texStorage3D(e.TEXTURE_3D,C,v,f.width,f.height,f.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,m,g,f.data)):n.texImage3D(e.TEXTURE_3D,0,v,f.width,f.height,f.depth,0,m,g,f.data);else if(i.isFramebufferTexture){if(T){if(M)n.texStorage2D(e.TEXTURE_2D,C,v,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,v,t,r,0,m,g,null),t>>=1,r>>=1}}}else if(y.length>0&&p){M&&T&&n.texStorage2D(e.TEXTURE_2D,C,v,y[0].width,y[0].height);for(let r=0,i=y.length;r<i;r++)t=y[r],M?n.texSubImage2D(e.TEXTURE_2D,r,0,0,m,g,t):n.texImage2D(e.TEXTURE_2D,r,v,m,g,t);i.generateMipmaps=!1}else M?(T&&n.texStorage2D(e.TEXTURE_2D,C,v,f.width,f.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,g,f)):n.texImage2D(e.TEXTURE_2D,0,v,m,g,f);x(i,p)&&S(s),h.__version=c.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function U(t,i,o,s,l){let u=a.convert(o.format,o.colorSpace),c=a.convert(o.type),d=w(o.internalFormat,u,c,o.colorSpace),h=r.get(i);h.__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,d,i.width,i.height,0,u,c,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),B(i)?f.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,j(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function z(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let i=e.DEPTH_COMPONENT16;if(r||B(n)){let t=n.depthTexture;t&&t.isDepthTexture&&(1015===t.type?i=e.DEPTH_COMPONENT32F:1014===t.type&&(i=e.DEPTH_COMPONENT24));let r=j(n);B(n)?f.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,r,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){let i=j(n);r&&!1===B(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):B(n)?f.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{let t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){let o=t[i],s=a.convert(o.format,o.colorSpace),l=a.convert(o.type),u=w(o.internalFormat,s,l,o.colorSpace),c=j(n);r&&!1===B(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,u,n.width,n.height):B(n)?f.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function F(t){let i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw Error("target.depthTexture not supported in Cube render targets");!function(t,i){let a=i&&i.isWebGLCubeRenderTarget;if(a)throw Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!(i.depthTexture&&i.depthTexture.isDepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),R(i.depthTexture,0);let o=r.get(i.depthTexture).__webglTexture,s=j(i);if(1026===i.depthTexture.format)B(i)?f.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else if(1027===i.depthTexture.format)B(i)?f.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0);else throw Error("Unknown depthTexture format")}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),z(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function j(e){return Math.min(h,e.samples)}function B(e){let n=r.get(e);return l&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){let r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||1035===e.format||r!==uN&&""!==r&&(r===uL?!1===l?!0===t.has("EXT_sRGB")&&1023===i?(e.format=1035,e.minFilter=1006,e.generateMipmaps=!1):n=u8.sRGBToLinear(n):(1023!==i||1009!==a)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){let e=A;return e>=u&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+u),A+=1,e},this.resetTextureUnits=function(){A=0},this.setTexture2D=R,this.setTexture2DArray=function(t,i){let a=r.get(t);if(t.version>0&&a.__version!==t.version){D(a,t,i);return}n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){let a=r.get(t);if(t.version>0&&a.__version!==t.version){D(a,t,i);return}n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){let o=r.get(t);if(t.version>0&&o.__version!==t.version){(function(t,i,o){if(6!==i.image.length)return;let s=I(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);let d=r.get(u);if(u.version!==d.__version||!0===s){let t;n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);let r=i.isCompressedTexture||i.image[0].isCompressedTexture,h=i.image[0]&&i.image[0].isDataTexture,f=[];for(let e=0;e<6;e++)r||h?f[e]=h?i.image[e].image:i.image[e]:f[e]=b(i.image[e],!1,!0,c),f[e]=V(i,f[e]);let p=f[0],m=_(p)||l,g=a.convert(i.format,i.colorSpace),v=a.convert(i.type),y=w(i.internalFormat,g,v,i.colorSpace),M=l&&!0!==i.isVideoTexture,T=void 0===d.__version||!0===s,C=E(i,p,m);if(N(e.TEXTURE_CUBE_MAP,i,m),r){M&&T&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,y,p.width,p.height);for(let r=0;r<6;r++){t=f[r].mipmaps;for(let a=0;a<t.length;a++){let o=t[a];1023!==i.format?null!==g?M?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,a,0,0,o.width,o.height,g,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,a,y,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,a,0,0,o.width,o.height,g,v,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,a,y,o.width,o.height,0,g,v,o.data)}}}else{t=i.mipmaps,M&&T&&(t.length>0&&C++,n.texStorage2D(e.TEXTURE_CUBE_MAP,C,y,f[0].width,f[0].height));for(let r=0;r<6;r++)if(h){M?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,0,0,f[r].width,f[r].height,g,v,f[r].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,y,f[r].width,f[r].height,0,g,v,f[r].data);for(let i=0;i<t.length;i++){let a=t[i],o=a.image[r].image;M?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,0,0,o.width,o.height,g,v,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,y,o.width,o.height,0,g,v,o.data)}}else{M?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,0,0,g,v,f[r]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,y,g,v,f[r]);for(let i=0;i<t.length;i++){let a=t[i];M?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,0,0,g,v,a.image[r]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,y,g,v,a.image[r])}}}x(i,m)&&S(e.TEXTURE_CUBE_MAP),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version})(o,t,i);return}n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){let a=r.get(t);void 0!==n&&U(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&F(t)},this.setupRenderTarget=function(t){let s=t.texture,u=r.get(t),c=r.get(s);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=s.version,o.memory.textures++);let d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=_(t)||l;if(d){u.__webglFramebuffer=[];for(let t=0;t<6;t++)u.__webglFramebuffer[t]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),h){if(i.drawBuffers){let n=t.texture;for(let t=0,i=n.length;t<i;t++){let i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.")}if(l&&t.samples>0&&!1===B(t)){let r=h?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){let i=r[n];u.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);let o=a.convert(i.format,i.colorSpace),s=a.convert(i.type),l=w(i.internalFormat,o,s,i.colorSpace,!0===t.isXRRenderTarget),c=j(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,u.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),z(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(d){n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),N(e.TEXTURE_CUBE_MAP,s,f);for(let n=0;n<6;n++)U(u.__webglFramebuffer[n],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n);x(s,f)&&S(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){let i=t.texture;for(let a=0,o=i.length;a<o;a++){let o=i[a],s=r.get(o);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),N(e.TEXTURE_2D,o,f),U(u.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0+a,e.TEXTURE_2D),x(o,f)&&S(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l?r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(r,c.__webglTexture),N(r,s,f),U(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,r),x(s,f)&&S(r),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(t){let i=_(t)||l,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let o=0,s=a.length;o<s;o++){let s=a[o];if(x(s,i)){let i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(s).__webglTexture;n.bindTexture(i,a),S(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(l&&t.samples>0&&!1===B(t)){let i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=[],u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(u);let h=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[u]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[u])),d){let t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),p&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);let a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=U,this.useMultisampledRTT=B}function pl(e,t,n){let r=n.isWebGL2;return{convert:function(n,i=""){let a;if(1009===n)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(1012===n)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(1014===n)return e.UNSIGNED_INT;if(1015===n)return e.FLOAT;if(1016===n)return r?e.HALF_FLOAT:null!==(a=t.get("OES_texture_half_float"))?a.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(1023===n)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(1026===n)return e.DEPTH_COMPONENT;if(1027===n)return e.DEPTH_STENCIL;if(1035===n)return null!==(a=t.get("EXT_sRGB"))?a.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(33776===n||33777===n||33778===n||33779===n){if(i===uL){if(null===(a=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(33776===n)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(a=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===n)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===n)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(35840===n||35841===n||35842===n||35843===n){if(null===(a=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(a=t.get("WEBGL_compressed_texture_etc1"))?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(a=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return i===uL?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(a=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return i===uL?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===n){if(null===(a=t.get("EXT_texture_compression_bptc")))return null;if(36492===n)return i===uL?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(a=t.get("EXT_texture_compression_rgtc")))return null;if(36492===n)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===n?r?e.UNSIGNED_INT_24_8:null!==(a=t.get("WEBGL_depth_texture"))?a.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}class pu extends d9{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class pc extends c9{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pd={type:"move"};class ph{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new pc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new pc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new cs,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new cs),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new pc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new cs,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new cs),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){for(let r of(a=!0,e.hand.values())){let e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=null!==e}let r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position);l.inputState.pinching&&o>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(pd)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new pc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class pf extends cn{constructor(e,t,n,r,i,a,o,s,l,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1014),void 0===n&&1027===u&&(n=1020),super(null,r,i,a,o,s,u,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class pp extends uU{constructor(e,t){super();let n=this,r=null,i=1,a=null,o="local-floor",s=1,l=null,u=null,c=null,d=null,h=null,f=null,p=t.getContextAttributes(),m=null,g=null,v=[],y=[],b=null,_=new d9;_.layers.enable(1),_.viewport=new cr;let x=new d9;x.layers.enable(2),x.viewport=new cr;let S=[_,x],w=new pu;w.layers.enable(1),w.layers.enable(2);let E=null,M=null;function T(e){let t=y.indexOf(e.inputSource);if(-1===t)return;let n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function C(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",C),r.removeEventListener("inputsourceschange",P);for(let e=0;e<v.length;e++){let t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}E=null,M=null,e.setRenderTarget(m),h=null,d=null,c=null,r=null,g=null,L.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){let n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){let n=e.added[t],r=y.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}let i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(e){b=e},this.getController=function(e){let t=v[e];return void 0===t&&(t=new ph,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new ph,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new ph,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return c},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(u){if(null!==(r=u)){if(m=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",C),r.addEventListener("inputsourceschange",P),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){let n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),g=new ci(h.framebufferWidth,h.framebufferHeight,{format:1023,type:1009,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}else{let n=null,a=null,o=null;p.depth&&(o=p.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=p.stencil?1027:1026,a=p.stencil?1020:1014);let s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};d=(c=new XRWebGLBinding(r,t)).createProjectionLayer(s),r.updateRenderState({layers:[d]}),g=new ci(d.textureWidth,d.textureHeight,{format:1023,type:1009,depthTexture:new pf(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0});let l=e.properties.get(g);l.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),L.setContext(r),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};let A=new cs,R=new cs;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCameraXR=function(e){if(null===r)return e;b&&(e=b),w.near=x.near=_.near=e.near,w.far=x.far=_.far=e.far,(E!==w.near||M!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),E=w.near,M=w.far);let t=e.parent,n=w.cameras;O(w,t);for(let e=0;e<n.length;e++)O(n[e],t);return 2===n.length?function(e,t,n){A.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);let r=A.distanceTo(R),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=r/(-c+d),f=-(h*c);t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();let p=o+h,m=s+h,g=o*c-f,v=o*d+(r-f),y=l*s/m*p,b=u*s/m*p;e.projectionMatrix.makePerspective(g,v,y,b,p,m),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(w,_,x):w.projectionMatrix.copy(_.projectionMatrix),b&&function(e,t){let n=b;null===t?n.matrix.copy(e.matrixWorld):(n.matrix.copy(t.matrixWorld),n.matrix.invert(),n.matrix.multiply(e.matrixWorld)),n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0);let r=n.children;for(let e=0,t=r.length;e<t;e++)r[e].updateMatrixWorld(!0);n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse),n.isPerspectiveCamera&&(n.fov=2*uj*Math.atan(1/n.projectionMatrix.elements[5]),n.zoom=1)}(w,t),w},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let k=null,L=new hu;L.setAnimationLoop(function(t,r){if(u=r.getViewerPose(l||a),f=r,null!==u){let t=u.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==w.cameras.length&&(w.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){let i=t[r],a=null;if(null!==h)a=h.getViewport(i);else{let t=c.getViewSubImage(d,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let o=S[r];void 0===o&&((o=new d9).layers.enable(r),o.viewport=new cr,S[r]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(w.matrix.copy(o.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),!0===n&&w.cameras.push(o)}}for(let e=0;e<v.length;e++){let t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}k&&k(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),f=null}),this.setAnimationLoop=function(e){k=e},this.dispose=function(){}}}function pm(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,1===i.side&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),1===i.side&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);let a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;let t=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,d5(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial?r(e,i):i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),i.gradientMap&&(e.gradientMap.value=i.gradientMap)):i.isMeshPhongMaterial?(r(e,i),e.specular.value.copy(i.specular),e.shininess.value=Math.max(i.shininess,1e-4)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform)),e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));let i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&(e.ior.value=i.ior,i.sheen>0&&(e.sheenColor.value.copy(i.sheenColor).multiplyScalar(i.sheen),e.sheenRoughness.value=i.sheenRoughness,i.sheenColorMap&&(e.sheenColorMap.value=i.sheenColorMap,n(i.sheenColorMap,e.sheenColorMapTransform)),i.sheenRoughnessMap&&(e.sheenRoughnessMap.value=i.sheenRoughnessMap,n(i.sheenRoughnessMap,e.sheenRoughnessMapTransform))),i.clearcoat>0&&(e.clearcoat.value=i.clearcoat,e.clearcoatRoughness.value=i.clearcoatRoughness,i.clearcoatMap&&(e.clearcoatMap.value=i.clearcoatMap,n(i.clearcoatMap,e.clearcoatMapTransform)),i.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=i.clearcoatRoughnessMap,n(i.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),i.clearcoatNormalMap&&(e.clearcoatNormalMap.value=i.clearcoatNormalMap,n(i.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(i.clearcoatNormalScale),1===i.side&&e.clearcoatNormalScale.value.negate())),i.iridescence>0&&(e.iridescence.value=i.iridescence,e.iridescenceIOR.value=i.iridescenceIOR,e.iridescenceThicknessMinimum.value=i.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=i.iridescenceThicknessRange[1],i.iridescenceMap&&(e.iridescenceMap.value=i.iridescenceMap,n(i.iridescenceMap,e.iridescenceMapTransform)),i.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=i.iridescenceThicknessMap,n(i.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),i.transmission>0&&(e.transmission.value=i.transmission,e.transmissionSamplerMap.value=s.texture,e.transmissionSamplerSize.value.set(s.width,s.height),i.transmissionMap&&(e.transmissionMap.value=i.transmissionMap,n(i.transmissionMap,e.transmissionMapTransform)),e.thickness.value=i.thickness,i.thicknessMap&&(e.thicknessMap.value=i.thicknessMap,n(i.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=i.attenuationDistance,e.attenuationColor.value.copy(i.attenuationColor)),i.anisotropy>0&&(e.anisotropyVector.value.set(i.anisotropy*Math.cos(i.anisotropyRotation),i.anisotropy*Math.sin(i.anisotropyRotation)),i.anisotropyMap&&(e.anisotropyMap.value=i.anisotropyMap,n(i.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=i.specularIntensity,e.specularColor.value.copy(i.specularColor),i.specularColorMap&&(e.specularColorMap.value=i.specularColorMap,n(i.specularColorMap,e.specularColorMapTransform)),i.specularIntensityMap&&(e.specularIntensityMap.value=i.specularIntensityMap,n(i.specularIntensityMap,e.specularIntensityMapTransform)))):i.isMeshMatcapMaterial?(r(e,i),i.matcap&&(e.matcap.value=i.matcap)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){let r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(e.diffuse.value.copy(i.color),e.opacity.value=i.opacity,i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.isLineDashedMaterial&&(e.dashSize.value=i.dashSize,e.totalSize.value=i.dashSize+i.gapSize,e.scale.value=i.scale)):i.isPointsMaterial?(e.diffuse.value.copy(i.color),e.opacity.value=i.opacity,e.size.value=i.size*a,e.scale.value=.5*o,i.map&&(e.map.value=i.map,n(i.map,e.uvTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest)):i.isSpriteMaterial?(e.diffuse.value.copy(i.color),e.opacity.value=i.opacity,e.rotation.value=i.rotation,i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest)):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function pg(e,t,n,r){let i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e){let t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){let n=t.target;n.removeEventListener("dispose",u);let r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){let n=t.program;r.uniformBlockBinding(e,n)},update:function(n,c){let d=i[n.id];void 0===d&&(function(e){let t=e.uniforms,n=0,r=0;for(let e=0,i=t.length;e<i;e++){let i=t[e],a={boundary:0,storage:0},o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){let t=o[e],n=l(t);a.boundary+=n.boundary,a.storage+=n.storage}if(i.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,e>0){r=n%16;let e=16-r;0!==r&&e-a.boundary<0&&(n+=16-r,i.__offset=n)}n+=a.storage}(r=n%16)>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),d=function(t){let n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;let r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));let h=c.program;r.updateUBOMapping(n,h);let f=t.render.frame;a[n.id]!==f&&(function(t){let n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){let n=r[t];if(!0===function(e,t,n){let r=e.value;if(void 0===n[t]){if("number"==typeof r)n[t]=r;else{let e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else{let e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){let n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}(n,t,a)){let t=n.__offset,r=Array.isArray(n.value)?n.value:[n.value],i=0;for(let a=0;a<r.length;a++){let o=r[a],s=l(o);"number"==typeof o?(n.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+i,n.__data)):o.isMatrix3?(n.__data[0]=o.elements[0],n.__data[1]=o.elements[1],n.__data[2]=o.elements[2],n.__data[3]=o.elements[0],n.__data[4]=o.elements[3],n.__data[5]=o.elements[4],n.__data[6]=o.elements[5],n.__data[7]=o.elements[0],n.__data[8]=o.elements[6],n.__data[9]=o.elements[7],n.__data[10]=o.elements[8],n.__data[11]=o.elements[0]):(o.toArray(n.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,n.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=f)},dispose:function(){for(let t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}class pv{constructor(e={}){let t,n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M;let{canvas:T=function(){let e=uZ("canvas");return e.style.display="block",e}(),context:C=null,depth:P=!0,stencil:A=!0,alpha:R=!1,antialias:O=!1,premultipliedAlpha:k=!0,preserveDrawingBuffer:L=!1,powerPreference:N="default",failIfMajorPerformanceCaveat:I=!1}=e;this.isWebGLRenderer=!0,t=null!==C?C.getContextAttributes().alpha:R;let D=new Uint32Array(4),U=new Int32Array(4),z=null,F=null,j=[],B=[];this.domElement=T,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=uL,this.useLegacyLights=!0,this.toneMapping=0,this.toneMappingExposure=1;let V=this,G=!1,H=0,W=0,X=null,$=-1,q=null,Y=new cr,K=new cr,Z=null,Q=new dy(0),J=0,ee=T.width,et=T.height,en=1,er=null,ei=null,ea=new cr(0,0,ee,et),eo=new cr(0,0,ee,et),es=!1,el=new hl,eu=!1,ec=!1,ed=null,eh=new cU,ef=new u$,ep=new cs,em={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function eg(){return null===X?en:1}let ev=C;function ey(e,t){for(let n=0;n<e.length;n++){let r=e[n],i=T.getContext(r,t);if(null!==i)return i}return null}try{if("setAttribute"in T&&T.setAttribute("data-engine","three.js r153"),T.addEventListener("webglcontextlost",ex,!1),T.addEventListener("webglcontextrestored",eS,!1),T.addEventListener("webglcontextcreationerror",ew,!1),null===ev){let e=["webgl2","webgl","experimental-webgl"];if(!0===V.isWebGL1Renderer&&e.shift(),ev=ey(e,{alpha:!0,depth:P,stencil:A,antialias:O,premultipliedAlpha:k,preserveDrawingBuffer:L,powerPreference:N,failIfMajorPerformanceCaveat:I}),null===ev){if(ey(e))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}}ev instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===ev.getShaderPrecisionFormat&&(ev.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function eb(){n=new hU(ev),r=new hb(ev,n,e),n.init(r),w=new pl(ev,n,r),i=new po(ev,n,r),a=new hj(ev),o=new f2,s=new ps(ev,n,i,o,r,w,a),l=new hx(V),u=new hD(V),c=new hc(ev,r),E=new hv(ev,n,c,r),d=new hz(ev,c,a,E),h=new hH(ev,d,c,a),_=new hG(ev,r,s),v=new h_(o),f=new f1(V,l,u,n,r,E,v),p=new pm(V,o),m=new f6,g=new pn(n,r),b=new hg(V,l,u,i,h,t,k),y=new pa(V,h,r),M=new pg(ev,a,r,i),x=new hy(ev,n,a,r),S=new hF(ev,n,a,r),a.programs=f.programs,V.capabilities=r,V.extensions=n,V.properties=o,V.renderLists=m,V.shadowMap=y,V.state=i,V.info=a}eb();let e_=new pp(V,ev);function ex(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),G=!0}function eS(){console.log("THREE.WebGLRenderer: Context Restored."),G=!1;let e=a.autoReset,t=y.enabled,n=y.autoUpdate,r=y.needsUpdate,i=y.type;eb(),a.autoReset=e,y.enabled=t,y.autoUpdate=n,y.needsUpdate=r,y.type=i}function ew(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function eE(e){let t=e.target;t.removeEventListener("dispose",eE),function(e){let t=o.get(e).programs;void 0!==t&&(t.forEach(function(e){f.releaseProgram(e)}),e.isShaderMaterial&&f.releaseShaderCache(e))}(t),o.remove(t)}this.xr=e_,this.getContext=function(){return ev},this.getContextAttributes=function(){return ev.getContextAttributes()},this.forceContextLoss=function(){let e=n.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){let e=n.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return en},this.setPixelRatio=function(e){void 0!==e&&(en=e,this.setSize(ee,et,!1))},this.getSize=function(e){return e.set(ee,et)},this.setSize=function(e,t,n=!0){if(e_.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=e,et=t,T.width=Math.floor(e*en),T.height=Math.floor(t*en),!0===n&&(T.style.width=e+"px",T.style.height=t+"px"),this.setViewport(0,0,e,t)},this.getDrawingBufferSize=function(e){return e.set(ee*en,et*en).floor()},this.setDrawingBufferSize=function(e,t,n){ee=e,et=t,en=n,T.width=Math.floor(e*n),T.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(Y)},this.getViewport=function(e){return e.copy(ea)},this.setViewport=function(e,t,n,r){e.isVector4?ea.set(e.x,e.y,e.z,e.w):ea.set(e,t,n,r),i.viewport(Y.copy(ea).multiplyScalar(en).floor())},this.getScissor=function(e){return e.copy(eo)},this.setScissor=function(e,t,n,r){e.isVector4?eo.set(e.x,e.y,e.z,e.w):eo.set(e,t,n,r),i.scissor(K.copy(eo).multiplyScalar(en).floor())},this.getScissorTest=function(){return es},this.setScissorTest=function(e){i.setScissorTest(es=e)},this.setOpaqueSort=function(e){er=e},this.setTransparentSort=function(e){ei=e},this.getClearColor=function(e){return e.copy(b.getClearColor())},this.setClearColor=function(){b.setClearColor.apply(b,arguments)},this.getClearAlpha=function(){return b.getClearAlpha()},this.setClearAlpha=function(){b.setClearAlpha.apply(b,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==X){let t=X.texture.format;e=1033===t||1031===t||1029===t}if(e){let e=X.texture.type,t=b.getClearColor(),n=b.getClearAlpha(),r=t.r,i=t.g,a=t.b,s=o.get(X).__webglFramebuffer;1009===e||1014===e||1012===e||1020===e||1017===e||1018===e?(D[0]=r,D[1]=i,D[2]=a,D[3]=n,ev.clearBufferuiv(ev.COLOR,s,D)):(U[0]=r,U[1]=i,U[2]=a,U[3]=n,ev.clearBufferiv(ev.COLOR,s,U))}else r|=ev.COLOR_BUFFER_BIT}t&&(r|=ev.DEPTH_BUFFER_BIT),n&&(r|=ev.STENCIL_BUFFER_BIT),ev.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){T.removeEventListener("webglcontextlost",ex,!1),T.removeEventListener("webglcontextrestored",eS,!1),T.removeEventListener("webglcontextcreationerror",ew,!1),m.dispose(),g.dispose(),o.dispose(),l.dispose(),u.dispose(),h.dispose(),E.dispose(),M.dispose(),f.dispose(),e_.dispose(),e_.removeEventListener("sessionstart",eT),e_.removeEventListener("sessionend",eC),ed&&(ed.dispose(),ed=null),eP.stop()},this.renderBufferDirect=function(e,t,n,a,h,f){let m;null===t&&(t=em);let g=h.isMesh&&0>h.matrixWorld.determinant(),y=function(e,t,n,a,c){var d;!0!==t.isScene&&(t=em),s.resetTextureUnits();let h=t.fog,f=a.isMeshStandardMaterial?t.environment:null,m=null===X?V.outputColorSpace:!0===X.isXRRenderTarget?X.texture.colorSpace:uN,g=(a.isMeshStandardMaterial?u:l).get(a.envMap||f),y=!0===a.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,b=!!n.attributes.tangent&&(!!a.normalMap||a.anisotropy>0),x=!!n.morphAttributes.position,S=!!n.morphAttributes.normal,w=!!n.morphAttributes.color,E=a.toneMapped?V.toneMapping:0,T=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,C=void 0!==T?T.length:0,P=o.get(a),A=F.state.lights;if(!0===eu&&(!0===ec||e!==q)){let t=e===q&&a.id===$;v.setState(a,e,t)}let R=!1;a.version===P.__version?P.needsLights&&P.lightsStateVersion!==A.state.version?R=!0:P.outputColorSpace!==m?R=!0:c.isInstancedMesh&&!1===P.instancing?R=!0:c.isInstancedMesh||!0!==P.instancing?c.isSkinnedMesh&&!1===P.skinning?R=!0:c.isSkinnedMesh||!0!==P.skinning?P.envMap!==g?R=!0:!0===a.fog&&P.fog!==h?R=!0:void 0!==P.numClippingPlanes&&(P.numClippingPlanes!==v.numPlanes||P.numIntersection!==v.numIntersection)?R=!0:P.vertexAlphas!==y?R=!0:P.vertexTangents!==b?R=!0:P.morphTargets!==x?R=!0:P.morphNormals!==S?R=!0:P.morphColors!==w?R=!0:P.toneMapping!==E?R=!0:!0===r.isWebGL2&&P.morphTargetsCount!==C&&(R=!0):R=!0:R=!0:(R=!0,P.__version=a.version);let O=P.currentProgram;!0===R&&(O=ek(a,t,c));let k=!1,L=!1,N=!1,I=O.getUniforms(),D=P.uniforms;if(i.useProgram(O.program)&&(k=!0,L=!0,N=!0),a.id!==$&&($=a.id,L=!0),k||q!==e){if(I.setValue(ev,"projectionMatrix",e.projectionMatrix),r.logarithmicDepthBuffer&&I.setValue(ev,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),q!==e&&(q=e,L=!0,N=!0),a.isShaderMaterial||a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshStandardMaterial||a.envMap){let t=I.map.cameraPosition;void 0!==t&&t.setValue(ev,ep.setFromMatrixPosition(e.matrixWorld))}(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial)&&I.setValue(ev,"isOrthographic",!0===e.isOrthographicCamera),(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial||a.isShadowMaterial||c.isSkinnedMesh)&&I.setValue(ev,"viewMatrix",e.matrixWorldInverse)}if(c.isSkinnedMesh){I.setOptional(ev,c,"bindMatrix"),I.setOptional(ev,c,"bindMatrixInverse");let e=c.skeleton;e&&(r.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),I.setValue(ev,"boneTexture",e.boneTexture,s),I.setValue(ev,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let U=n.morphAttributes;if((void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===r.isWebGL2)&&_.update(c,n,O),(L||P.receiveShadow!==c.receiveShadow)&&(P.receiveShadow=c.receiveShadow,I.setValue(ev,"receiveShadow",c.receiveShadow)),a.isMeshGouraudMaterial&&null!==a.envMap&&(D.envMap.value=g,D.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1),L&&(I.setValue(ev,"toneMappingExposure",V.toneMappingExposure),P.needsLights&&(d=N,D.ambientLightColor.needsUpdate=d,D.lightProbe.needsUpdate=d,D.directionalLights.needsUpdate=d,D.directionalLightShadows.needsUpdate=d,D.pointLights.needsUpdate=d,D.pointLightShadows.needsUpdate=d,D.spotLights.needsUpdate=d,D.spotLightShadows.needsUpdate=d,D.rectAreaLights.needsUpdate=d,D.hemisphereLights.needsUpdate=d),h&&!0===a.fog&&p.refreshFogUniforms(D,h),p.refreshMaterialUniforms(D,a,en,et,ed),fU.upload(ev,P.uniformsList,D,s)),a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(fU.upload(ev,P.uniformsList,D,s),a.uniformsNeedUpdate=!1),a.isSpriteMaterial&&I.setValue(ev,"center",c.center),I.setValue(ev,"modelViewMatrix",c.modelViewMatrix),I.setValue(ev,"normalMatrix",c.normalMatrix),I.setValue(ev,"modelMatrix",c.matrixWorld),a.isShaderMaterial||a.isRawShaderMaterial){let e=a.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(r.isWebGL2){let n=e[t];M.update(n,O),M.bind(n,O)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return O}(e,t,n,a,h);i.setMaterial(a,g);let b=n.index,w=1;!0===a.wireframe&&(b=d.getWireframeAttribute(n),w=2);let T=n.drawRange,C=n.attributes.position,P=T.start*w,A=(T.start+T.count)*w;null!==f&&(P=Math.max(P,f.start*w),A=Math.min(A,(f.start+f.count)*w)),null!==b?(P=Math.max(P,0),A=Math.min(A,b.count)):null!=C&&(P=Math.max(P,0),A=Math.min(A,C.count));let R=A-P;if(R<0||R===1/0)return;E.setup(h,a,y,n,b);let O=x;if(null!==b&&(m=c.get(b),(O=S).setIndex(m)),h.isMesh)!0===a.wireframe?(i.setLineWidth(a.wireframeLinewidth*eg()),O.setMode(ev.LINES)):O.setMode(ev.TRIANGLES);else if(h.isLine){let e=a.linewidth;void 0===e&&(e=1),i.setLineWidth(e*eg()),h.isLineSegments?O.setMode(ev.LINES):h.isLineLoop?O.setMode(ev.LINE_LOOP):O.setMode(ev.LINE_STRIP)}else h.isPoints?O.setMode(ev.POINTS):h.isSprite&&O.setMode(ev.TRIANGLES);if(h.isInstancedMesh)O.renderInstances(P,R,h.count);else if(n.isInstancedBufferGeometry){let e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);O.renderInstances(P,R,t)}else O.render(P,R)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,ek(e,t,n),e.side=0,e.needsUpdate=!0,ek(e,t,n),e.side=2):ek(e,t,n)}(F=g.get(e)).init(),B.push(F),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(F.pushLight(e),e.castShadow&&F.pushShadow(e))}),F.setupLights(V.useLegacyLights),e.traverse(function(t){let r=t.material;if(r){if(Array.isArray(r))for(let i=0;i<r.length;i++){let a=r[i];n(a,e,t)}else n(r,e,t)}}),B.pop(),F=null};let eM=null;function eT(){eP.stop()}function eC(){eP.start()}let eP=new hu;function eA(e,t,a,o){let l=e.opaque,u=e.transmissive,c=e.transparent;F.setupLightsView(a),!0===eu&&v.setGlobalState(V.clippingPlanes,a),u.length>0&&function(e,t,i,a){let o=r.isWebGL2;null===ed&&(ed=new ci(1,1,{generateMipmaps:!0,type:n.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:o&&!0===O?4:0})),V.getDrawingBufferSize(ef),o?ed.setSize(ef.x,ef.y):ed.setSize(uH(ef.x),uH(ef.y));let l=V.getRenderTarget();V.setRenderTarget(ed),V.getClearColor(Q),(J=V.getClearAlpha())<1&&V.setClearColor(16777215,.5),V.clear();let u=V.toneMapping;V.toneMapping=0,eR(e,i,a),s.updateMultisampleRenderTarget(ed),s.updateRenderTargetMipmap(ed);let c=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e],r=n.object,o=n.geometry,s=n.material,l=n.group;if(2===s.side&&r.layers.test(a.layers)){let e=s.side;s.side=1,s.needsUpdate=!0,eO(r,i,a,o,s,l),s.side=e,s.needsUpdate=!0,c=!0}}!0===c&&(s.updateMultisampleRenderTarget(ed),s.updateRenderTargetMipmap(ed)),V.setRenderTarget(l),V.setClearColor(Q,J),V.toneMapping=u}(l,u,t,a),o&&i.viewport(Y.copy(o)),l.length>0&&eR(l,t,a),u.length>0&&eR(u,t,a),c.length>0&&eR(c,t,a),i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),i.setPolygonOffset(!1)}function eR(e,t,n){let r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){let a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,u=a.group;o.layers.test(n.layers)&&eO(o,t,n,s,l,u)}}function eO(e,t,n,r,i,a){e.onBeforeRender(V,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(V,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,V.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,V.renderBufferDirect(n,t,r,i,e,a),i.side=2):V.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(V,t,n,r,i,a)}function ek(e,t,n){!0!==t.isScene&&(t=em);let r=o.get(e),i=F.state.lights,a=F.state.shadowsArray,s=i.state.version,c=f.getParameters(e,i.state,a,t,n),d=f.getProgramCacheKey(c),h=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?u:l).get(e.envMap||r.environment),void 0===h&&(e.addEventListener("dispose",eE),h=new Map,r.programs=h);let p=h.get(d);if(void 0!==p){if(r.currentProgram===p&&r.lightsStateVersion===s)return eL(e,c),p}else c.uniforms=f.getUniforms(e),e.onBuild(n,c,V),e.onBeforeCompile(c,V),p=f.acquireProgram(c,d),h.set(d,p),r.uniforms=c.uniforms;let m=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(m.clippingPlanes=v.uniform),eL(e,c),r.needsLights=e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights,r.lightsStateVersion=s,r.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.directionalLightShadows.value=i.state.directionalShadow,m.spotLights.value=i.state.spot,m.spotLightShadows.value=i.state.spotShadow,m.rectAreaLights.value=i.state.rectArea,m.ltc_1.value=i.state.rectAreaLTC1,m.ltc_2.value=i.state.rectAreaLTC2,m.pointLights.value=i.state.point,m.pointLightShadows.value=i.state.pointShadow,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotLightMatrix.value=i.state.spotLightMatrix,m.spotLightMap.value=i.state.spotLightMap,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);let g=p.getUniforms(),y=fU.seqWithValue(g.seq,m);return r.currentProgram=p,r.uniformsList=y,p}function eL(e,t){let n=o.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}eP.setAnimationLoop(function(e){eM&&eM(e)}),"undefined"!=typeof self&&eP.setContext(self),this.setAnimationLoop=function(e){eM=e,e_.setAnimationLoop(e),null===e?eP.stop():eP.start()},e_.addEventListener("sessionstart",eT),e_.addEventListener("sessionend",eC),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!0===G)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===e_.enabled&&!0===e_.isPresenting&&(t=e_.updateCameraXR(t)),!0===e.isScene&&e.onBeforeRender(V,e,t,X),(F=g.get(e,B.length)).init(),B.push(F),eh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),el.setFromProjectionMatrix(eh),ec=this.localClippingEnabled,eu=v.init(this.clippingPlanes,ec),(z=m.get(e,j.length)).init(),j.push(z),function e(t,n,r,i){if(!1===t.visible)return;let o=t.layers.test(n.layers);if(o){if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)F.pushLight(t),t.castShadow&&F.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||el.intersectsSprite(t)){i&&ep.setFromMatrixPosition(t.matrixWorld).applyMatrix4(eh);let e=h.update(t),n=t.material;n.visible&&z.push(t,e,n,r,ep.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||el.intersectsObject(t))){t.isSkinnedMesh&&t.skeleton.frame!==a.render.frame&&(t.skeleton.update(),t.skeleton.frame=a.render.frame);let e=h.update(t),n=t.material;if(i&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),ep.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),ep.copy(e.boundingSphere.center)),ep.applyMatrix4(t.matrixWorld).applyMatrix4(eh)),Array.isArray(n)){let i=e.groups;for(let a=0,o=i.length;a<o;a++){let o=i[a],s=n[o.materialIndex];s&&s.visible&&z.push(t,e,s,r,ep.z,o)}}else n.visible&&z.push(t,e,n,r,ep.z,null)}}let s=t.children;for(let t=0,a=s.length;t<a;t++)e(s[t],n,r,i)}(e,t,0,V.sortObjects),z.finish(),!0===V.sortObjects&&z.sort(er,ei),!0===eu&&v.beginShadows();let n=F.state.shadowsArray;if(y.render(n,e,t),!0===eu&&v.endShadows(),!0===this.info.autoReset&&this.info.reset(),this.info.render.frame++,b.render(z,e),F.setupLights(V.useLegacyLights),t.isArrayCamera){let n=t.cameras;for(let t=0,r=n.length;t<r;t++){let r=n[t];eA(z,e,r,r.viewport)}}else eA(z,e,t);null!==X&&(s.updateMultisampleRenderTarget(X),s.updateRenderTargetMipmap(X)),!0===e.isScene&&e.onAfterRender(V,e,t),E.resetDefaultState(),$=-1,q=null,B.pop(),F=B.length>0?B[B.length-1]:null,j.pop(),z=j.length>0?j[j.length-1]:null},this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return X},this.setRenderTargetTextures=function(e,t,r){o.get(e.texture).__webglTexture=t,o.get(e.depthTexture).__webglTexture=r;let i=o.get(e);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===r,i.__autoAllocateDepthBuffer||!0!==n.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){let n=o.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){X=e,H=t,W=n;let a=!0,l=null,u=!1,c=!1;if(e){let n=o.get(e);void 0!==n.__useDefaultFramebuffer?(i.bindFramebuffer(ev.FRAMEBUFFER,null),a=!1):void 0===n.__webglFramebuffer?s.setupRenderTarget(e):n.__hasExternalTextures&&s.rebindTextures(e,o.get(e.texture).__webglTexture,o.get(e.depthTexture).__webglTexture);let d=e.texture;(d.isData3DTexture||d.isDataArrayTexture||d.isCompressedArrayTexture)&&(c=!0);let h=o.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(l=h[t],u=!0):l=r.isWebGL2&&e.samples>0&&!1===s.useMultisampledRTT(e)?o.get(e).__webglMultisampledFramebuffer:h,Y.copy(e.viewport),K.copy(e.scissor),Z=e.scissorTest}else Y.copy(ea).multiplyScalar(en).floor(),K.copy(eo).multiplyScalar(en).floor(),Z=es;let d=i.bindFramebuffer(ev.FRAMEBUFFER,l);if(d&&r.drawBuffers&&a&&i.drawBuffers(e,l),i.viewport(Y),i.scissor(K),i.setScissorTest(Z),u){let r=o.get(e.texture);ev.framebufferTexture2D(ev.FRAMEBUFFER,ev.COLOR_ATTACHMENT0,ev.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(c){let r=o.get(e.texture),i=t||0;ev.framebufferTextureLayer(ev.FRAMEBUFFER,ev.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}$=-1},this.readRenderTargetPixels=function(e,t,a,s,l,u,c){if(!(e&&e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let d=o.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==c&&(d=d[c]),d){i.bindFramebuffer(ev.FRAMEBUFFER,d);try{let i=e.texture,o=i.format,c=i.type;if(1023!==o&&w.convert(o)!==ev.getParameter(ev.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let d=1016===c&&(n.has("EXT_color_buffer_half_float")||r.isWebGL2&&n.has("EXT_color_buffer_float"));if(1009!==c&&w.convert(c)!==ev.getParameter(ev.IMPLEMENTATION_COLOR_READ_TYPE)&&!(1015===c&&(r.isWebGL2||n.has("OES_texture_float")||n.has("WEBGL_color_buffer_float")))&&!d){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}t>=0&&t<=e.width-s&&a>=0&&a<=e.height-l&&ev.readPixels(t,a,s,l,w.convert(o),w.convert(c),u)}finally{let e=null!==X?o.get(X).__webglFramebuffer:null;i.bindFramebuffer(ev.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){let r=Math.pow(2,-n),a=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);s.setTexture2D(t,0),ev.copyTexSubImage2D(ev.TEXTURE_2D,n,0,0,e.x,e.y,a,o),i.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){let a=t.image.width,o=t.image.height,l=w.convert(n.format),u=w.convert(n.type);s.setTexture2D(n,0),ev.pixelStorei(ev.UNPACK_FLIP_Y_WEBGL,n.flipY),ev.pixelStorei(ev.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),ev.pixelStorei(ev.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?ev.texSubImage2D(ev.TEXTURE_2D,r,e.x,e.y,a,o,l,u,t.image.data):t.isCompressedTexture?ev.compressedTexSubImage2D(ev.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,l,t.mipmaps[0].data):ev.texSubImage2D(ev.TEXTURE_2D,r,e.x,e.y,l,u,t.image),0===r&&n.generateMipmaps&&ev.generateMipmap(ev.TEXTURE_2D),i.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,a=0){let o;if(V.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let l=e.max.x-e.min.x+1,u=e.max.y-e.min.y+1,c=e.max.z-e.min.z+1,d=w.convert(r.format),h=w.convert(r.type);if(r.isData3DTexture)s.setTexture3D(r,0),o=ev.TEXTURE_3D;else if(r.isDataArrayTexture)s.setTexture2DArray(r,0),o=ev.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ev.pixelStorei(ev.UNPACK_FLIP_Y_WEBGL,r.flipY),ev.pixelStorei(ev.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),ev.pixelStorei(ev.UNPACK_ALIGNMENT,r.unpackAlignment);let f=ev.getParameter(ev.UNPACK_ROW_LENGTH),p=ev.getParameter(ev.UNPACK_IMAGE_HEIGHT),m=ev.getParameter(ev.UNPACK_SKIP_PIXELS),g=ev.getParameter(ev.UNPACK_SKIP_ROWS),v=ev.getParameter(ev.UNPACK_SKIP_IMAGES),y=n.isCompressedTexture?n.mipmaps[0]:n.image;ev.pixelStorei(ev.UNPACK_ROW_LENGTH,y.width),ev.pixelStorei(ev.UNPACK_IMAGE_HEIGHT,y.height),ev.pixelStorei(ev.UNPACK_SKIP_PIXELS,e.min.x),ev.pixelStorei(ev.UNPACK_SKIP_ROWS,e.min.y),ev.pixelStorei(ev.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?ev.texSubImage3D(o,a,t.x,t.y,t.z,l,u,c,d,h,y.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ev.compressedTexSubImage3D(o,a,t.x,t.y,t.z,l,u,c,d,y.data)):ev.texSubImage3D(o,a,t.x,t.y,t.z,l,u,c,d,h,y),ev.pixelStorei(ev.UNPACK_ROW_LENGTH,f),ev.pixelStorei(ev.UNPACK_IMAGE_HEIGHT,p),ev.pixelStorei(ev.UNPACK_SKIP_PIXELS,m),ev.pixelStorei(ev.UNPACK_SKIP_ROWS,g),ev.pixelStorei(ev.UNPACK_SKIP_IMAGES,v),0===a&&r.generateMipmaps&&ev.generateMipmap(o),i.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?s.setTextureCube(e,0):e.isData3DTexture?s.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?s.setTexture2DArray(e,0):s.setTexture2D(e,0),i.unbindTexture()},this.resetState=function(){H=0,W=0,X=null,i.reset(),E.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2e3}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===uL?3001:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=3001===e?uL:uN}}(class extends pv{}).prototype.isWebGL1Renderer=!0;class py extends c9{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class pb extends df{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dy(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const p_=new cs,px=new cs,pS=new cU,pw=new cD,pE=new cP;class pM extends c9{constructor(e=new dI,t=new pb){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)p_.fromBufferAttribute(t,e-1),px.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=p_.distanceTo(px);e.setAttribute("lineDistance",new dC(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pE.copy(n.boundingSphere),pE.applyMatrix4(r),pE.radius+=i,!1===e.ray.intersectsSphere(pE))return;pS.copy(r).invert(),pw.copy(e.ray).applyMatrix4(pS);let o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new cs,u=new cs,c=new cs,d=new cs,h=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){let n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=h){let n=f.getX(i),r=f.getX(i+1);l.fromBufferAttribute(m,n),u.fromBufferAttribute(m,r);let a=pw.distanceSqToSegment(l,u,d,c);if(a>s)continue;d.applyMatrix4(this.matrixWorld);let o=e.ray.origin.distanceTo(d);o<e.near||o>e.far||t.push({distance:o,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{let n=Math.max(0,a.start),r=Math.min(m.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=h){l.fromBufferAttribute(m,i),u.fromBufferAttribute(m,i+1);let n=pw.distanceSqToSegment(l,u,d,c);if(n>s)continue;d.applyMatrix4(this.matrixWorld);let r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){let n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}const pT=new cs,pC=new cs;class pP extends pM{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)pT.fromBufferAttribute(t,e),pC.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+pT.distanceTo(pC);e.setAttribute("lineDistance",new dC(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pA extends df{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dy(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pR=new cU,pO=new cD,pk=new cP,pL=new cs;class pN extends c9{constructor(e=new dI,t=new pA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pk.copy(n.boundingSphere),pk.applyMatrix4(r),pk.radius+=i,!1===e.ray.intersectsSphere(pk))return;pR.copy(r).invert(),pO.copy(e.ray).applyMatrix4(pR);let o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes,c=u.position;if(null!==l){let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);for(let a=n;a<i;a++){let n=l.getX(a);pL.fromBufferAttribute(c,n),pI(pL,n,s,r,e,t,this)}}else{let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);for(let a=n;a<i;a++)pL.fromBufferAttribute(c,a),pI(pL,a,s,r,e,t,this)}}updateMorphTargets(){let e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){let e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){let n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}function pI(e,t,n,r,i,a,o){let s=pO.distanceSqToPoint(e);if(s<n){let n=new cs;pO.closestPointToPoint(e,n),n.applyMatrix4(r);let l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class pD{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)t.push(i+=(n=this.getPoint(a/e)).distanceTo(r)),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n;let r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];let o=0,s=a-1,l;for(;o<=s;)if((l=r[i=Math.floor(o+(s-o)/2)]-n)<0)o=i+1;else if(l>0)s=i-1;else{s=i;break}if(r[i=s]===n)return i/(a-1);let u=r[i],c=r[i+1],d=(i+(n-u)/(c-u))/(a-1);return d}getTangent(e,t){let n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);let i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new u$:new cs);return o.copy(a).sub(i).normalize(),o}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new cs,r=[],i=[],a=[],o=new cs,s=new cU;for(let t=0;t<=e;t++){let n=t/e;r[t]=this.getTangentAt(n,new cs)}i[0]=new cs,a[0]=new cs;let l=Number.MAX_VALUE,u=Math.abs(r[0].x),c=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(r[t-1],r[t]),o.length()>Number.EPSILON){o.normalize();let e=Math.acos(uV(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(uV(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class pU extends pD{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){let n=t||new u$,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);let o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function pz(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){let a=i*i;return e+t*i+n*a+r*(a*i)}}}const pF=new cs,pj=new pz,pB=new pz,pV=new pz;function pG(e,t,n,r,i){let a=(r-t)*.5,o=(i-n)*.5,s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function pH(e,t,n,r){return function(e,t){let n=1-e;return n*n*t}(e,t)+2*(1-e)*e*n+e*e*r}function pW(e,t,n,r,i){return function(e,t){let n=1-e;return n*n*n*t}(e,t)+function(e,t){let n=1-e;return 3*n*n*e*t}(e,n)+3*(1-e)*e*e*r+e*e*e*i}class pX extends pD{constructor(e=new u$,t=new u$,n=new u$,r=new u$){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new u$){let n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(pW(e,n.x,r.x,i.x,a.x),pW(e,n.y,r.y,i.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class p$ extends pD{constructor(e=new u$,t=new u$){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new u$){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new u$){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pq extends pD{constructor(e=new u$,t=new u$,n=new u$){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new u$){let n=this.v0,r=this.v1,i=this.v2;return t.set(pH(e,n.x,r.x,i.x),pH(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pY extends pD{constructor(e=new cs,t=new cs,n=new cs){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new cs){let n=this.v0,r=this.v1,i=this.v2;return t.set(pH(e,n.x,r.x,i.x),pH(e,n.y,r.y,i.y),pH(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pK extends pD{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new u$){let n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set(pG(a,o.x,s.x,l.x,u.x),pG(a,o.y,s.y,l.y,u.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new u$().fromArray(n))}return this}}var pZ=Object.freeze({__proto__:null,ArcCurve:class extends pU{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends pD{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new cs){let n,r;let i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?n=i[(s-1)%a]:(pF.subVectors(i[0],i[1]).add(i[0]),n=pF);let u=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?r=i[(s+2)%a]:(pF.subVectors(i[a-1],i[a-2]).add(i[a-1]),r=pF),"centripetal"===this.curveType||"chordal"===this.curveType){let e="chordal"===this.curveType?.5:.25,t=Math.pow(n.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(c),e),a=Math.pow(c.distanceToSquared(r),e);i<1e-4&&(i=1),t<1e-4&&(t=i),a<1e-4&&(a=i),pj.initNonuniformCatmullRom(n.x,u.x,c.x,r.x,t,i,a),pB.initNonuniformCatmullRom(n.y,u.y,c.y,r.y,t,i,a),pV.initNonuniformCatmullRom(n.z,u.z,c.z,r.z,t,i,a)}else"catmullrom"===this.curveType&&(pj.initCatmullRom(n.x,u.x,c.x,r.x,this.tension),pB.initCatmullRom(n.y,u.y,c.y,r.y,this.tension),pV.initCatmullRom(n.z,u.z,c.z,r.z,this.tension));return t.set(pj.calc(l),pB.calc(l),pV.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new cs().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:pX,CubicBezierCurve3:class extends pD{constructor(e=new cs,t=new cs,n=new cs,r=new cs){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new cs){let n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(pW(e,n.x,r.x,i.x,a.x),pW(e,n.y,r.y,i.y,a.y),pW(e,n.z,r.z,i.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:pU,LineCurve:p$,LineCurve3:class extends pD{constructor(e=new cs,t=new cs){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new cs){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new cs){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:pq,QuadraticBezierCurve3:pY,SplineCurve:pK});class pQ extends pD{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new p$(t,e))}getPoint(e,t){let n=e*this.getLength(),r=this.getCurveLengths(),i=0;for(;i<r.length;){if(r[i]>=n){let e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,r=this.curves.length;n<r;n++)e.push(t+=this.curves[n].getLength());return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t;let n=[];for(let r=0,i=this.curves;r<i.length;r++){let a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){let r=s[e];t&&t.equals(r)||(n.push(r),t=r)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(new pZ[n.type]().fromJSON(n))}return this}}class pJ extends pQ{constructor(e){super(),this.type="Path",this.currentPoint=new u$,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new p$(this.currentPoint.clone(),new u$(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){let i=new pq(this.currentPoint.clone(),new u$(e,t),new u$(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){let o=new pX(this.currentPoint.clone(),new u$(e,t),new u$(n,r),new u$(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new pK(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){let o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){let l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){let l=new pU(e,t,n,r,i,a,o,s);if(this.curves.length>0){let e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);let u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class p0 extends dI{constructor(e=[new u$(0,-.5),new u$(.5,0),new u$(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=uV(r,0,2*Math.PI);let i=[],a=[],o=[],s=[],l=[],u=1/t,c=new cs,d=new u$,h=new cs,f=new cs,p=new cs,m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,h.x=1*g,h.y=-m,h.z=0*g,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,h.x=1*g,h.y=-m,h.z=0*g,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let i=0;i<=t;i++){let h=n+i*u*r,f=Math.sin(h),p=Math.cos(h);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*f,c.y=e[n].y,c.z=e[n].x*p,a.push(c.x,c.y,c.z),d.x=i/t,d.y=n/(e.length-1),o.push(d.x,d.y);let r=s[3*n+0]*f,u=s[3*n+1],h=s[3*n+0]*p;l.push(r,u,h)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){let r=t+n*e.length,a=r+e.length,o=r+e.length+1,s=r+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new dC(a,3)),this.setAttribute("uv",new dC(o,2)),this.setAttribute("normal",new dC(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p0(e.points,e.segments,e.phiStart,e.phiLength)}}class p1 extends p0{constructor(e=1,t=1,n=4,r=8){let i=new pJ;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new p1(e.radius,e.length,e.capSegments,e.radialSegments)}}class p2 extends dI{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);let i=[],a=[],o=[],s=[],l=new cs,u=new u$;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let i=0,c=3;i<=t;i++,c+=3){let d=n+i/t*r;l.x=e*Math.cos(d),l.y=e*Math.sin(d),a.push(l.x,l.y,l.z),o.push(0,0,1),u.x=(a[c]/e+1)/2,u.y=(a[c+1]/e+1)/2,s.push(u.x,u.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new dC(a,3)),this.setAttribute("normal",new dC(o,3)),this.setAttribute("uv",new dC(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class p3 extends dI{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};let l=this;r=Math.floor(r),i=Math.floor(i);let u=[],c=[],d=[],h=[],f=0,p=[],m=n/2,g=0;function v(n){let i=f,a=new u$,p=new cs,v=0,y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;let _=f;for(let e=0;e<=r;e++){let t=e/r,n=t*s+o,i=Math.cos(n),l=Math.sin(n);p.x=y*l,p.y=m*b,p.z=y*i,c.push(p.x,p.y,p.z),d.push(0,b,0),a.x=.5*i+.5,a.y=.5*l*b+.5,h.push(a.x,a.y),f++}for(let e=0;e<r;e++){let t=i+e,r=_+e;!0===n?u.push(r,r+1,t):u.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}(function(){let a=new cs,v=new cs,y=0,b=(t-e)/n;for(let l=0;l<=i;l++){let u=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){let t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,c.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),u.push(f++)}p.push(u)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){let n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];u.push(n,r,a),u.push(r,i,a),y+=6}l.addGroup(g,y,0),g+=y})(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new dC(c,3)),this.setAttribute("normal",new dC(d,3)),this.setAttribute("uv",new dC(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p3(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class p5 extends p3{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new p5(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class p4 extends dI{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};let i=[],a=[];function o(e){i.push(e.x,e.y,e.z)}function s(t,n){let r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}(function(e){let n=new cs,r=new cs,i=new cs;for(let a=0;a<t.length;a+=3)s(t[a+0],n),s(t[a+1],r),s(t[a+2],i),function(e,t,n,r){let i=r+1,a=[];for(let r=0;r<=i;r++){a[r]=[];let o=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)0===e&&r===i?a[r][e]=o:a[r][e]=o.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){let n=Math.floor(t/2);t%2==0?(o(a[e][n+1]),o(a[e+1][n]),o(a[e][n])):(o(a[e][n+1]),o(a[e+1][n+1]),o(a[e+1][n]))}}(n,r,i,e)})(r),function(e){let t=new cs;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){let e=new cs;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];let n=u(e)/2/Math.PI+.5,r=Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5;a.push(n,1-r)}(function(){let e=new cs,t=new cs,n=new cs,r=new cs,o=new u$,s=new u$,c=new u$;for(let d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),c.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);let f=u(r);l(o,h+0,e,f),l(s,h+2,t,f),l(c,h+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){let t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new dC(i,3)),this.setAttribute("normal",new dC(i.slice(),3)),this.setAttribute("uv",new dC(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p4(e.vertices,e.indices,e.radius,e.details)}}class p6 extends p4{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];super(i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new p6(e.radius,e.detail)}}const p8=new cs,p9=new cs,p7=new cs,me=new dd;class mt extends dI{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){let n=Math.cos(uF*t),r=e.getIndex(),i=e.getAttribute("position"),a=r?r.count:i.count,o=[0,0,0],s=["a","b","c"],l=[,,,],u={},c=[];for(let e=0;e<a;e+=3){r?(o[0]=r.getX(e),o[1]=r.getX(e+1),o[2]=r.getX(e+2)):(o[0]=e,o[1]=e+1,o[2]=e+2);let{a:t,b:a,c:d}=me;if(t.fromBufferAttribute(i,o[0]),a.fromBufferAttribute(i,o[1]),d.fromBufferAttribute(i,o[2]),me.getNormal(p7),l[0]=`${Math.round(1e4*t.x)},${Math.round(1e4*t.y)},${Math.round(1e4*t.z)}`,l[1]=`${Math.round(1e4*a.x)},${Math.round(1e4*a.y)},${Math.round(1e4*a.z)}`,l[2]=`${Math.round(1e4*d.x)},${Math.round(1e4*d.y)},${Math.round(1e4*d.z)}`,l[0]!==l[1]&&l[1]!==l[2]&&l[2]!==l[0])for(let e=0;e<3;e++){let t=(e+1)%3,r=l[e],i=l[t],a=me[s[e]],d=me[s[t]],h=`${r}_${i}`,f=`${i}_${r}`;f in u&&u[f]?(p7.dot(u[f].normal)<=n&&(c.push(a.x,a.y,a.z),c.push(d.x,d.y,d.z)),u[f]=null):h in u||(u[h]={index0:o[e],index1:o[t],normal:p7.clone()})}}for(let e in u)if(u[e]){let{index0:t,index1:n}=u[e];p8.fromBufferAttribute(i,t),p9.fromBufferAttribute(i,n),c.push(p8.x,p8.y,p8.z),c.push(p9.x,p9.y,p9.z)}this.setAttribute("position",new dC(c,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class mn extends pJ{constructor(e){super(e),this.uuid=uB(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(new pJ().fromJSON(n))}return this}}const mr={triangulate:function(e,t,n=2){let r,i,a,o,s,l,u;let c=t&&t.length,d=c?t[0]*n:e.length,h=mi(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,n,r){let i,a,o,s,l;let u=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(l=mi(e,o,s,r,!1))===l.next&&(l.steiner=!0),u.push(function(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e)return n}(l));for(u.sort(mo),i=0;i<u.length;i++)n=function(e,t){let n=function(e,t){let n=t,r=-1/0,i,a=e.x,o=e.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){let e=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=a&&e>r&&(r=e,i=n.x<n.next.x?n:n.next,e===a))return i}n=n.next}while(n!==t)if(!i)return null;let s=i,l=i.x,u=i.y,c=1/0,d;n=i;do{var h,f;a>=n.x&&n.x>=l&&a!==n.x&&ml(o<u?a:r,o,l,u,o<u?r:a,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(a-n.x),mp(n,e)&&(d<c||d===c&&(n.x>i.x||n.x===i.x&&(h=i,f=n,0>mu(h.prev,h,f.prev)&&0>mu(f.next,h,h.next))))&&(i=n,c=d)),n=n.next}while(n!==s)return i}(e,t);if(!n)return t;let r=mm(n,e);return ma(r,r.next),ma(n,n.next)}(u[i],n);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(let t=n;t<d;t+=n)s=e[t],l=e[t+1],s<r&&(r=s),l<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?32767/u:0}return function e(t,n,r,i,a,o,s){if(!t)return;!s&&o&&function(e,t,n,r){let i=e;do 0===i.z&&(i.z=ms(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e)i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(t,i,a,o);let l=t,u,c;for(;t.prev!==t.next;){if(u=t.prev,c=t.next,o?function(e,t,n,r){let i=e.prev,a=e.next;if(mu(i,e,a)>=0)return!1;let o=i.x,s=e.x,l=a.x,u=i.y,c=e.y,d=a.y,h=o<s?o<l?o:l:s<l?s:l,f=u<c?u<d?u:d:c<d?c:d,p=o>s?o>l?o:l:s>l?s:l,m=u>c?u>d?u:d:c>d?c:d,g=ms(h,f,t,n,r),v=ms(p,m,t,n,r),y=e.prevZ,b=e.nextZ;for(;y&&y.z>=g&&b&&b.z<=v;){if(y.x>=h&&y.x<=p&&y.y>=f&&y.y<=m&&y!==i&&y!==a&&ml(o,u,s,c,l,d,y.x,y.y)&&mu(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=h&&b.x<=p&&b.y>=f&&b.y<=m&&b!==i&&b!==a&&ml(o,u,s,c,l,d,b.x,b.y)&&mu(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=g;){if(y.x>=h&&y.x<=p&&y.y>=f&&y.y<=m&&y!==i&&y!==a&&ml(o,u,s,c,l,d,y.x,y.y)&&mu(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=h&&b.x<=p&&b.y>=f&&b.y<=m&&b!==i&&b!==a&&ml(o,u,s,c,l,d,b.x,b.y)&&mu(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}(t,i,a,o):function(e){let t=e.prev,n=e.next;if(mu(t,e,n)>=0)return!1;let r=t.x,i=e.x,a=n.x,o=t.y,s=e.y,l=n.y,u=r<i?r<a?r:a:i<a?i:a,c=o<s?o<l?o:l:s<l?s:l,d=r>i?r>a?r:a:i>a?i:a,h=o>s?o>l?o:l:s>l?s:l,f=n.next;for(;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=c&&f.y<=h&&ml(r,o,i,s,a,l,f.x,f.y)&&mu(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}(t)){n.push(u.i/r|0),n.push(t.i/r|0),n.push(c.i/r|0),mv(t),t=c.next,l=c.next;continue}if((t=c)===l){s?1===s?e(t=function(e,t,n){let r=e;do{let i=r.prev,a=r.next.next;!mc(i,a)&&md(i,r,r.next,a)&&mp(i,a)&&mp(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),mv(r),mv(r.next),r=e=a),r=r.next}while(r!==e)return ma(r)}(ma(t),n,r),n,r,i,a,o,2):2===s&&function(t,n,r,i,a,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){var l,u;if(s.i!==t.i&&(l=s,u=t,l.next.i!==u.i&&l.prev.i!==u.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&md(n,n.next,e,t))return!0;n=n.next}while(n!==e)return!1}(l,u)&&(mp(l,u)&&mp(u,l)&&function(e,t){let n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e)return r}(l,u)&&(mu(l.prev,l,u.prev)||mu(l,u.prev,u))||mc(l,u)&&mu(l.prev,l,l.next)>0&&mu(u.prev,u,u.next)>0))){let l=mm(s,t);s=ma(s,s.next),l=ma(l,l.next),e(s,n,r,i,a,o,0),e(l,n,r,i,a,o,0);return}t=t.next}s=s.next}while(s!==t)}(t,n,r,i,a,o):e(ma(t),n,r,i,a,o,1);break}}}(h,f,n,r,i,u,0),f}};function mi(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=mg(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=mg(a,e[a],e[a+1],o);return o&&mc(o,o.next)&&(mv(o),o=o.next),o}function ma(e,t){if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(mc(n,n.next)||0===mu(n.prev,n,n.next))){if(mv(n),(n=t=n.prev)===n.next)break;r=!0}else n=n.next;while(r||n!==t)return t}function mo(e,t){return e.x-t.x}function ms(e,t,n,r,i){return(e=((e=((e=((e=((e=(e-n)*i|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-r)*i|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function ml(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function mu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function mc(e,t){return e.x===t.x&&e.y===t.y}function md(e,t,n,r){let i=mf(mu(e,t,n)),a=mf(mu(e,t,r)),o=mf(mu(n,r,e)),s=mf(mu(n,r,t));return!!(i!==a&&o!==s||0===i&&mh(e,n,t)||0===a&&mh(e,r,t)||0===o&&mh(n,e,r)||0===s&&mh(n,t,r))}function mh(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function mf(e){return e>0?1:e<0?-1:0}function mp(e,t){return 0>mu(e.prev,e,e.next)?mu(e,t,e.next)>=0&&mu(e,e.prev,t)>=0:0>mu(e,t,e.prev)||0>mu(e,e.next,t)}function mm(e,t){let n=new my(e.i,e.x,e.y),r=new my(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function mg(e,t,n,r){let i=new my(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function mv(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function my(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class mb{static area(e){let t=e.length,n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return .5*n}static isClockWise(e){return 0>mb.area(e)}static triangulateShape(e,t){let n=[],r=[],i=[];m_(e),mx(n,e);let a=e.length;t.forEach(m_);for(let e=0;e<t.length;e++)r.push(a),a+=t[e].length,mx(n,t[e]);let o=mr.triangulate(n,r);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}}function m_(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function mx(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class mS extends dI{constructor(e=new mn([new u$(.5,.5),new u$(-.5,.5),new u$(-.5,-.5),new u$(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let n=this,r=[],i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a];!function(e){let a,o,s,l;let u=[],c=void 0!==t.curveSegments?t.curveSegments:12,d=void 0!==t.steps?t.steps:1,h=void 0!==t.depth?t.depth:1,f=void 0===t.bevelEnabled||t.bevelEnabled,p=void 0!==t.bevelThickness?t.bevelThickness:.2,m=void 0!==t.bevelSize?t.bevelSize:p-.1,g=void 0!==t.bevelOffset?t.bevelOffset:0,v=void 0!==t.bevelSegments?t.bevelSegments:3,y=t.extrudePath,b=void 0!==t.UVGenerator?t.UVGenerator:mw,_,x=!1;y&&(_=y.getSpacedPoints(d),x=!0,f=!1,a=y.computeFrenetFrames(d,!1),o=new cs,s=new cs,l=new cs),f||(v=0,p=0,m=0,g=0);let S=e.extractPoints(c),w=S.shape,E=S.holes,M=!mb.isClockWise(w);if(M){w=w.reverse();for(let e=0,t=E.length;e<t;e++){let t=E[e];mb.isClockWise(t)&&(E[e]=t.reverse())}}let T=mb.triangulateShape(w,E),C=w;for(let e=0,t=E.length;e<t;e++){let t=E[e];w=w.concat(t)}function P(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}let A=w.length,R=T.length;function O(e,t,n){let r,i,a;let o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){let d=Math.sqrt(c),h=Math.sqrt(l*l+u*u),f=t.x-s/d,p=t.y+o/d,m=n.x-u/h,g=n.y+l/h,v=((m-f)*u-(g-p)*l)/(o*u-s*l);r=f+o*v-e.x,i=p+s*v-e.y;let y=r*r+i*i;if(y<=2)return new u$(r,i);a=Math.sqrt(y/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(u)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new u$(r/a,i/a)}let k=[];for(let e=0,t=C.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),k[e]=O(C[e],C[n],C[r]);let L=[],N,I=k.concat();for(let e=0,t=E.length;e<t;e++){let t=E[e];N=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),N[e]=O(t[e],t[r],t[i]);L.push(N),I=I.concat(N)}for(let e=0;e<v;e++){let t=e/v,n=p*Math.cos(t*Math.PI/2),r=m*Math.sin(t*Math.PI/2)+g;for(let e=0,t=C.length;e<t;e++){let t=P(C[e],k[e],r);z(t.x,t.y,-n)}for(let e=0,t=E.length;e<t;e++){let t=E[e];N=L[e];for(let e=0,i=t.length;e<i;e++){let i=P(t[e],N[e],r);z(i.x,i.y,-n)}}}let D=m+g;for(let e=0;e<A;e++){let t=f?P(w[e],I[e],D):w[e];x?(s.copy(a.normals[0]).multiplyScalar(t.x),o.copy(a.binormals[0]).multiplyScalar(t.y),l.copy(_[0]).add(s).add(o),z(l.x,l.y,l.z)):z(t.x,t.y,0)}for(let e=1;e<=d;e++)for(let t=0;t<A;t++){let n=f?P(w[t],I[t],D):w[t];x?(s.copy(a.normals[e]).multiplyScalar(n.x),o.copy(a.binormals[e]).multiplyScalar(n.y),l.copy(_[e]).add(s).add(o),z(l.x,l.y,l.z)):z(n.x,n.y,h/d*e)}for(let e=v-1;e>=0;e--){let t=e/v,n=p*Math.cos(t*Math.PI/2),r=m*Math.sin(t*Math.PI/2)+g;for(let e=0,t=C.length;e<t;e++){let t=P(C[e],k[e],r);z(t.x,t.y,h+n)}for(let e=0,t=E.length;e<t;e++){let t=E[e];N=L[e];for(let e=0,i=t.length;e<i;e++){let i=P(t[e],N[e],r);x?z(i.x,i.y+_[d-1].y,_[d-1].x+n):z(i.x,i.y,h+n)}}}function U(e,t){let i=e.length;for(;--i>=0;){let a=i,o=i-1;o<0&&(o=e.length-1);for(let e=0,i=d+2*v;e<i;e++){let i=A*e,s=A*(e+1),l=t+a+i,u=t+o+i,c=t+o+s,d=t+a+s;!function(e,t,i,a){j(e),j(t),j(a),j(t),j(i),j(a);let o=r.length/3,s=b.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);B(s[0]),B(s[1]),B(s[3]),B(s[1]),B(s[2]),B(s[3])}(l,u,c,d)}}}function z(e,t,n){u.push(e),u.push(t),u.push(n)}function F(e,t,i){j(e),j(t),j(i);let a=r.length/3,o=b.generateTopUV(n,r,a-3,a-2,a-1);B(o[0]),B(o[1]),B(o[2])}function j(e){r.push(u[3*e+0]),r.push(u[3*e+1]),r.push(u[3*e+2])}function B(e){i.push(e.x),i.push(e.y)}(function(){let e=r.length/3;if(f){let e=0*A;for(let t=0;t<R;t++){let n=T[t];F(n[2]+e,n[1]+e,n[0]+e)}e=A*(d+2*v);for(let t=0;t<R;t++){let n=T[t];F(n[0]+e,n[1]+e,n[2]+e)}}else{for(let e=0;e<R;e++){let t=T[e];F(t[2],t[1],t[0])}for(let e=0;e<R;e++){let t=T[e];F(t[0]+A*d,t[1]+A*d,t[2]+A*d)}}n.addGroup(e,r.length/3-e,0)})(),function(){let e=r.length/3,t=0;U(C,0),t+=C.length;for(let e=0,n=E.length;e<n;e++){let n=E[e];U(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}()}(o)}this.setAttribute("position",new dC(r,3)),this.setAttribute("uv",new dC(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){let r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(t,n,e)}static fromJSON(e,t){let n=[];for(let r=0,i=e.shapes.length;r<i;r++){let i=t[e.shapes[r]];n.push(i)}let r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=new pZ[r.type]().fromJSON(r)),new mS(n,e.options)}}const mw={generateTopUV:function(e,t,n,r,i){let a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new u$(a,o),new u$(s,l),new u$(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){let o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new u$(o,1-l),new u$(u,1-d),new u$(h,1-p),new u$(m,1-v)]:[new u$(s,1-l),new u$(c,1-d),new u$(f,1-p),new u$(g,1-v)]}};class mE extends p4{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];super(r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mE(e.radius,e.detail)}}class mM extends p4{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mM(e.radius,e.detail)}}class mT extends dI{constructor(e=.5,t=1,n=32,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);let o=[],s=[],l=[],u=[],c=e,d=(t-e)/r,h=new cs,f=new u$;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){let r=i+e/n*a;h.x=c*Math.cos(r),h.y=c*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,u.push(f.x,f.y)}c+=d}for(let e=0;e<r;e++){let t=e*(n+1);for(let e=0;e<n;e++){let r=e+t,i=r+n+1,a=r+n+2,s=r+1;o.push(r,i,s),o.push(i,a,s)}}this.setIndex(o),this.setAttribute("position",new dC(s,3)),this.setAttribute("normal",new dC(l,3)),this.setAttribute("uv",new dC(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mT(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class mC extends dI{constructor(e=new mn([new u$(0,.5),new u$(-.5,-.5),new u$(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(o,s,t),o+=s,s=0;function l(e){let o=r.length/3,l=e.extractPoints(t),u=l.shape,c=l.holes;!1===mb.isClockWise(u)&&(u=u.reverse());for(let e=0,t=c.length;e<t;e++){let t=c[e];!0===mb.isClockWise(t)&&(c[e]=t.reverse())}let d=mb.triangulateShape(u,c);for(let e=0,t=c.length;e<t;e++){let t=c[e];u=u.concat(t)}for(let e=0,t=u.length;e<t;e++){let t=u[e];r.push(t.x,t.y,0),i.push(0,0,1),a.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){let t=d[e],r=t[0]+o,i=t[1]+o,a=t[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new dC(r,3)),this.setAttribute("normal",new dC(i,3)),this.setAttribute("uv",new dC(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){let r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(t,e)}static fromJSON(e,t){let n=[];for(let r=0,i=e.shapes.length;r<i;r++){let i=t[e.shapes[r]];n.push(i)}return new mC(n,e.curveSegments)}}class mP extends dI{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let s=Math.min(a+o,Math.PI),l=0,u=[],c=new cs,d=new cs,h=[],f=[],p=[],m=[];for(let h=0;h<=n;h++){let g=[],v=h/n,y=0;0===h&&0===a?y=.5/t:h===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){let s=n/t;c.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),c.y=e*Math.cos(a+v*o),c.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(c.x,c.y,c.z),d.copy(c).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),g.push(l++)}u.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){let t=u[e][r+1],i=u[e][r],o=u[e+1][r],l=u[e+1][r+1];(0!==e||a>0)&&h.push(t,i,l),(e!==n-1||s<Math.PI)&&h.push(i,o,l)}this.setIndex(h),this.setAttribute("position",new dC(f,3)),this.setAttribute("normal",new dC(p,3)),this.setAttribute("uv",new dC(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mP(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mA extends p4{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mA(e.radius,e.detail)}}class mR extends dI{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);let a=[],o=[],s=[],l=[],u=new cs,c=new cs,d=new cs;for(let a=0;a<=n;a++)for(let h=0;h<=r;h++){let f=h/r*i,p=a/n*Math.PI*2;c.x=(e+t*Math.cos(p))*Math.cos(f),c.y=(e+t*Math.cos(p))*Math.sin(f),c.z=t*Math.sin(p),o.push(c.x,c.y,c.z),u.x=e*Math.cos(f),u.y=e*Math.sin(f),d.subVectors(c,u).normalize(),s.push(d.x,d.y,d.z),l.push(h/r),l.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){let n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,o=(r+1)*(e-1)+t,s=(r+1)*e+t;a.push(n,i,s),a.push(i,o,s)}this.setIndex(a),this.setAttribute("position",new dC(o,3)),this.setAttribute("normal",new dC(s,3)),this.setAttribute("uv",new dC(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mO extends dI{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);let o=[],s=[],l=[],u=[],c=new cs,d=new cs,h=new cs,f=new cs,p=new cs,m=new cs,g=new cs;for(let o=0;o<=n;++o){let y=o/n*i*Math.PI*2;v(y,i,a,e,h),v(y+.01,i,a,e,f),m.subVectors(f,h),g.addVectors(f,h),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){let i=e/r*Math.PI*2,a=-t*Math.cos(i),f=t*Math.sin(i);c.x=h.x+(a*g.x+f*p.x),c.y=h.y+(a*g.y+f*p.y),c.z=h.z+(a*g.z+f*p.z),s.push(c.x,c.y,c.z),d.subVectors(c,h).normalize(),l.push(d.x,d.y,d.z),u.push(o/n),u.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){let n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,s=(r+1)*(e-1)+t;o.push(n,i,s),o.push(i,a,s)}function v(e,t,n,r,i){let a=n/t*e,o=Math.cos(a);i.x=r*(2+o)*.5*Math.cos(e),i.y=r*(2+o)*Math.sin(e)*.5,i.z=r*Math.sin(a)*.5}this.setIndex(o),this.setAttribute("position",new dC(s,3)),this.setAttribute("normal",new dC(l,3)),this.setAttribute("uv",new dC(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mO(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mk extends dI{constructor(e=new pY(new cs(-1,-1,0),new cs(-1,1,0),new cs(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};let a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;let o=new cs,s=new cs,l=new u$,u=new cs,c=[],d=[],h=[],f=[];function p(i){u=e.getPointAt(i/t,u);let l=a.normals[i],h=a.binormals[i];for(let e=0;e<=r;e++){let t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*h.x,s.y=a*l.y+i*h.y,s.z=a*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=u.x+n*s.x,o.y=u.y+n*s.y,o.z=u.z+n*s.z,c.push(o.x,o.y,o.z)}}(function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){let n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;f.push(n,i,o),f.push(i,a,o)}}()})(),this.setIndex(f),this.setAttribute("position",new dC(c,3)),this.setAttribute("normal",new dC(d,3)),this.setAttribute("uv",new dC(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mk(new pZ[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}function mL(e,t,n){return mI(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function mN(e,t,n){return e&&(n||e.constructor!==t)?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function mI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}class mD{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];r:{i:{let a;a:{o:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break o;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,e<(r=t[++n]))break i}a=t.length;break a}if(!(e>=i)){let o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break i}a=n,n=0;break a}break r}for(;n<a;){let r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class mU extends mD{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){let r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}let l=(n-t)*.5,u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let e=0;e!==o;++e)i[e]=g*a[u+e]+v*a[l+e]+y*a[s+e]+b*a[c+e];return i}}class mz extends mD{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u;for(let e=0;e!==o;++e)i[e]=a[l+e]*c+a[s+e]*u;return i}}class mF extends mD{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class mj{constructor(e,t,n,r){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=mN(t,this.TimeBufferType),this.values=mN(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t;let n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:mN(e.times,Array),values:mN(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}InterpolantFactoryMethodDiscrete(e){return new mF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(t)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){let n=this.times,r=n.length,i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);let e=this.getValueSize();this.times=mL(n,i,a),this.values=mL(this.values,i*e,a*e)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==i;t++){let r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==a&&a>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,a),e=!1;break}a=r}if(void 0!==r&&mI(r))for(let t=0,n=r.length;t!==n;++t){let n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){let e=mL(this.times),t=mL(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1,a=1;for(let o=1;o<i;++o){let i=!1,s=e[o],l=e[o+1];if(s!==l&&(1!==o||s!==e[0])){if(r)i=!0;else{let e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){let n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}}if(i){if(o!==a){e[a]=e[o];let r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=mL(e,0,a),this.values=mL(t,0,a*n)):(this.times=e,this.values=t),this}clone(){let e=mL(this.times,0),t=mL(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}mj.prototype.TimeBufferType=Float32Array,mj.prototype.ValueBufferType=Float32Array,mj.prototype.DefaultInterpolation=2301;class mB extends mj{}mB.prototype.ValueTypeName="bool",mB.prototype.ValueBufferType=Array,mB.prototype.DefaultInterpolation=2300,mB.prototype.InterpolantFactoryMethodLinear=void 0,mB.prototype.InterpolantFactoryMethodSmooth=void 0,(class extends mj{}).prototype.ValueTypeName="color",(class extends mj{}).prototype.ValueTypeName="number";class mV extends mD{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o;for(let e=l+o;l!==e;l+=4)co.slerpFlat(i,0,a,l-o,a,l,s);return i}}class mG extends mj{InterpolantFactoryMethodLinear(e){return new mV(this.times,this.values,this.getValueSize(),e)}}mG.prototype.ValueTypeName="quaternion",mG.prototype.DefaultInterpolation=2301,mG.prototype.InterpolantFactoryMethodSmooth=void 0;class mH extends mj{}mH.prototype.ValueTypeName="string",mH.prototype.ValueBufferType=Array,mH.prototype.DefaultInterpolation=2300,mH.prototype.InterpolantFactoryMethodLinear=void 0,mH.prototype.InterpolantFactoryMethodSmooth=void 0,(class extends mj{}).prototype.ValueTypeName="vector";const mW={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},mX=new class{constructor(e,t,n){let r;let i=this,a=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){let t=l.indexOf(e);return -1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){let n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}};class m${constructor(e){this.manager=void 0!==e?e:mX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const mq={};class mY extends Error{constructor(e,t){super(e),this.response=t}}class mK extends m${constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let i=mW.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==mq[e]){mq[e].push({onLoad:t,onProgress:n,onError:r});return}mq[e]=[],mq[e].push({onLoad:t,onProgress:n,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;let n=mq[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start(e){(function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;let r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){let t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}})})()}});return new Response(l)}throw new mY(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>{let t=new DOMParser;return t.parseFromString(e,o)});case"json":return e.json();default:if(void 0===o)return e.text();{let t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{mW.add(e,t);let n=mq[e];delete mq[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{let n=mq[e];if(void 0===n)throw this.manager.itemError(e),t;delete mq[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class mZ extends c9{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new dy(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const mQ=new cU,mJ=new cs,m0=new cs;class m1{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new u$(512,512),this.map=null,this.mapPass=null,this.matrix=new cU,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hl,this._frameExtents=new u$(1,1),this._viewportCount=1,this._viewports=[new cr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;mJ.setFromMatrixPosition(e.matrixWorld),t.position.copy(mJ),m0.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(m0),t.updateMatrixWorld(),mQ.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mQ),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(mQ)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const m2=new cU,m3=new cs,m5=new cs;class m4 extends m1{constructor(){super(new d9(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new u$(4,2),this._viewportCount=6,this._viewports=[new cr(2,1,1,1),new cr(0,1,1,1),new cr(3,1,1,1),new cr(1,1,1,1),new cr(3,0,1,1),new cr(1,0,1,1)],this._cubeDirections=[new cs(1,0,0),new cs(-1,0,0),new cs(0,0,1),new cs(0,0,-1),new cs(0,1,0),new cs(0,-1,0)],this._cubeUps=[new cs(0,1,0),new cs(0,1,0),new cs(0,1,0),new cs(0,1,0),new cs(0,0,1),new cs(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),m3.setFromMatrixPosition(e.matrixWorld),n.position.copy(m3),m5.copy(n.position),m5.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(m5),n.updateMatrixWorld(),r.makeTranslation(-m3.x,-m3.y,-m3.z),m2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m2)}}class m6 extends mZ{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new m4}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class m8{static decodeText(e){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return -1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e))?e:t+e}}const m9="\\[\\]\\.:\\/",m7=RegExp("["+m9+"]","g"),ge="[^"+m9+"]",gt="[^"+m9.replace("\\.","")+"]",gn=/((?:WC+[\/:])*)/.source.replace("WC",ge),gr=/(WCOD+)?/.source.replace("WCOD",gt),gi=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ge),ga=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ge),go=RegExp("^"+gn+gr+gi+ga+"$"),gs=["material","materials","bones","map"];class gl{constructor(e,t,n){this.path=t,this.parsedPath=n||gl.parseTrackName(t),this.node=gl.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new gl.Composite(e,t,n):new gl(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(m7,"")}static parseTrackName(e){let t=go.exec(e);if(null===t)throw Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){let e=n.nodeName.substring(r+1);-1!==gs.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(e){for(let r=0;r<e.length;r++){let i=e[r];if(i.name===t||i.uuid===t)return i;let a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=gl.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(void 0===e[n]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(void 0!==r){if(void 0===e[r]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[r]}}let a=e[r];if(void 0===a){let n=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}gl.Composite=class{constructor(e,t,n){let r=n||gl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},gl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},gl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},gl.prototype.GetterByBindingType=[gl.prototype._getValue_direct,gl.prototype._getValue_array,gl.prototype._getValue_arrayElement,gl.prototype._getValue_toArray],gl.prototype.SetterByBindingTypeAndVersioning=[[gl.prototype._setValue_direct,gl.prototype._setValue_direct_setNeedsUpdate,gl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[gl.prototype._setValue_array,gl.prototype._setValue_array_setNeedsUpdate,gl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[gl.prototype._setValue_arrayElement,gl.prototype._setValue_arrayElement_setNeedsUpdate,gl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[gl.prototype._setValue_fromArray,gl.prototype._setValue_fromArray_setNeedsUpdate,gl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class gu{constructor(e,t,n=0,r=1/0){this.ray=new cD(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new cq,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return gd(e,this,n,t),n.sort(gc),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)gd(e[r],this,n,t);return n.sort(gc),n}}function gc(e,t){return e.distance-t.distance}function gd(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){let r=e.children;for(let e=0,i=r.length;e<i;e++)gd(r[e],t,n,!0)}}class gh{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(uV(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const gf=new cs,gp=new cs;class gm{constructor(e=new cs,t=new cs){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gf.subVectors(e,this.start),gp.subVectors(this.end,this.start);let n=gp.dot(gp),r=gp.dot(gf),i=r/n;return t&&(i=uV(i,0,1)),i}closestPointToPoint(e,t,n){let r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const gg=new cs;class gv extends c9{constructor(e=new cs(0,0,1),t=new cs(0,0,0),n=1,a=16776960,o=.2*n,s=.2*o){super(),this.type="ArrowHelper",void 0===r&&((r=new dI).setAttribute("position",new dC([0,0,0,0,1,0],3)),(i=new p3(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new pM(r,new pb({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dJ(i,new d_({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gg.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gg,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class gy extends pP{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new dI;n.setAttribute("position",new dC(t,3)),n.setAttribute("color",new dC([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));let r=new pb({vertexColors:!0,toneMapped:!1});super(n,r),this.type="AxesHelper"}setColors(e,t,n){let r=new dy,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}"use strict";"use strict";"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"153"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="153");var gb={},g_={},gx={};gx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var gS={},gw={};gw=function(e){return!!e&&"string"!=typeof e&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))};var gE=Array.prototype.concat,gM=Array.prototype.slice,gT=gS=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];gw(i)?t=gE.call(t,gM.call(i)):t.push(i)}return t};gT.wrap=function(e){return function(){return e(gT(arguments))}};var gC=Object.hasOwnProperty,gP=Object.create(null);for(var gA in gx)gC.call(gx,gA)&&(gP[gx[gA]]=gA);var gR=g_={to:{},get:{}};function gO(e,t,n){return Math.min(Math.max(t,e),n)}function gk(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}gR.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=gR.get.hsl(e),n="hsl";break;case"hwb":t=gR.get.hwb(e),n="hwb";break;default:t=gR.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},gR.get.rgb=function(e){if(!e)return null;var t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=0,r=t[2],t=t[1];n<3;n++){var a=2*n;i[n]=parseInt(t.slice(a,a+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=0,r=(t=t[1])[3];n<3;n++)i[n]=parseInt(t[n]+t[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else if(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else if(!(t=e.match(/^(\w+)$/)))return null;else return"transparent"===t[1]?[0,0,0,0]:gC.call(gx,t[1])?((i=gx[t[1]])[3]=1,i):null;for(n=0;n<3;n++)i[n]=gO(i[n],0,255);return i[3]=gO(i[3],0,1),i},gR.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,gO(parseFloat(t[2]),0,100),gO(parseFloat(t[3]),0,100),gO(isNaN(n)?1:n,0,1)]}return null},gR.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,gO(parseFloat(t[2]),0,100),gO(parseFloat(t[3]),0,100),gO(isNaN(n)?1:n,0,1)]}return null},gR.to.hex=function(){var e=gS(arguments);return"#"+gk(e[0])+gk(e[1])+gk(e[2])+(e[3]<1?gk(Math.round(255*e[3])):"")},gR.to.rgb=function(){var e=gS(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},gR.to.rgb.percent=function(){var e=gS(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},gR.to.hsl=function(){var e=gS(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},gR.to.hwb=function(){var e=gS(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},gR.to.keyword=function(e){return gP[e.slice(0,3)]};var gL={},gN={};const gI={};for(const e of Object.keys(gx))gI[gx[e]]=e;const gD={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(const e of(gN=gD,Object.keys(gD))){if(!("channels"in gD[e]))throw Error("missing channels property: "+e);if(!("labels"in gD[e]))throw Error("missing channel labels property: "+e);if(gD[e].labels.length!==gD[e].channels)throw Error("channel and label counts mismatch: "+e);let{channels:t,labels:n}=gD[e];delete gD[e].channels,delete gD[e].labels,Object.defineProperty(gD[e],"channels",{value:t}),Object.defineProperty(gD[e],"labels",{value:n})}gD.rgb.hsl=function(e){let t;let n=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.min(n,r,i),o=Math.max(n,r,i),s=o-a;o===a?t=0:n===o?t=(r-i)/s:r===o?t=2+(i-n)/s:i===o&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);let l=(a+o)/2;return[t,100*(o===a?0:l<=.5?s/(o+a):s/(2-o-a)),100*l]},gD.rgb.hsv=function(e){let t,n,r,i,a;let o=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(i=0,a=0):(a=c/u,t=d(o),n=d(s),r=d(l),o===u?i=r-n:s===u?i=1/3+t-r:l===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*a,100*u]},gD.rgb.hwb=function(e){let t=e[0],n=e[1],r=e[2],i=gD.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,r));return[i,100*a,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},gD.rgb.cmyk=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},gD.rgb.keyword=function(e){let t;let n=gI[e];if(n)return n;let r=1/0;for(let n of Object.keys(gx)){let i=gx[n],a=(e[0]-i[0])**2+(e[1]-i[1])**2+(e[2]-i[2])**2;a<r&&(r=a,t=n)}return t},gD.keyword.rgb=function(e){return gx[e]},gD.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=.4124*t+.3576*n+.1805*r,a=.2126*t+.7152*n+.0722*r,o=.0193*t+.1192*n+.9505*r;return[100*i,100*a,100*o]},gD.rgb.lab=function(e){let t=gD.rgb.xyz(e),n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let a=116*r-16,o=500*(n-r),s=200*(r-i);return[a,o,s]},gD.hsl.rgb=function(e){let t,n,r;let i=e[0]/360,a=e[1]/100,o=e[2]/100;if(0===a)return[r=255*o,r,r];t=o<.5?o*(1+a):o+a-o*a;let s=2*o-t,l=[0,0,0];for(let e=0;e<3;e++)(n=i+-(1/3*(e-1)))<0&&n++,n>1&&n--,r=6*n<1?s+(t-s)*6*n:2*n<1?t:3*n<2?s+(t-s)*(2/3-n)*6:s,l[e]=255*r;return l},gD.hsl.hsv=function(e){let t=e[0],n=e[1]/100,r=e[2]/100,i=n,a=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=a<=1?a:2-a;let o=(r+n)/2,s=0===r?2*i/(a+i):2*n/(r+n);return[t,100*s,100*o]},gD.hsv.rgb=function(e){let t=e[0]/60,n=e[1]/100,r=e[2]/100,i=t-Math.floor(t),a=255*r*(1-n),o=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,Math.floor(t)%6){case 0:return[r,s,a];case 1:return[o,r,a];case 2:return[a,r,s];case 3:return[a,o,r];case 4:return[s,a,r];case 5:return[r,a,o]}},gD.hsv.hsl=function(e){let t,n;let r=e[0],i=e[1]/100,a=e[2]/100,o=Math.max(a,.01);n=(2-i)*a;let s=(2-i)*o;return[r,100*(i*o/(s<=1?s:2-s)||0),100*(n/=2)]},gD.hwb.rgb=function(e){let t,n,r,i;let a=e[0]/360,o=e[1]/100,s=e[2]/100,l=o+s;l>1&&(o/=l,s/=l);let u=Math.floor(6*a),c=1-s;t=6*a-u,(1&u)!=0&&(t=1-t);let d=o+t*(c-o);switch(u){default:case 6:case 0:n=c,r=d,i=o;break;case 1:n=d,r=c,i=o;break;case 2:n=o,r=c,i=d;break;case 3:n=o,r=d,i=c;break;case 4:n=d,r=o,i=c;break;case 5:n=c,r=o,i=d}return[255*n,255*r,255*i]},gD.cmyk.rgb=function(e){let t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},gD.xyz.rgb=function(e){let t,n,r;let i=e[0]/100,a=e[1]/100,o=e[2]/100;return t=(t=3.2406*i+-1.5372*a+-.4986*o)>.0031308?1.055*t**(1/2.4)-.055:12.92*t,n=(n=-.9689*i+1.8758*a+.0415*o)>.0031308?1.055*n**(1/2.4)-.055:12.92*n,r=(r=.0557*i+-.204*a+1.057*o)>.0031308?1.055*r**(1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},gD.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,a=500*(t-n),o=200*(n-r);return[i,a,o]},gD.lab.xyz=function(e){let t,n,r;let i=e[0],a=e[1],o=e[2];t=a/500+(n=(i+16)/116),r=n-o/200;let s=n**3,l=t**3,u=r**3;return n=(s>.008856?s:(n-16/116)/7.787)*100,[t=(l>.008856?l:(t-16/116)/7.787)*95.047,n,r=(u>.008856?u:(r-16/116)/7.787)*108.883]},gD.lab.lch=function(e){let t;let n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},gD.lch.lab=function(e){let t=e[0],n=e[1],r=e[2],i=r/360*2*Math.PI;return[t,n*Math.cos(i),n*Math.sin(i)]},gD.rgb.ansi16=function(e,t=null){let[n,r,i]=e,a=null===t?gD.rgb.hsv(e)[2]:t;if(0===(a=Math.round(a/50)))return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(o+=60),o},gD.hsv.ansi16=function(e){return gD.rgb.ansi16(gD.hsv.rgb(e),e[2])},gD.rgb.ansi256=function(e){let t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},gD.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];let n=(~~(e>50)+1)*.5,r=(1&t)*n*255,i=(t>>1&1)*n*255,a=(t>>2&1)*n*255;return[r,i,a]},gD.ansi256.rgb=function(e){let t;if(e>=232){let t=(e-232)*10+8;return[t,t,t]}e-=16;let n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255;return[n,r,t%6/5*255]},gD.rgb.hex=function(e){let t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2])),n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n},gD.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));let r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},gD.rgb.hcg=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),a=Math.min(Math.min(t,n),r),o=i-a;return[360*((o<=0?0:i===t?(n-r)/o%6:i===n?2+(r-t)/o:4+(t-n)/o)/6%1),100*o,100*(o<1?a/(1-o):0)]},gD.hsl.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},gD.hsv.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},gD.hcg.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];let i=[0,0,0],a=t%1*6,o=a%1,s=1-o,l=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]},gD.hcg.hsv=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t),i=0;return r>0&&(i=t/r),[e[0],100*i,100*r]},gD.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100,r=n*(1-t)+.5*t,i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],100*i,100*r]},gD.hcg.hwb=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]},gD.hwb.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=1-n,i=r-t,a=0;return i<1&&(a=(r-i)/(1-i)),[e[0],100*i,100*a]},gD.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},gD.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},gD.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},gD.gray.hsl=function(e){return[0,0,e[0]]},gD.gray.hsv=gD.gray.hsl,gD.gray.hwb=function(e){return[0,100,e[0]]},gD.gray.cmyk=function(e){return[0,0,0,e[0]]},gD.gray.lab=function(e){return[e[0],0,0]},gD.gray.hex=function(e){let t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},gD.rgb.gray=function(e){let t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var gU={};gU=function(e){let t=function(e){let t=function(){let e={},t=Object.keys(gN);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){let e=n.pop(),r=Object.keys(gN[e]);for(let i=r.length,a=0;a<i;a++){let i=r[a],o=t[i];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,n.unshift(i))}}return t}(e),n={},r=Object.keys(t);for(let e=r.length,i=0;i<e;i++){let e=r[i],a=t[e];null!==a.parent&&(n[e]=function(e,t){let n=[t[e].parent,e],r=gN[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=function(e,t){return function(n){return t(e(n))}}(gN[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}(e,t))}return n};const gz={},gF=Object.keys(gN);gF.forEach(e=>{gz[e]={},Object.defineProperty(gz[e],"channels",{value:gN[e].channels}),Object.defineProperty(gz[e],"labels",{value:gN[e].labels});let t=gU(e),n=Object.keys(t);n.forEach(n=>{let r=t[n];gz[e][n]=function(e){let t=function(...t){let n=t[0];if(null==n)return n;n.length>1&&(t=n);let r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),gz[e][n].raw=function(e){let t=function(...t){let n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),gL=gz;const gj=["keyword","gray","hex"],gB={};for(const e of Object.keys(gL))gB[[...gL[e].labels].sort().join("")]=e;const gV={};function gG(e,t){let n,r;if(!(this instanceof gG))return new gG(e,t);if(t&&t in gj&&(t=null),t&&!(t in gL))throw Error("Unknown model: "+t);if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof gG)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){let t=g_.get(e);if(null===t)throw Error("Unable to parse color from string: "+e);this.model=t.model,r=gL[this.model].channels,this.color=t.value.slice(0,r),this.valpha="number"==typeof t.value[r]?t.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=gL[this.model].channels;let n=Array.prototype.slice.call(e,0,r);this.color=gX(n,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;let t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);let r=t.sort().join("");if(!(r in gB))throw Error("Unable to parse color from object: "+JSON.stringify(e));this.model=gB[r];let{labels:i}=gL[this.model],a=[];for(n=0;n<i.length;n++)a.push(e[i[n]]);this.color=gX(a)}if(gV[this.model])for(n=0,r=gL[this.model].channels;n<r;n++){let e=gV[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}for(const e of(gG.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in g_.to?this:this.rgb();t=t.round("number"==typeof e?e:1);let n=1===t.valpha?t.color:[...t.color,this.valpha];return g_.to[t.model](n)},percentString(e){let t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return g_.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){let e={},{channels:t}=gL[this.model],{labels:n}=gL[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){let e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){let e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){var t;return e=Math.max(e||0,0),new gG([...this.color.map((t=e,function(e){return Number(e.toFixed(t))})),this.valpha],this.model)},alpha(e){return void 0!==e?new gG([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:gH("rgb",0,gW(255)),green:gH("rgb",1,gW(255)),blue:gH("rgb",2,gW(255)),hue:gH(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:gH("hsl",1,gW(100)),lightness:gH("hsl",2,gW(100)),saturationv:gH("hsv",1,gW(100)),value:gH("hsv",2,gW(100)),chroma:gH("hcg",1,gW(100)),gray:gH("hcg",2,gW(100)),white:gH("hwb",1,gW(100)),wblack:gH("hwb",2,gW(100)),cyan:gH("cmyk",0,gW(100)),magenta:gH("cmyk",1,gW(100)),yellow:gH("cmyk",2,gW(100)),black:gH("cmyk",3,gW(100)),x:gH("xyz",0,gW(95.047)),y:gH("xyz",1,gW(100)),z:gH("xyz",2,gW(108.833)),l:gH("lab",0,gW(100)),a:gH("lab",1),b:gH("lab",2),keyword(e){return void 0!==e?new gG(e):gL[this.model].keyword(this.color)},hex(e){return void 0!==e?new gG(e):g_.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new gG(e);let t=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),g_.to.hex(t)+n},rgbNumber(){let e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){let e=this.rgb().color,t=[];for(let[n,r]of e.entries()){let e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){let t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){let t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let e=this.rgb().color,t=(2126*e[0]+7152*e[1]+722*e[2])/1e4;return t<128},isLight(){return!this.isDark()},negate(){let e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){let t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){let t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){let t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){let t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){let t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){let t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){let e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return gG.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){let t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);let n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,a=2*i-1,o=n.alpha()-r.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return gG.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(gL))){if(gj.includes(e))continue;let{channels:t}=gL[e];gG.prototype[e]=function(...t){var n;return this.model===e?new gG(this):t.length>0?new gG(t,e):new gG([...Array.isArray(n=gL[this.model][e].raw(this.color))?n:[n],this.valpha],e)},gG[e]=function(...n){let r=n[0];return"number"==typeof r&&(r=gX(n,t)),new gG(r,e)}}function gH(e,t,n){for(let r of e=Array.isArray(e)?e:[e])(gV[r]||(gV[r]=[]))[t]=n;return e=e[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function gW(e){return function(t){return Math.max(0,Math.min(e,t))}}function gX(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}gb=gG;const g$=(e=360)=>{let t={};return Array.from(Array(e)).map((e,n)=>{t[n]=O(gb).hsl([n,50,50]).hex()}),t},gq=e=>{e=e.replace("#","");let t=parseInt(e.substring(0,2),16)/256,n=parseInt(e.substring(2,4),16)/256,r=parseInt(e.substring(4,6),16)/256;return[t,n,r]},gY=Math.PI,gK=2*gY,gZ=e=>(e%gK+gK)%gK,gQ=e=>gZ(e+gY)-gY,gJ={type:"change"},g0={type:"start"},g1={type:"end"};class g2 extends uU{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new cs,this.minDistance=0,this.maxDistance=1/0,this.zoomToCursor=!1,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:uO.ROTATE,MIDDLE:uO.DOLLY,RIGHT:uO.ROTATE},this.touches={ONE:uk.ROTATE,TWO:uk.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",W),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(gJ),n.update(),i=r.NONE},this.update=function(){let t=new cs,h=new co().setFromUnitVectors(e.up,new cs(0,1,0)),f=h.clone().invert(),p=new cs,m=new co,g=2*Math.PI,v=1;return function(){let e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(h),o.setFromVector3(t),n.autoRotate&&i===r.NONE&&M(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(o.theta+=s.theta*n.dampingFactor,o.phi+=s.phi*n.dampingFactor):(o.theta+=s.theta,o.phi+=s.phi);let y=n.minAzimuthAngle,b=n.maxAzimuthAngle;return isFinite(y)&&isFinite(b)&&(y<-Math.PI?y+=g:y>Math.PI&&(y-=g),b<-Math.PI?b+=g:b>Math.PI&&(b-=g),y<=b?o.theta=Math.max(y,Math.min(b,o.theta)):o.theta=o.theta>(y+b)/2?Math.max(y,o.theta):Math.min(b,o.theta)),o.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,o.phi)),o.makeSafe(),v=o.radius,o.radius*=l,o.radius=Math.max(n.minDistance,Math.min(n.maxDistance,o.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),n.zoomToCursor&&(n.object.isPerspectiveCamera?n.target.lerp(w,1-o.radius/v):n.object.isOrthographicCamera&&n.target.lerp(w,1-d)),t.setFromSpherical(o),t.applyQuaternion(f),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),u.set(0,0,0)),l=1,!!(c||p.distanceToSquared(n.object.position)>a||8*(1-m.dot(n.object.quaternion))>a)&&(n.dispatchEvent(gJ),p.copy(n.object.position),m.copy(n.object.quaternion),c=!1,d=1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",X),n.domElement.removeEventListener("pointerdown",j),n.domElement.removeEventListener("pointercancel",G),n.domElement.removeEventListener("wheel",H),n.domElement.removeEventListener("pointermove",B),n.domElement.removeEventListener("pointerup",V),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",W)},this.rotate=function(e){M(e),n.update()};let n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},i=r.NONE,a=1e-6,o=new gh,s=new gh,l=1,u=new cs,c=!1,d=1,h=new u$,f=new u$,p=new u$,m=new u$,g=new u$,v=new u$,y=new u$,b=new u$,_=new u$,x=[],S={},w=new cs;function E(){return Math.pow(.95,n.zoomSpeed)}function M(e){s.theta-=e}let T=function(){let e=new cs;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),u.add(e)}}(),C=function(){let e=new cs;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),P=function(){let e=new cs;return function(t,r){let i=n.domElement;if(n.object.isPerspectiveCamera){let a=n.object.position;e.copy(a).sub(n.target);let o=e.length();T(2*t*(o*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),C(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function A(e){n.object.isPerspectiveCamera?l/=e:n.object.isOrthographicCamera?(d=n.object.zoom,n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),d/=n.object.zoom,n.object.updateProjectionMatrix(),c=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function R(e){n.object.isPerspectiveCamera?l*=e:n.object.isOrthographicCamera?(d=n.object.zoom,n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),d/=n.object.zoom,n.object.updateProjectionMatrix(),c=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){h.set(e.clientX,e.clientY)}function k(e){m.set(e.clientX,e.clientY)}let L=function(){let e=new cs,t=new cs;return function(r){let i=n.domElement;if(n.object.isPerspectiveCamera){e.set((r.clientX-i.getBoundingClientRect().left)/i.clientWidth*2-1,-(2*((r.clientY-i.getBoundingClientRect().top)/i.clientHeight))+1,.5),e.unproject(n.object),e.sub(n.object.position).normalize();let a=t.copy(n.target).sub(n.object.position).dot(n.object.up)/e.dot(n.object.up);w.copy(n.object.position).add(e.multiplyScalar(a))}else if(n.object.isOrthographicCamera){e.set((r.clientX-i.getBoundingClientRect().left)/i.clientWidth*2-1,-(2*((r.clientY-i.getBoundingClientRect().top)/i.clientHeight))+1,(n.object.near+n.object.far)/(n.object.near-n.object.far)),e.unproject(n.object),t.set(0,0,-1).applyQuaternion(n.object.quaternion);let a=-e.dot(n.object.up)/t.dot(n.object.up);w.copy(e).add(t.multiplyScalar(a))}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type.")}}();function N(){if(1===x.length)h.set(x[0].pageX,x[0].pageY);else{let e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);h.set(e,t)}}function I(){if(1===x.length)m.set(x[0].pageX,x[0].pageY);else{let e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);m.set(e,t)}}function D(){let e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY;y.set(0,Math.sqrt(e*e+t*t))}function U(e){var t;if(1==x.length)f.set(e.pageX,e.pageY);else{let t=Y(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);f.set(n,r)}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);let r=n.domElement;M(2*Math.PI*p.x/r.clientHeight),t=2*Math.PI*p.y/r.clientHeight,s.phi-=t,h.copy(f)}function z(e){if(1===x.length)g.set(e.pageX,e.pageY);else{let t=Y(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}v.subVectors(g,m).multiplyScalar(n.panSpeed),P(v.x,v.y),m.copy(g)}function F(e){let t=Y(e),r=e.pageX-t.x,i=e.pageY-t.y;b.set(0,Math.sqrt(r*r+i*i)),_.set(0,Math.pow(b.y/y.y,n.zoomSpeed)),A(_.y),y.copy(b)}function j(e){!1!==n.enabled&&(0===x.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",B),n.domElement.addEventListener("pointerup",V)),x.push(e),"touch"===e.pointerType?function(e){switch(q(e),x.length){case 1:switch(n.touches.ONE){case uk.ROTATE:if(!1===n.enableRotate)return;N(),i=r.TOUCH_ROTATE;break;case uk.PAN:if(!1===n.enablePan)return;I(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(n.touches.TWO){case uk.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&D(),n.enablePan&&I(),i=r.TOUCH_DOLLY_PAN;break;case uk.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&D(),n.enableRotate&&N(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(g0)}(e):function(e){let t;switch(2===e.button?n.mouseButtons.RIGHT:-1){case uO.DOLLY:if(!1===n.enableZoom)return;y.set(e.clientX,e.clientY),i=r.DOLLY;break;case uO.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;k(e),i=r.PAN}else{if(!1===n.enableRotate)return;O(e),i=r.ROTATE}break;case uO.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;O(e),i=r.ROTATE}else{if(!1===n.enablePan)return;k(e),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(g0)}(e))}function B(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(q(e),i){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;U(e),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;z(e),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&F(e),n.enablePan&&z(e),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&F(e),n.enableRotate&&U(e),n.update();break;default:i=r.NONE}}(e):function(e){if(!1!==n.enabled)switch(i){case r.ROTATE:if(!1===n.enableRotate)return;!function(e){var t;f.set(e.clientX,e.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);let r=n.domElement;M(2*Math.PI*p.x/r.clientHeight),t=2*Math.PI*p.y/r.clientHeight,s.phi-=t,h.copy(f),n.update()}(e);break;case r.DOLLY:if(!1===n.enableZoom)return;b.set(e.clientX,e.clientY),_.subVectors(b,y),_.y>0?A(E()):_.y<0&&R(E()),y.copy(b),n.update();break;case r.PAN:if(!1===n.enablePan)return;g.set(e.clientX,e.clientY),v.subVectors(g,m).multiplyScalar(n.panSpeed),P(v.x,v.y),m.copy(g),n.update()}}(e),i!==r.NONE&&n.dispatchEvent({type:"drag"}))}function V(e){$(e),0===x.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",B),n.domElement.removeEventListener("pointerup",V)),n.dispatchEvent(g1),i=r.NONE}function G(e){$(e)}function H(e){!1!==n.enabled&&!1!==n.enableZoom&&i===r.NONE&&(e.preventDefault(),n.dispatchEvent(g0),L(e),e.deltaY<0?R(E()):e.deltaY>0&&A(E()),n.update(),n.dispatchEvent(g1))}function W(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:P(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:P(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:P(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:P(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function X(e){!1!==n.enabled&&e.preventDefault()}function $(e){delete S[e.pointerId];for(let t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId){x.splice(t,1);return}}function q(e){let t=S[e.pointerId];void 0===t&&(t=new u$,S[e.pointerId]=t),t.set(e.pageX,e.pageY)}function Y(e){let t=e.pointerId===x[0].pointerId?x[1]:x[0];return S[t.pointerId]}n.domElement.addEventListener("contextmenu",X),n.domElement.addEventListener("pointerdown",j),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",H,{passive:!1}),this.update()}}class g3{init(e){let t=this.width=e.width,n=this.height=e.height,r=this.scene=new py;r.background=new dy(1118481);let i=this.canvas=e.canvas,a=this.renderer=new pv({antialias:!0,canvas:i,powerPreference:"high-performance"});a.setPixelRatio(window.devicePixelRatio),a.setSize(t,n);let o=new m6(16777215,1,1e3);o.position.set(0,-50,50),r.add(o),(o=new m6(16777215,1,100)).position.set(50,-50,0),r.add(o),(o=new m6(16777215,1,100)).position.set(50,-50,50),r.add(o),(o=new m6(16777215,1,100)).position.set(-50,-50,50),r.add(o);let s=this.container=e.container;this.initCamera(),s.addEventListener("mousemove",this.onMouseMove),this.scene.add(new gy(2)),this.render(),window.requestAnimationFrame(this.animate)}initCamera(){let e=this.width,t=this.height;this.scene.remove(this.camera);let n=this.camera="perspective"===this.cameraMode?new d9(75,e/t,.01,2e4):new hS(-(e/2),e/2,t/2,-(t/2));n.updateProjectionMatrix(),n.up.set(0,0,1),this.scene.add(n);let r=this.controls=new g2(n,this.container);r.zoomToCursor=!0,r.addEventListener("change",()=>{this.render()})}renderPCDFile(e){let t;this.scene.remove(this.cloudObject);let{position:n,label:r,intensity:i,object:a}=this.pcd=e;this.cloudData=[];let o=new dI;n.forEach((e,n)=>{switch(n%3){case 0:t={x:e,y:0,z:0,labelIndex:-1};break;case 1:t.y=e;break;case 2:t.z=e,(isNaN(t.x)||isNaN(t.y)||isNaN(t.z))&&(t={...t,x:0,y:0,z:0}),this.cloudData.push(t)}}),this.visibleIndices=new Set([...Array(this.cloudData.length).keys()]);let s=[];r&&r.forEach((e,t)=>{if(this.cloudData[t]){this.cloudData[t].labelIndex=e;let n=gq(this.getPointColor(t));s.push(n[0],n[1],n[2])}}),o.setAttribute("position",new dC(n,3)),o.setAttribute("color",new dC(s,3));let l=new pA({size:this.pointSize,vertexColors:!0});l.sizeAttenuation=!1;let u=this.cloudObject=new pN(o,l);this.scene.add(u),this.updateSphere(),this.render()}renderCube(e){let{value:{size:{width:t,height:n,depth:r},position:i,rotation:a},color:o,id:s}=e;this.removeCube(s);let l=new d1(t,r,n),u=new dJ(l,new d_({color:o,opacity:.2,transparent:!0})),c=new mt(l),d=new pP(c,new pb({color:o}));u.add(d);let h=new cs(0,1,0),f=new gv(h,new cs(0,0,0),.7*r);u.add(f);let p=new dJ(new hd(t,n),new d_({side:2,transparent:!0,depthWrite:!1,opacity:.7,color:o}));p.rotateX(Math.PI/2),p.position.setY(r/2),u.add(p),u.position.set(i.x,i.y,i.z),u.rotation.set(a.x,a.y,a.z),this.scene.add(u),this.render(),this.cubeObjects.set(e.id,u),this.objectUUIDMaps.set(u.uuid,e.id)}cameraPreset(e="front",t=0,n="visible",r=!1){this.cameraPosition=e,this.cameraSlope=t,this.cameraPresetTarget=n,this.tween=r}getCenter(e){let t=new dI,n=[];return e.forEach(e=>{let t=this.cloudData[e];n.push(new cs(t.x,t.y,t.z))}),t.setFromPoints(n),new cc().setFromObject(new dJ(t)).getCenter(new cs)}getProjection(e){let t=e.map(e=>{let t=this.cloudData[e];return new cs(t.x,t.y,t.z)});return t.forEach(e=>e.project(this.camera)),t}getPointColor(e){switch(this.shaderMode){case"height":case"gray":default:return"#CFCFCF";case"intensity":return this.hslColorMap[this.pcd.intensity[e]]}}fitView(e,t){let n=new gm(t,e),r=this.sphere.radius||10,i=0;if(this.camera instanceof d9){let e=this.camera.fov;i=1.5*(r/Math.tan(e*Math.PI/360))}else this.camera instanceof hS&&(i=r);let a=i/n.distance(),o=n.at(a,new cs);this._moveCamera(o,t)}moveCamera(e,t){let n,r;n=e,r=t;let i=this.getCenter([...this.visibleIndices]),a=i.z+this.cameraSlope;if(!n)switch(this.cameraPosition){case"front":n=new cs(i.x,i.y-1,a);break;case"side":n=new cs(i.x-1,i.y,i.z);break;case"top":n=new cs(i.x,.99999*i.y,-1)}r||(r=i),this.fitView(n,r)}_moveCamera(e,t){this.orbiting=!0;let n=(e,t)=>{let n=(t-e)%gK;return gQ(2*n%gK-n)};this.cameraState.moving=!0;let r=this.controls.target,i=t||this.controls.target,a=new gh().setFromVector3(this.camera.position.sub(i)).makeSafe(),o=e?new gh().setFromVector3(e.sub(i)).makeSafe():a,s=this.cameraState;s.originalTarget.copy(i),s.position=this.tween?0:1,s.fromPhi=gQ(a.phi),s.fromTheta=gQ(a.theta),s.fromRadius=a.radius,s.toPhi=gQ(o.phi),s.toTheta=gQ(o.theta),s.toRadius=o.radius,s.rangePhi=n(a.phi,o.phi),s.rangeTheta=n(a.theta,o.theta),s.rangeRadius=this.cameraState.toRadius-this.cameraState.fromRadius,s.fromX=r.x,s.fromY=r.y,s.fromZ=r.z,s.toX=i.x,s.toY=i.y,s.toZ=i.z,s.rangeX=i.x-r.x,s.rangeY=i.y-r.y,s.rangeZ=i.z-r.z,this.cameraTween.to({position:1},this.tweenDuration).easing(uE.Quadratic.Out).start()}highlightIndex(e){this.highlightedIndex=e}updateCamera(e){if(this.cameraState.moving){this.cameraTween.update(e);let t=this.cameraState,n=t.position,r=t.fromX+t.rangeX*n,i=t.fromY+t.rangeY*n,a=t.fromZ+t.rangeZ*n;this.controls.target.copy(new cs(r,i,a));let o=t.fromPhi+t.rangePhi*n,s=t.fromTheta+t.rangeTheta*n,l=t.fromRadius+t.rangeRadius*n,u=new gh(l,o,s).makeSafe(),c=new cs().setFromSpherical(u);this.camera.position.copy(c.add(this.cameraState.originalTarget)),this.camera.updateMatrix(),this.camera instanceof hS&&this.camera.updateProjectionMatrix(),this.controls.update(),this.render()}}updateSphere(){let e=[];this.visibleIndices.forEach(t=>{let n=this.cloudData[t];e.push(new cs(n.x,n.y,n.z))}),this.sphere.setFromPoints(e)}updateRaycaster(){if(this.raycaster){this.raycaster.setFromCamera(this.pointer,this.camera);let e=this.intersects=this.raycaster.intersectObjects(this.scene.children,!0).sort((e,t)=>e.distanceToRay<t.distanceToRay?-1:1);e.length&&null!=e[0].index?this.highlightIndex(e[0].index):this.highlightIndex(-1)}}updateProjection(){if(!this.cloudData)return;this.frustum.setFromProjectionMatrix(new cU().multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse));let e=new cs,t=this.width/2,n=this.height/2,r=(r,i)=>{e.set(r.x,r.y,r.z);let a=this.projection.get(r);a||(a={pixelX:NaN,pixelY:NaN},this.projection.set(r,a));let o=this.frustum.containsPoint(e);return o?this.frustumIndices.add(i):this.frustumIndices.delete(i),o?(e.project(this.camera),a.pixelX=Math.round(e.x*t+t),a.pixelY=Math.round(-e.y*n+n)):a.pixelX=a.pixelY=NaN,{x:a.pixelX,y:a.pixelY}};this.cloudData.forEach((e,t)=>{r(e,t)})}dispose(){this.scene.clear(),this.camera.clear(),this.controls.dispose(),this.renderer.dispose(),this.renderer.getContext().getExtension("WEBGL_lose_context")?.loseContext()}resize(e,t){this.width=e,this.height=t,this.renderer.setSize(e,t),this.render()}setPointSize(e){this.pointSize=e,this.cloudObject.material.size=e,this.render()}setShaderMode(e){this.shaderMode=e;let t=[];this.pcd?.label&&this.pcd.label.forEach((e,n)=>{if(this.cloudData[n]){this.cloudData[n].labelIndex=e;let r=gq(this.getPointColor(n));t.push(r[0],r[1],r[2])}}),this.cloudObject.geometry.setAttribute("color",new dC(t,3)),this.render()}setViewMode(e){"3d"===e?(this.cameraMode="perspective",this.initCamera()):"top"===e&&(this.cameraMode="orthographic",this.initCamera(),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=0)}getCube(e){return this.cubeObjects.get(e)}removeCube(e){let t=this.cubeObjects.get(e);t&&(this.scene.remove(t),this.render(),this.cubeObjects.delete(e),this.objectUUIDMaps.delete(t.uuid))}updateCubeFaceProjection(){}unproject(e,t){if(!(t instanceof d9))return e.unproject(t);{let n=new cs;e.unproject(t),e.sub(t.position).normalize();let r=-t.position.z/e.z;return n.copy(t.position).add(e.multiplyScalar(r)),n}}constructor(){this.raycaster=new gu,this.frustum=new hl,this.sphere=new cP,this.cloudData=[],this.cubeObjects=new Map,this.objectUUIDMaps=new Map,this.highlightedIndex=-1,this.intersects=[],this.pointer=new u$,this.projection=new Map,this.frustumIndices=new Set,this.visibleIndices=new Set,this.hiddenIndices=new Set,this.selectedIndices=[],this.shaderMode="gray",this.cameraMode="perspective",this.orbiting=!1,this.pointSize=2,this.cameraPosition="front",this.cameraSlope=0,this.cameraPresetTarget="visible",this.tween=!1,this.tweenDuration=500,this.cameraState={moving:!1,position:0,originalTarget:new cs,fromTheta:0,toTheta:0,rangeTheta:0,fromPhi:0,toPhi:0,rangePhi:0,fromRadius:0,toRadius:0,rangeRadius:0,fromX:0,toX:0,fromY:0,toY:0,fromZ:0,toZ:0,rangeX:0,rangeY:0,rangeZ:0},this.endCameraTween=()=>{this.cameraState.moving=!1},this.cameraTween=new uR(this.cameraState).onStop(this.endCameraTween).onComplete(this.endCameraTween),this.hslColorMap=g$(),this.animate=e=>{this.updateCamera(e),this.updateRaycaster(),requestAnimationFrame(e=>this.animate(e))},this.render=()=>{this.renderer.render(this.scene,this.camera)},this.onMouseMove=e=>{let{left:t,top:n}=this.container.getBoundingClientRect();this.pointer.x=(e.pageX-t)/this.width*2-1,this.pointer.y=-(2*((e.pageY-n)/this.height))+1}}}function g5(e){this.serverMode=!1}g5.prototype={constructor:g5,load:function(e,t,n,r){var i=this,a=new mK(i.manager);a.setResponseType("arraybuffer"),a.load(e,function(n){t(i.parse(n,e))},n,r)},parse:function(e,t){var n=m8.decodeText(e),r=function(e){var t={},n=e.search(/[\r\n]DATA\s(\S*)\s/i),r=/[\r\n]DATA\s(\S*)\s/i.exec(e.substr(n-1));t.data=r[1],t.headerLen=r[0].length+n,t.str=e.substr(0,t.headerLen),t.str=t.str.replace(/\#.*/gi,""),t.version=/VERSION (.*)/i.exec(t.str),t.fields=/FIELDS (.*)/i.exec(t.str),t.size=/SIZE (.*)/i.exec(t.str),t.type=/TYPE (.*)/i.exec(t.str),t.count=/COUNT (.*)/i.exec(t.str),t.width=/WIDTH (.*)/i.exec(t.str),t.height=/HEIGHT (.*)/i.exec(t.str),t.viewpoint=/VIEWPOINT (.*)/i.exec(t.str),t.points=/POINTS (.*)/i.exec(t.str),null!==t.version&&(t.version=parseFloat(t.version[1])),null!==t.fields&&(t.fields=t.fields[1].split(" ")),null!==t.type&&(t.type=t.type[1].split(" ")),null!==t.width&&(t.width=parseInt(t.width[1])),null!==t.height&&(t.height=parseInt(t.height[1])),null!==t.viewpoint&&(t.viewpoint=t.viewpoint[1]),null!==t.points&&(t.points=parseInt(t.points[1],10)),null===t.points&&(t.points=t.width*t.height),null!==t.size&&(t.size=t.size[1].split(" ").map(function(e){return parseInt(e,10)}));let i=t.viewpoint.split(" ");if(t.viewpoint={tx:i[0],ty:i[1],tz:i[2],qw:i[3],qx:i[4],qy:i[5],qz:i[6]},null!==t.count)t.count=t.count[1].split(" ").map(function(e){return parseInt(e,10)});else{t.count=[];for(let e=0,n=t.fields.length;e<n;e++)t.count.push(1)}t.offset={};var a=0;for(let e=0,n=t.fields.length;e<n;e++)"ascii"===t.data?t.offset[t.fields[e]]=e:(t.offset[t.fields[e]]=a,a+=t.size[e]);return t.rowSize=a,t}(n),i=[],a=[],o=[],s=[],l=[],u=[];if("ascii"===r.data){let e,t;let b=new cs(parseFloat(r.viewpoint.tx),parseFloat(r.viewpoint.ty),parseFloat(r.viewpoint.tz)),_=new co(r.viewpoint.qx,r.viewpoint.qy,r.viewpoint.qz,r.viewpoint.qw);for(var c=r.offset,d=n.substr(r.headerLen).split("\n"),h=0,f=d.length-1;h<f;h++){if(""==d[h])continue;var p=d[h].split(" ");t={},l.push(t),e=new cs(parseFloat(p[c.x]),parseFloat(p[c.y]),parseFloat(p[c.z]));let n=p[c.intensity];if(this.serverMode||(e=e.sub(b)).applyQuaternion(_),t.x=e.x,i.push(e.x),t.y=e.y,i.push(e.y),t.z=e.z,i.push(e.z),t.intensity=n,s.push(n),void 0!==c.label){let e=parseInt(p[c.label])||-1;t.classIndex=e,o.push(e)}else t.classIndex=-1,o.push(-1);if(void 0!=c.rgb){var m=parseInt(p[c.rgb]),g=m>>16&255,v=m>>8&255,y=255&m;rgb.push([g,v,y])}if(a.push(0),a.push(0),a.push(0),void 0!==c.object){let e=parseInt(p[c.object])||0;t.objectId=e,u.push(e)}else t.objectId=0,u.push(0)}}if("binary_compressed"===r.data){let t,n;var b=new DataView(e.slice(r.headerLen,r.headerLen+8)),_=b.getUint32(0,!0),x=b.getUint32(4,!0),S=function(e,t){var n,r,i,a=e.length,o=new Uint8Array(t),s=0,l=0;do if((n=e[s++])<32){if(l+ ++n>t)throw Error("Output buffer is not large enough");if(s+n>a)throw Error("Invalid compressed data");do o[l++]=e[s++];while(--n)}else{if(r=n>>5,i=l-((31&n)<<8)-1,s>=a||7===r&&(r+=e[s++],s>=a))throw Error("Invalid compressed data");if(i-=e[s++],l+r+2>t)throw Error("Output buffer is not large enough");if(i<0||i>=l)throw Error("Invalid compressed data");do o[l++]=o[i++];while(--r+2)}while(s<a)return o}(new Uint8Array(e,r.headerLen+8,_),x);b=new DataView(S.buffer);var c=r.offset;let d=new cs(parseFloat(r.viewpoint.tx),parseFloat(r.viewpoint.ty),parseFloat(r.viewpoint.tz)),f=new co(r.viewpoint.qx,r.viewpoint.qy,r.viewpoint.qz,r.viewpoint.qw);for(var h=0;h<r.points;h++){n={},l.push(n);let e=b.getFloat32(r.points*c.x+r.size[0]*h,!0),m=b.getFloat32(r.points*c.y+r.size[1]*h,!0),g=b.getFloat32(r.points*c.z+r.size[2]*h,!0),v=b.getFloat32(r.points*c.intensity+r.size[3]*h,!0);if(t=new cs(e,m,g),this.serverMode||(t=t.sub(d)).applyQuaternion(f),n.x=t.x,i.push(t.x),n.y=t.y,i.push(t.y),n.z=t.z,i.push(t.z),n.intensity=v,s.push(v),void 0!==c.label){let e=b.getUint8(r.points*c.label+r.size[3]*h);n.classIndex=e,o.push(e)}else n.classIndex=-1,o.push(-1);if(a.push(0),a.push(0),a.push(0),void 0!==c.object){let e=parseInt(p[c.object])||0;n.objectId=e,u.push(e)}else n.objectId=0,u.push(0)}}if("binary"===r.data){let t,n;var b=new DataView(e,r.headerLen),c=r.offset;let d=new cs(parseFloat(r.viewpoint.tx),parseFloat(r.viewpoint.ty),parseFloat(r.viewpoint.tz)),f=new co(r.viewpoint.qx,r.viewpoint.qy,r.viewpoint.qz,r.viewpoint.qw);for(var h=0,w=0;h<r.points;h++,w+=r.rowSize){n={},l.push(n);let e=b.getFloat32(w+c.x,!0),r=b.getFloat32(w+c.y,!0),h=b.getFloat32(w+c.z,!0),m=b.getFloat32(w+c.intensity,!0);if(t=new cs(e,r,h),this.serverMode||(t=t.sub(d)).applyQuaternion(f),n.x=t.x,i.push(t.x),n.y=t.y,i.push(t.y),n.z=t.z,i.push(t.z),n.intensity=m,s.push(m),void 0!==c.label){let e=b.getUint8(w+c.label);n.classIndex=e,o.push(e)}else n.classIndex=-1,o.push(-1);if(a.push(0),a.push(0),a.push(0),void 0!==c.object){let e=parseInt(p[c.object])||0;n.objectId=e,u.push(e)}else n.objectId=0,u.push(0)}}var E=new dI;if(i.length>0&&E.setAttribute("position",new dC(i,3)),o.length>0&&E.setAttribute("label",new dE(o,3)),a.length>0){let e=new dC(a,3);E.setAttribute("color",e)}E.computeBoundingSphere();var M=new pA({size:2,color:15313263});M.sizeAttenuation=!1;var T=new pN(E,M),C=t.split("").reverse().join("");return C=(C=/([^\/]*)/.exec(C))[1].split("").reverse().join(""),T.name=t,{position:i,label:o,header:r,object:u,intensity:s}}};var I=N("ayMG0");N("acw62");var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),o8=N("jTnBY"),ob=N("d8seH"),o_=N("6g9fa"),oj=N("beCSm"),oB=N("4Cod0");function g4(e){return(0,oB.default)("MuiButtonGroup",e)}const g6=(0,oj.default)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var I=N("ayMG0");const g8=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],g9=e=>{let{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:a,orientation:o,variant:s}=e,l={root:["root",s,"vertical"===o&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${(0,o8.default)(o)}`,`grouped${(0,o8.default)(s)}`,`grouped${(0,o8.default)(s)}${(0,o8.default)(o)}`,`grouped${(0,o8.default)(s)}${(0,o8.default)(n)}`,r&&"disabled"]};return(0,ov.default)(l,g4,t)},g7=(0,ob.default)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${g6.grouped}`]:t.grouped},{[`& .${g6.grouped}`]:t[`grouped${(0,o8.default)(n.orientation)}`]},{[`& .${g6.grouped}`]:t[`grouped${(0,o8.default)(n.variant)}`]},{[`& .${g6.grouped}`]:t[`grouped${(0,o8.default)(n.variant)}${(0,o8.default)(n.orientation)}`]},{[`& .${g6.grouped}`]:t[`grouped${(0,o8.default)(n.variant)}${(0,o8.default)(n.color)}`]},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})(({theme:e,ownerState:t})=>(0,oe.default)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${g6.grouped}`]:(0,oe.default)({minWidth:40,"&:not(:first-of-type)":(0,oe.default)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,oe.default)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g6.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g6.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:(0,oy.alpha)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${g6.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${g6.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":(0,oe.default)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,oe.default)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"})})),ve=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiButtonGroup"}),{children:r,className:i,color:a="primary",component:o="div",disabled:s=!1,disableElevation:l=!1,disableFocusRipple:u=!1,disableRipple:c=!1,fullWidth:d=!1,orientation:h="horizontal",size:f="medium",variant:p="outlined"}=n,m=(0,ot.default)(n,g8),g=(0,oe.default)({},n,{color:a,component:o,disabled:s,disableElevation:l,disableFocusRipple:u,disableRipple:c,fullWidth:d,orientation:h,size:f,variant:p}),v=g9(g),y=n1.useMemo(()=>({className:v.grouped,color:a,disabled:s,disableElevation:l,disableFocusRipple:u,disableRipple:c,fullWidth:d,size:f,variant:p}),[a,s,l,u,c,d,f,p,v.grouped]);return(0,I.jsx)(g7,(0,oe.default)({as:o,role:"group",className:(0,on.default)(v.root,i),ref:t,ownerState:g},m,{children:(0,I.jsx)(sf.Provider,{value:y,children:r})}))});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oe=N("8nd05"),n1=(N("acw62"),N("acw62")),vt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function vn(e,t){return e-t}function vr(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function vi(e,t){var n;let{index:r}=null!=(n=e.reduce((e,n,r)=>{let i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e},null))?n:{};return r}function va(e,t){if(void 0!==t.current&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){let r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function vo({values:e,newValue:t,index:n}){let r=e.slice();return r[n]=t,r.sort(vn)}function vs({sliderRef:e,activeIndex:t,setActive:n}){var r,i,a;let o=sI(e.current);null!=(r=e.current)&&r.contains(o.activeElement)&&Number(null==o?void 0:null==(i=o.activeElement)?void 0:i.getAttribute("data-index"))===t||null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus(),n&&n(t)}function vl(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&function(e,t,n=(e,t)=>e===t){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}(e,t)}const vu={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},vc=e=>e;function vd(){return void 0===a&&(a="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),a}var oy=N("jgarO"),o_=N("6g9fa"),ob=N("d8seH"),vh=e=>!e||!s$(e),o8=N("jTnBY"),n1=N("acw62"),on=N("1SA7b"),oj=N("beCSm"),oB=N("4Cod0");function vf(e){return(0,oB.default)("MuiSlider",e)}const vp=(0,oj.default)("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);var I=N("ayMG0");const vm=e=>{let{open:t}=e,n={offset:(0,on.default)(t&&vp.valueLabelOpen),circle:vp.valueLabelCircle,label:vp.valueLabelLabel};return n};var I=N("ayMG0");const vg=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function vv(e){return e}const vy=(0,ob.default)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`color${(0,o8.default)(n.color)}`],"medium"!==n.size&&t[`size${(0,o8.default)(n.size)}`],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(({theme:e,ownerState:t})=>(0,oe.default)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===t.orientation&&(0,oe.default)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===t.size&&{height:2},t.marked&&{marginBottom:20}),"vertical"===t.orientation&&(0,oe.default)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===t.size&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${vp.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${vp.dragging}`]:{[`& .${vp.thumb}, & .${vp.track}`]:{transition:"none"}}})),vb=(0,ob.default)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>(0,oe.default)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1})),v_=(0,ob.default)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?(0,oy.lighten)(e.palette[t.color].main,.62):(0,oy.darken)(e.palette[t.color].main,.5);return(0,oe.default)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{border:"none"},"horizontal"===t.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===t.track&&{display:"none"},"inverted"===t.track&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),vx=(0,ob.default)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.thumb,t[`thumbColor${(0,o8.default)(n.color)}`],"medium"!==n.size&&t[`thumbSize${(0,o8.default)(n.size)}`]]}})(({theme:e,ownerState:t})=>(0,oe.default)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{width:12,height:12},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":(0,oe.default)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"small"===t.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${vp.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:(0,oy.alpha)(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${vp.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:(0,oy.alpha)(e.palette[t.color].main,.16)}`},[`&.${vp.disabled}`]:{"&:hover":{boxShadow:"none"}}})),vS=(0,ob.default)(function(e){let{children:t,className:n,value:r}=e,i=vm(e);return t?n1.cloneElement(t,{className:(0,on.default)(t.props.className)},(0,I.jsxs)(n1.Fragment,{children:[t.props.children,(0,I.jsx)("span",{className:(0,on.default)(i.offset,n),"aria-hidden":!0,children:(0,I.jsx)("span",{className:i.circle,children:(0,I.jsx)("span",{className:i.label,children:r})})})]})):null},{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>(0,oe.default)({[`&.${vp.valueLabelOpen}`]:{transform:`${"vertical"===t.orientation?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${"vertical"===t.orientation?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===t.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===t.orientation&&{right:"small"===t.size?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},"small"===t.size&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),vw=(0,ob.default)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>(0,ob.slotShouldForwardProp)(e)&&"markActive"!==e,overridesResolver:(e,t)=>{let{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>(0,oe.default)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),vE=(0,ob.default)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>(0,ob.slotShouldForwardProp)(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>(0,oe.default)({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===t.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===t.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),vM=e=>{let{disabled:t,dragging:n,marked:r,orientation:i,track:a,classes:o,color:s,size:l}=e,u={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse",s&&`color${(0,o8.default)(s)}`,l&&`size${(0,o8.default)(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${(0,o8.default)(l)}`,s&&`thumbColor${(0,o8.default)(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,ov.default)(u,vf,o)},vT=({children:e})=>e,vC=n1.forwardRef(function(e,t){var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M;let T=(0,o_.default)({props:e,name:"MuiSlider"}),C=ln(),P="rtl"===C.direction,{"aria-label":A,"aria-valuetext":R,"aria-labelledby":O,component:k="span",components:L={},componentsProps:N={},color:D="primary",classes:U,className:z,disableSwap:F=!1,disabled:j=!1,getAriaLabel:B,getAriaValueText:V,marks:G=!1,max:H=100,min:W=0,orientation:X="horizontal",size:$="medium",step:q=1,scale:Y=vv,slotProps:K,slots:Z,track:Q="normal",valueLabelDisplay:J="off",valueLabelFormat:ee=vv}=T,et=(0,ot.default)(T,vg),en=(0,oe.default)({},T,{isRtl:P,max:H,min:W,classes:U,disabled:j,disableSwap:F,orientation:X,marks:G,color:D,size:$,step:q,scale:Y,track:Q,valueLabelDisplay:J,valueLabelFormat:ee}),{axisProps:er,getRootProps:ei,getHiddenInputProps:ea,getThumbProps:eo,open:es,active:el,axis:eu,focusedThumbIndex:ec,range:ed,dragging:eh,marks:ef,values:ep,trackOffset:em,trackLeap:eg}=function(e){let{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:d,orientation:h="horizontal",rootRef:f,scale:p=vc,step:m=1,tabIndex:g,value:v}=e,y=n1.useRef(),[b,_]=n1.useState(-1),[x,S]=n1.useState(-1),[w,E]=n1.useState(!1),M=n1.useRef(0),[T,C]=function({controlled:e,default:t,name:n,state:r="value"}){let{current:i}=n1.useRef(void 0!==e),[a,o]=n1.useState(t),s=i?e:a,l=n1.useCallback(e=>{i||o(e)},[]);return[s,l]}({controlled:v,default:null!=n?n:l,name:"Slider"}),P=c&&((e,t,n)=>{let r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:u}}),c(i,t,n)}),A=Array.isArray(T),R=A?T.slice().sort(vn):[T];R=R.map(e=>vr(e,l,s));let O=!0===o&&null!==m?[...Array(Math.floor((s-l)/m)+1)].map((e,t)=>({value:l+m*t})):o||[],k=O.map(e=>e.value),{isFocusVisibleRef:L,onBlur:N,onFocus:I,ref:D}=oO(),[U,z]=n1.useState(-1),F=n1.useRef(),j=oS(D,F),B=oS(f,j),V=e=>t=>{var n;let r=Number(t.currentTarget.getAttribute("data-index"));I(t),!0===L.current&&z(r),S(r),null==e||null==(n=e.onFocus)||n.call(e,t)},G=e=>t=>{var n;N(t),!1===L.current&&z(-1),S(-1),null==e||null==(n=e.onBlur)||n.call(e,t)};ow(()=>{if(r&&F.current.contains(document.activeElement)){var e;null==(e=document.activeElement)||e.blur()}},[r]),r&&-1!==b&&_(-1),r&&-1!==U&&z(-1);let H=e=>t=>{var n;null==(n=e.onChange)||n.call(e,t);let r=Number(t.currentTarget.getAttribute("data-index")),a=R[r],o=k.indexOf(a),u=t.target.valueAsNumber;if(O&&null==m){let e=k[k.length-1];u=u>e?e:u<k[0]?k[0]:u<a?k[o-1]:k[o+1]}if(u=vr(u,l,s),A){i&&(u=vr(u,R[r-1]||-1/0,R[r+1]||1/0));let e=u;u=vo({values:R,newValue:u,index:r});let t=r;i||(t=u.indexOf(e)),vs({sliderRef:F,activeIndex:t})}C(u),z(r),P&&!vl(u,T)&&P(t,u,r),d&&d(t,u)},W=n1.useRef(),X=h;a&&"horizontal"===h&&(X+="-reverse");let $=({finger:e,move:t=!1})=>{let n,r;let{current:a}=F,{width:o,height:u,bottom:c,left:d}=a.getBoundingClientRect();if(n=0===X.indexOf("vertical")?(c-e.y)/u:(e.x-d)/o,-1!==X.indexOf("-reverse")&&(n=1-n),r=(s-l)*n+l,m)r=function(e,t,n){let r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(1>Math.abs(e)){let t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}let t=e.toString().split(".")[1];return t?t.length:0}(t)))}(r,m,l);else{let e=vi(k,r);r=k[e]}r=vr(r,l,s);let h=0;if(A){h=t?W.current:vi(R,r),i&&(r=vr(r,R[h-1]||-1/0,R[h+1]||1/0));let e=r;r=vo({values:R,newValue:r,index:h}),i&&t||(h=r.indexOf(e),W.current=h)}return{newValue:r,activeIndex:h}},q=oE(e=>{let t=va(e,y);if(!t)return;if(M.current+=1,"mousemove"===e.type&&0===e.buttons){Y(e);return}let{newValue:n,activeIndex:r}=$({finger:t,move:!0});vs({sliderRef:F,activeIndex:r,setActive:_}),C(n),!w&&M.current>2&&E(!0),P&&!vl(n,T)&&P(e,n,r)}),Y=oE(e=>{let t=va(e,y);if(E(!1),!t)return;let{newValue:n}=$({finger:t,move:!0});_(-1),"touchend"===e.type&&S(-1),d&&d(e,n),y.current=void 0,Z()}),K=oE(e=>{if(r)return;vd()||e.preventDefault();let t=e.changedTouches[0];null!=t&&(y.current=t.identifier);let n=va(e,y);if(!1!==n){let{newValue:t,activeIndex:r}=$({finger:n});vs({sliderRef:F,activeIndex:r,setActive:_}),C(t),P&&!vl(t,T)&&P(e,t,r)}M.current=0;let i=sI(F.current);i.addEventListener("touchmove",q),i.addEventListener("touchend",Y)}),Z=n1.useCallback(()=>{let e=sI(F.current);e.removeEventListener("mousemove",q),e.removeEventListener("mouseup",Y),e.removeEventListener("touchmove",q),e.removeEventListener("touchend",Y)},[Y,q]);n1.useEffect(()=>{let{current:e}=F;return e.addEventListener("touchstart",K,{passive:vd()}),()=>{e.removeEventListener("touchstart",K,{passive:vd()}),Z()}},[Z,K]),n1.useEffect(()=>{r&&Z()},[r,Z]);let Q=e=>t=>{var n;if(null==(n=e.onMouseDown)||n.call(e,t),r||t.defaultPrevented||0!==t.button)return;t.preventDefault();let i=va(t,y);if(!1!==i){let{newValue:e,activeIndex:n}=$({finger:i});vs({sliderRef:F,activeIndex:n,setActive:_}),C(e),P&&!vl(e,T)&&P(t,e,n)}M.current=0;let a=sI(F.current);a.addEventListener("mousemove",q),a.addEventListener("mouseup",Y)},J=((A?R[0]:l)-l)*100/(s-l),ee=(R[R.length-1]-l)*100/(s-l)-J,et=e=>t=>{var n;null==(n=e.onMouseOver)||n.call(e,t);let r=Number(t.currentTarget.getAttribute("data-index"));S(r)},en=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),S(-1)};return{active:b,axis:X,axisProps:vu,dragging:w,focusedThumbIndex:U,getHiddenInputProps:(n={})=>{var i;let o={onChange:H(n||{}),onFocus:V(n||{}),onBlur:G(n||{})},c=(0,oe.default)({},n,o);return(0,oe.default)({tabIndex:g,"aria-labelledby":t,"aria-orientation":h,"aria-valuemax":p(s),"aria-valuemin":p(l),name:u,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(i=e.step)?i:void 0,disabled:r},c,{style:(0,oe.default)({},vt,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{let t={onMouseDown:Q(e||{})},n=(0,oe.default)({},e,t);return(0,oe.default)({ref:B},n)},getThumbProps:(e={})=>{let t={onMouseOver:et(e||{}),onMouseLeave:en(e||{})};return(0,oe.default)({},e,t)},marks:O,open:x,range:A,rootRef:B,trackLeap:ee,trackOffset:J,values:R}}((0,oe.default)({},en,{rootRef:t}));en.marked=ef.length>0&&ef.some(e=>e.label),en.dragging=eh,en.focusedThumbIndex=ec;let ev=vM(en),ey=null!=(n=null!=(r=null==Z?void 0:Z.root)?r:L.Root)?n:vy,eb=null!=(i=null!=(a=null==Z?void 0:Z.rail)?a:L.Rail)?i:vb,e_=null!=(o=null!=(s=null==Z?void 0:Z.track)?s:L.Track)?o:v_,ex=null!=(l=null!=(u=null==Z?void 0:Z.thumb)?u:L.Thumb)?l:vx,eS=null!=(c=null!=(d=null==Z?void 0:Z.valueLabel)?d:L.ValueLabel)?c:vS,ew=null!=(h=null!=(f=null==Z?void 0:Z.mark)?f:L.Mark)?h:vw,eE=null!=(p=null!=(m=null==Z?void 0:Z.markLabel)?m:L.MarkLabel)?p:vE,eM=null!=(g=null!=(v=null==Z?void 0:Z.input)?v:L.Input)?g:"input",eT=null!=(y=null==K?void 0:K.root)?y:N.root,eC=null!=(b=null==K?void 0:K.rail)?b:N.rail,eP=null!=(_=null==K?void 0:K.track)?_:N.track,eA=null!=(x=null==K?void 0:K.thumb)?x:N.thumb,eR=null!=(S=null==K?void 0:K.valueLabel)?S:N.valueLabel,eO=null!=(w=null==K?void 0:K.mark)?w:N.mark,ek=null!=(E=null==K?void 0:K.markLabel)?E:N.markLabel,eL=null!=(M=null==K?void 0:K.input)?M:N.input,eN=sZ({elementType:ey,getSlotProps:ei,externalSlotProps:eT,externalForwardedProps:et,additionalProps:(0,oe.default)({},vh(ey)&&{as:k}),ownerState:(0,oe.default)({},en,null==eT?void 0:eT.ownerState),className:[ev.root,z]}),eI=sZ({elementType:eb,externalSlotProps:eC,ownerState:en,className:ev.rail}),eD=sZ({elementType:e_,externalSlotProps:eP,additionalProps:{style:(0,oe.default)({},er[eu].offset(em),er[eu].leap(eg))},ownerState:(0,oe.default)({},en,null==eP?void 0:eP.ownerState),className:ev.track}),eU=sZ({elementType:ex,getSlotProps:eo,externalSlotProps:eA,ownerState:(0,oe.default)({},en,null==eA?void 0:eA.ownerState),className:ev.thumb}),ez=sZ({elementType:eS,externalSlotProps:eR,ownerState:(0,oe.default)({},en,null==eR?void 0:eR.ownerState),className:ev.valueLabel}),eF=sZ({elementType:ew,externalSlotProps:eO,ownerState:en,className:ev.mark}),ej=sZ({elementType:eE,externalSlotProps:ek,ownerState:en,className:ev.markLabel}),eB=sZ({elementType:eM,getSlotProps:ea,externalSlotProps:eL,ownerState:en});return(0,I.jsxs)(ey,(0,oe.default)({},eN,{children:[(0,I.jsx)(eb,(0,oe.default)({},eI)),(0,I.jsx)(e_,(0,oe.default)({},eD)),ef.filter(e=>e.value>=W&&e.value<=H).map((e,t)=>{let n;let r=(e.value-W)*100/(H-W),i=er[eu].offset(r);return n=!1===Q?-1!==ep.indexOf(e.value):"normal"===Q&&(ed?e.value>=ep[0]&&e.value<=ep[ep.length-1]:e.value<=ep[0])||"inverted"===Q&&(ed?e.value<=ep[0]||e.value>=ep[ep.length-1]:e.value>=ep[0]),(0,I.jsxs)(n1.Fragment,{children:[(0,I.jsx)(ew,(0,oe.default)({"data-index":t},eF,!s$(ew)&&{markActive:n},{style:(0,oe.default)({},i,eF.style),className:(0,on.default)(eF.className,n&&ev.markActive)})),null!=e.label?(0,I.jsx)(eE,(0,oe.default)({"aria-hidden":!0,"data-index":t},ej,!s$(eE)&&{markLabelActive:n},{style:(0,oe.default)({},i,ej.style),className:(0,on.default)(ev.markLabel,ej.className,n&&ev.markLabelActive),children:e.label})):null]},t)}),ep.map((e,t)=>{let n=(e-W)*100/(H-W),r=er[eu].offset(n),i="off"===J?vT:eS;return(0,I.jsx)(i,(0,oe.default)({},!s$(i)&&{valueLabelFormat:ee,valueLabelDisplay:J,value:"function"==typeof ee?ee(Y(e),t):ee,index:t,open:es===t||el===t||"on"===J,disabled:j},ez,{children:(0,I.jsx)(ex,(0,oe.default)({"data-index":t},eU,{className:(0,on.default)(ev.thumb,eU.className,el===t&&ev.active,ec===t&&ev.focusVisible),style:(0,oe.default)({},r,{pointerEvents:F&&el!==t?"none":void 0},eU.style),children:(0,I.jsx)(eM,(0,oe.default)({"data-index":t,"aria-label":B?B(t):A,"aria-valuenow":Y(e),"aria-labelledby":O,"aria-valuetext":V?V(Y(e),t):R,value:ep[t]},eB))}))}),t)})]}))}),vP=rP(()=>{let e=vO();return(0,I.jsxs)("div",{className:"cloud-settings",style:{color:"#fff",position:"absolute",top:0,left:20},children:[(0,I.jsxs)(og,{display:"inline-block",marginRight:20,children:[(0,I.jsx)("p",{children:"camera position"}),(0,I.jsxs)(ve,{size:"small",variant:"contained",children:[(0,I.jsx)(s_,{onClick:()=>{e.cameraPosition="front",e.moveCamera()},children:"front"}),(0,I.jsx)(s_,{onClick:()=>{e.cameraPosition="side",e.moveCamera()},children:"side"}),(0,I.jsx)(s_,{onClick:()=>{e.cameraPosition="top",e.moveCamera()},children:"top"})]})]}),(0,I.jsxs)(og,{display:"inline-block",marginRight:20,children:[(0,I.jsx)("p",{children:"shader mode"}),(0,I.jsxs)(ve,{size:"small",variant:"contained",children:[(0,I.jsx)(s_,{onClick:()=>{e.setShaderMode("gray")},children:"gray"}),(0,I.jsx)(s_,{onClick:()=>{e.setShaderMode("intensity")},children:"intensity"}),(0,I.jsx)(s_,{disabled:!0,children:"height"})]})]}),(0,I.jsxs)(og,{display:"inline-block",marginRight:20,children:[(0,I.jsx)("p",{children:"view mode"}),(0,I.jsxs)(ve,{size:"small",variant:"contained",children:[(0,I.jsx)(s_,{onClick:()=>{e.setViewMode("3d"),e.moveCamera()},children:"3D view"}),(0,I.jsx)(s_,{onClick:()=>{e.setViewMode("top"),e.moveCamera()},children:"top view"})]})]}),(0,I.jsxs)(og,{display:"inline-block",width:200,marginRight:20,children:[(0,I.jsx)("p",{children:"point size"}),(0,I.jsx)(vC,{size:"small",valueLabelDisplay:"auto",min:1,max:10,onChange:(t,n)=>e.setPointSize(n)})]})]})}),vA=new g5(!1),vR=(0,n1.createContext)(new g3),vO=()=>(0,n1.useContext)(vR),vk=rP((0,n1.forwardRef)(({settings:e=!1,pcdUrl:t,children:n,cameraPosition:r,cameraMode:i},a)=>{let o=a4(),s=(0,n1.useRef)(null),l=(0,n1.useRef)(new g3),u=l.current;return(0,n1.useImperativeHandle)(a,()=>({cloud:l.current})),(0,n1.useLayoutEffect)(()=>{u.init({canvas:s.current.sourceCanvasRef.current,container:s.current.containerRef.current,width:s.current.width,height:s.current.height}),u.setViewMode("perspective"===i?"3d":"top"),u.cameraPreset(r)},[]),(0,n1.useEffect)(()=>{t&&vA.load(t,e=>{u.renderPCDFile(e),u.moveCamera()})},[t]),(0,I.jsxs)(vR.Provider,{value:u,children:[(0,I.jsx)(uw,{ref:s,width:"100%",height:"100%",onMouseDown:e=>{0===e.button&&"unknown"===o.mouseAction&&o.selectedClassification&&o.setMouseAction("draw")},onDrawStart:({offset:e,startX:t,startY:n})=>{let{selectedClassification:r}=o,i=t/e.width*2-1,a=-(2*(n/e.height))+1,s=u.unproject(new cs(i,a,0),u.camera);o.createElement({type:"cube",position:{x:s.x,y:s.y,z:s.y},color:r.color,key:r.id,value:{size:{width:.01,height:1,depth:.01},rotation:{x:0,y:0,z:0},position:{x:s.x,y:s.y,z:s.z}}})},onDraw:({offset:e,startX:t,startY:n,currentX:r,currentY:i})=>{let a={x:t/e.width*2-1,y:-(2*(n/e.height))+1,z:0},s={x:r/e.width*2-1,y:-(2*(i/e.height))+1,z:0},l=u.unproject(new cs(a.x,a.y,a.z),u.camera),c=u.unproject(new cs(s.x,s.y,s.z),u.camera),d=c.x-l.x,h=c.y-l.y,f=u.camera.rotation.z,p=Math.PI/2-Math.atan(-(d/h*1))+f,m=c.distanceTo(l),g={width:Math.abs(m*Math.cos(p)),length:Math.abs(m*Math.sin(p)),height:1},v=l.clone().add(c).divideScalar(2).setZ(g.height/2),y=s.y-a.y>0?1:-1,b={x:0,y:0,z:u.camera.rotation.z+(-1===y?Math.PI:0)},_=o.creatingElement;_.resizeX(g.width),_.resizeY(g.length),_.reposition(v.x,v.y,v.z),_.rotateZ(b.z)},onDrawEnd:()=>{o.setMouseAction("unknown"),o.createdElement()},children:n}),e&&(0,I.jsx)(vP,{})]})}));var I=N("ayMG0"),n1=N("acw62");const vL={x:0,y:0,pageX:0,pageY:0},vN=O(n1).createContext({pointer:vL});var vI=({style:e,children:t,title:n})=>{let{height:r,...i}=e||{};return(0,I.jsx)(vN.Provider,{value:{pointer:vL},children:(0,I.jsxs)("div",{className:"slt-sub-view",style:{...i,position:"absolute"},children:[(0,I.jsx)("div",{className:"header",style:{color:"#fff"},children:n}),(0,I.jsx)("div",{className:"content",style:{height:r},children:t})]})})},I=N("ayMG0");N("acw62");var vD=({children:e,height:t="100%"})=>(0,I.jsx)("div",{className:"slt-view",style:{position:"relative",height:t},children:e}),n1=N("acw62");"use strict";const vU=rP(({element:e,draggable:t=!1})=>{let n=vO(),r=e.id;return(0,n1.useEffect)(()=>{n.renderCube(e);let t=n.getCube(e.id),i=[tK(()=>e.color,()=>{}),tK(()=>e.value.position.x,e=>{t?.position.setX(e),n.render()}),tK(()=>e.value.position.y,e=>{t?.position.setY(e),n.render()}),tK(()=>e.value.position.z,e=>{t?.position.setZ(e),n.render()}),tK(()=>e.value.size.width,e=>{t?.scale.setX(e/.01),n.render()}),tK(()=>e.value.size.depth,e=>{t?.scale.setY(e/.01),n.render()}),tK(()=>e.value.size.height,e=>{t?.scale.setZ(e/.01),n.render()}),tK(()=>e.value.rotation.x,e=>{t?.rotateX(e),n.render()}),tK(()=>e.value.rotation.y,e=>{t?.rotateY(e),n.render()}),tK(()=>e.value.rotation.z,e=>{t?.rotateZ(e),n.render()})];return()=>{n.removeCube(r),i.forEach(e=>e())}},[]),null}),vz=rP(({width:e="100%",height:t="100%",pcdUrl:n})=>{let r=(0,n1.useRef)(null),i=(0,n1.useRef)(null),a=(0,n1.useRef)(null),o=(0,n1.useRef)(null),s=a4();return(0,n1.useEffect)(()=>{o.current.cloud.controls.enableRotate=!1,a.current.cloud.controls.enableRotate=!1,i.current.cloud.controls.enableRotate=!1},[]),(0,I.jsx)("div",{className:"slt-3d",style:{width:e,height:t},children:(0,I.jsxs)(vD,{children:[(0,I.jsxs)(vk,{ref:r,pcdUrl:n,cameraPosition:"front",cameraMode:"perspective",settings:!0,children:[s.elements.filter(e=>"cube"===e.type).map(e=>(0,I.jsx)(vU,{element:e,onMouseDown:()=>{s.setSelectedElement(e.id),s.setMouseAction("select")}},e.uuid)),s.creatingElement?.type==="cube"&&(0,I.jsx)(vU,{element:s.creatingElement},s.creatingElement.uuid)]}),(0,I.jsx)(vI,{title:"top view",style:{width:300,height:200,left:0,bottom:0,border:"1px solid #fff"},children:(0,I.jsx)(vk,{ref:i,pcdUrl:n,cameraPosition:"top",cameraMode:"orthographic"})}),(0,I.jsx)(vI,{title:"side view",style:{width:300,height:200,left:300,bottom:0,border:"1px solid #fff"},children:(0,I.jsx)(vk,{ref:a,pcdUrl:n,cameraPosition:"side",cameraMode:"orthographic"})}),(0,I.jsx)(vI,{title:"front view",style:{width:300,height:200,left:600,bottom:0,border:"1px solid #fff"},children:(0,I.jsx)(vk,{ref:o,pcdUrl:n,cameraPosition:"front",cameraMode:"orthographic"})})]})})});"use strict";var vF=({store:e})=>(0,I.jsx)(a5.Provider,{value:e,children:(0,I.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[(0,I.jsx)(uS,{}),(0,I.jsx)(rA,{height:"calc(100vh - 100px)",children:(0,I.jsx)(a9,{views:[{element:(0,I.jsx)(sl,{},"slt-side-panel"),init:.2},{element:(0,I.jsx)(vz,{pcdUrl:"https://www.stardust-ai.com/asset/annotationTool/pointCloud/PointCloudObjectRecognition/2/2022-02-27-12-23-00_frame_000002.pcd"}),init:.8}]})}),(0,I.jsx)(su,{})]})}),I=N("ayMG0");N("acw62"),rP(({width:e="100%",height:t="100%",children:n})=>{let r=a4();return(0,I.jsxs)("div",{className:"slt-workspace",style:{width:e,height:t},children:[r.workspaceTheme,n]})});"use strict";var I=N("ayMG0"),n1=N("acw62"),vj={};Object.defineProperty(vj,"__esModule",{value:!0});"use strict";var vB={};Object.defineProperty(vB,"__esModule",{value:!0}),vB.Konva=void 0;var vV={};Object.defineProperty(vV,"__esModule",{value:!0}),vV.Konva=void 0;"use strict";var vG={};Object.defineProperty(vG,"__esModule",{value:!0}),vG._registerNode=vG.Konva=vG.glob=void 0;var vH=Math.PI/180;vG.glob=void 0!==R?R:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},vG.Konva={_global:vG.glob,version:"9.2.0",isBrowser:"undefined"!=typeof window&&("[object Window]"===({}).toString.call(window)||"[object global]"===({}).toString.call(window)),isUnminified:/param/.test((function(e){}).toString()),dblClickWindow:400,getAngle:e=>vG.Konva.angleDeg?e*vH:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>vG.Konva.DD.isDragging,isDragReady:()=>!!vG.Konva.DD.node,releaseCanvasOnDestroy:!0,document:vG.glob.document,_injectGlobal(e){vG.glob.Konva=e}},vG._registerNode=e=>{vG.Konva[e.prototype.getClassName()]=e},vG.Konva._injectGlobal(vG.Konva);var vW={};Object.defineProperty(vW,"__esModule",{value:!0}),vW.Util=vW.Transform=void 0;class vX{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new vX(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,a=-(this.m[0]*n)+this.m[2]*t,o=-(this.m[1]*n)+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=this.m[4],a=this.m[5],o=e*r-t*n;let s={x:i,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var l=Math.sqrt(e*e+t*t);s.rotation=t>0?Math.acos(e/l):-Math.acos(e/l),s.scaleX=l,s.scaleY=o/l,s.skewX=(e*n+t*r)/o,s.skewY=0}else if(0!=n||0!=r){var u=Math.sqrt(n*n+r*r);s.rotation=Math.PI/2-(r>0?Math.acos(-n/u):-Math.acos(n/u)),s.scaleX=o/u,s.scaleY=u,s.skewX=0,s.skewY=(e*n+t*r)/o}return s.rotation=vW.Util._getRotation(s.rotation),s}}vW.Transform=vX;"use strict";var v$=Math.PI/180,vq=180/Math.PI,vY="Konva error: ",vK={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},vZ=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,vQ=[];"use strict";const vJ="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)};vW.Util={_isElement:e=>!!(e&&1==e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e?1:e>0?1:-1,requestAnimFrame(e){vQ.push(e),1===vQ.length&&vJ(function(){let e=vQ;vQ=[],e.forEach(function(e){e()})})},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=vW.Util.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>(16777216+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){var t=parseInt(e=e.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB(e){var t;return e in vK?{r:(t=vK[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?{r:parseInt((t=vZ.exec(e.replace(/ /g,"")))[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",vW.Util._namedColorToRBA(e)||vW.Util._hex3ColorToRGBA(e)||vW.Util._hex4ColorToRGBA(e)||vW.Util._hex6ColorToRGBA(e)||vW.Util._hex8ColorToRGBA(e)||vW.Util._rgbColorToRGBA(e)||vW.Util._rgbaColorToRGBA(e)||vW.Util._hslColorToRGBA(e)),_namedColorToRBA(e){var t=vK[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){let t,n,r;let[i,...a]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),o=Number(a[0])/360,s=Number(a[1])/100,l=Number(a[2])/100;if(0===s)return{r:Math.round(r=255*l),g:Math.round(r),b:Math.round(r),a:1};t=l<.5?l*(1+s):l+s-l*s;let u=2*l-t,c=[0,0,0];for(let e=0;e<3;e++)(n=o+-(1/3*(e-1)))<0&&n++,n>1&&n--,r=6*n<1?u+(t-u)*6*n:2*n<1?t:3*n<2?u+(t-u)*(2/3-n)*6:u,c[e]=255*r;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*v$,radToDeg:e=>e*vq,_degToRad:e=>(vW.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),vW.Util.degToRad(e)),_radToDeg:e=>(vW.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),vW.Util.radToDeg(e)),_getRotation:e=>vG.Konva.angleDeg?vW.Util.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw Error(vY+e)},error(e){console.error(vY+e)},warn(e){vG.Konva.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,i,a){var o,s,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)o=e,s=t,l=(i-n)*(i-n)+(a-r)*(a-r);else{var c=((i-e)*(n-e)+(a-t)*(r-t))/u;c<0?(o=e,s=t,l=(e-i)*(e-i)+(t-a)*(t-a)):c>1?(o=n,s=r,l=(n-i)*(n-i)+(r-a)*(r-a)):l=((o=e+c*(n-e))-i)*(o-i)+((s=t+c*(r-t))-a)*(s-a)}return[o,s,l]},_getProjectionToLine(e,t,n){var r=vW.Util.cloneObject(e),i=Number.MAX_VALUE;return t.forEach(function(a,o){if(n||o!==t.length-1){var s=t[(o+1)%t.length],l=vW.Util._getProjectionToSegment(a.x,a.y,s.x,s.y,e.x,e.y),u=l[0],c=l[1],d=l[2];d<i&&(r.x=u,r.y=c,i=d)}}),r},_prepareArrayForTween(e,t,n){var r,i=[],a=[];if(e.length>t.length){var o=t;t=e,e=o}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)a.push({x:t[r],y:t[r+1]});var s=[];return a.forEach(function(e){var t=vW.Util._getProjectionToLine(e,i,n);s.push(t.x),s.push(t.y)}),s},_prepareToStringify(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n]){if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||vW.Util._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===vW.Util._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(...e){vG.Konva.releaseCanvasOnDestroy&&e.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(e,t,n,r){let i=0,a=0,o=0,s=0;"number"==typeof r?i=a=o=s=Math.min(r,t/2,n/2):(i=Math.min(r[0]||0,t/2,n/2),a=Math.min(r[1]||0,t/2,n/2),s=Math.min(r[2]||0,t/2,n/2),o=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i,0),e.lineTo(t-a,0),e.arc(t-a,a,a,3*Math.PI/2,0,!1),e.lineTo(t,n-s),e.arc(t-s,n-s,s,0,Math.PI/2,!1),e.lineTo(o,n),e.arc(o,n-o,o,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}};"use strict";var v0={};Object.defineProperty(v0,"__esModule",{value:!0}),v0.Node=void 0;var v1={};Object.defineProperty(v1,"__esModule",{value:!0}),v1.Factory=void 0;var v2={};function v3(e){return vW.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||vW.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}"use strict";"use strict";Object.defineProperty(v2,"__esModule",{value:!0}),v2.getComponentValidator=v2.getBooleanValidator=v2.getNumberArrayValidator=v2.getFunctionValidator=v2.getStringOrGradientValidator=v2.getStringValidator=v2.getNumberOrAutoValidator=v2.getNumberOrArrayOfNumbersValidator=v2.getNumberValidator=v2.alphaComponent=v2.RGBComponent=void 0,v2.RGBComponent=function(e){return e>255?255:e<0?0:Math.round(e)},v2.alphaComponent=function(e){return e>1?1:e<1e-4?1e-4:e},v2.getNumberValidator=function(){if(vG.Konva.isUnminified)return function(e,t){return vW.Util._isNumber(e)||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},v2.getNumberOrArrayOfNumbersValidator=function(e){if(vG.Konva.isUnminified)return function(t,n){let r=vW.Util._isNumber(t),i=vW.Util._isArray(t)&&t.length==e;return r||i||vW.Util.warn(v3(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}},v2.getNumberOrAutoValidator=function(){if(vG.Konva.isUnminified)return function(e,t){var n=vW.Util._isNumber(e),r="auto"===e;return n||r||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},v2.getStringValidator=function(){if(vG.Konva.isUnminified)return function(e,t){return vW.Util._isString(e)||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},v2.getStringOrGradientValidator=function(){if(vG.Konva.isUnminified)return function(e,t){let n=vW.Util._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}},v2.getFunctionValidator=function(){if(vG.Konva.isUnminified)return function(e,t){return vW.Util._isFunction(e)||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},v2.getNumberArrayValidator=function(){if(vG.Konva.isUnminified)return function(e,t){let n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(vW.Util._isArray(e)?e.forEach(function(e){vW.Util._isNumber(e)||vW.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")}):vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}},v2.getBooleanValidator=function(){if(vG.Konva.isUnminified)return function(e,t){return!0===e||!1===e||vW.Util.warn(v3(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},v2.getComponentValidator=function(e){if(vG.Konva.isUnminified)return function(t,n){return null==t||vW.Util.isObject(t)||vW.Util.warn(v3(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}},v1.Factory={addGetterSetter(e,t,n,r,i){v1.Factory.addGetter(e,t,n),v1.Factory.addSetter(e,t,r,i),v1.Factory.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var r="get"+vW.Util._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,r){var i="set"+vW.Util._capitalize(t);e.prototype[i]||v1.Factory.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){var i="set"+vW.Util._capitalize(t);e.prototype[i]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){var a,o,s=n.length,l=vW.Util._capitalize,u="get"+l(t),c="set"+l(t);e.prototype[u]=function(){var e={};for(a=0;a<s;a++)e[o=n[a]]=this.getAttr(t+l(o));return e};var d=(0,v2.getComponentValidator)(n);e.prototype[c]=function(e){var a,o=this.attrs[t];for(a in r&&(e=r.call(this,e)),d&&d.call(this,e,t),e)e.hasOwnProperty(a)&&this._setAttr(t+l(a),e[a]);return e||n.forEach(e=>{this._setAttr(t+l(e),void 0)}),this._fireChangeEvent(t,o,e),i&&i.call(this),this},v1.Factory.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=vW.Util._capitalize(t),r="set"+n,i="get"+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){vW.Util.error("Adding deprecated "+t);var i="get"+vW.Util._capitalize(t),a=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){vW.Util.error(a);var e=this.attrs[t];return void 0===e?n:e},v1.Factory.addSetter(e,t,r,function(){vW.Util.error(a)}),v1.Factory.addOverloadedGetterSetter(e,t)},backCompat(e,t){vW.Util.each(t,function(t,n){var r=e.prototype[n],i="get"+vW.Util._capitalize(t),a="set"+vW.Util._capitalize(t);function o(){r.apply(this,arguments),vW.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=o,e.prototype[i]=o,e.prototype[a]=o})},afterSetFilter(){this._filterUpToDate=!1}};var v5={};Object.defineProperty(v5,"__esModule",{value:!0}),v5.HitCanvas=v5.SceneCanvas=v5.Canvas=void 0;var v4={};Object.defineProperty(v4,"__esModule",{value:!0}),v4.HitContext=v4.SceneContext=v4.Context=void 0;var v6=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class v8{constructor(e){this.canvas=e,vG.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var n,r,i,a,o=this.traceArr,s=o.length,l="";for(n=0;n<s;n++)(i=(r=o[n]).method)?(a=r.args,l+=i,e?l+="()":vW.Util._isArray(a[0])?l+="(["+a.join(",")+"])":(t&&(a=a.map(e=>"number"==typeof e?Math.floor(e):e)),l+="("+a.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){let t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){let t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,i,a){this._context.arc(e,t,n,r,i,a)}arcTo(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,i,a){this._context.bezierCurveTo(e,t,n,r,i,a)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,i,a){return this._context.createRadialGradient(e,t,n,r,i,a)}drawImage(e,t,n,r,i,a,o,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,i):9===u.length&&c.drawImage(e,t,n,r,i,a,o,s,l)}ellipse(e,t,n,r,i,a,o,s){this._context.ellipse(e,t,n,r,i,a,o,s)}isPointInPath(e,t,n,r){return n?this._context.isPointInPath(n,e,t,r):this._context.isPointInPath(e,t,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,i,a){this._context.setTransform(e,t,n,r,i,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,i,a){this._context.transform(e,t,n,r,i,a)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,n=this,r=v6.length,i=this.setAttr,a=function(e){var r,i=n[e];n[e]=function(){return t=function(e){var t,n,r=[],i=e.length,a=vW.Util;for(t=0;t<i;t++)n=e[t],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n+=""),r.push(n);return r}(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)a(v6[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];("shadowOffsetX"===e||"shadowOffsetY"===e||"shadowBlur"===e)&&(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){let t=e.attrs.globalCompositeOperation;t&&"source-over"!==t&&this.setAttr("globalCompositeOperation",t)}}v4.Context=v8,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(e){Object.defineProperty(v8.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}),v4.SceneContext=class extends v8{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){let t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){let t=e.fill(),n=e.getFillPriority();if(t&&"color"===n){this._fillColor(e);return}let r=e.getFillPatternImage();if(r&&"pattern"===n){this._fillPattern(e);return}let i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n){this._fillLinearGradient(e);return}let a=e.getFillRadialGradientColorStops();if(a&&"radial-gradient"===n){this._fillRadialGradient(e);return}t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var a=0;a<r.length;a+=2)i.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",i)}}_stroke(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r,i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",a=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,o=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",a*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*u),this.setAttr("shadowOffsetY",o.y*c)}},v4.HitContext=class extends v8{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let i=e.getStrokeScaleEnabled();if(!i){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(e);var n=e.hitStrokeWidth(),r="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),i||this.restore()}}};class v9{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||vG.Konva.pixelRatio||function(){if(P)return P;var e=vW.Util.createCanvasElement(),t=e.getContext("2d");return P=(vG.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),vW.Util.releaseCanvas(e),P}();this.pixelRatio=t,this._canvas=vW.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return vW.Util.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}"use strict";v5.Canvas=v9,v1.Factory.addGetterSetter(v9,"pixelRatio",void 0,(0,v2.getNumberValidator)()),v5.SceneCanvas=class extends v9{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new v4.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}},v5.HitCanvas=class extends v9{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new v4.HitContext(this),this.setSize(e.width,e.height)}};var v7={};Object.defineProperty(v7,"__esModule",{value:!0}),v7.DD=void 0,v7.DD={get isDragging(){var ye=!1;return v7.DD._dragElements.forEach(e=>{"dragging"===e.dragStatus&&(ye=!0)}),ye},justDragged:!1,get node(){var yt;return v7.DD._dragElements.forEach(e=>{yt=e.node}),yt},_dragElements:new Map,_drag(e){let t=[];v7.DD._dragElements.forEach((n,r)=>{let{node:i}=n,a=i.getStage();a.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=vW.Util._getFirstPointerId(e));let o=a._changedPointerPositions.find(e=>e.id===n.pointerId);if(o){if("dragging"!==n.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<s||(i.startDrag({evt:e}),!i.isDragging()))return}i._setDragPosition(e,n),t.push(i)}}),t.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)})},_endDragBefore(e){let t=[];v7.DD._dragElements.forEach(n=>{let{node:r}=n,i=r.getStage();e&&i.setPointersPositions(e);let a=i._changedPointerPositions.find(e=>e.id===n.pointerId);if(!a)return;("dragging"===n.dragStatus||"stopped"===n.dragStatus)&&(v7.DD.justDragged=!0,vG.Konva._mouseListenClick=!1,vG.Konva._touchListenClick=!1,vG.Konva._pointerListenClick=!1,n.dragStatus="stopped");let o=n.node.getLayer()||n.node instanceof vG.Konva.Stage&&n.node;o&&-1===t.indexOf(o)&&t.push(o)}),t.forEach(e=>{e.draw()})},_endDragAfter(e){v7.DD._dragElements.forEach((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&v7.DD._dragElements.delete(n)})}},vG.Konva.isBrowser&&(window.addEventListener("mouseup",v7.DD._endDragBefore,!0),window.addEventListener("touchend",v7.DD._endDragBefore,!0),window.addEventListener("mousemove",v7.DD._drag),window.addEventListener("touchmove",v7.DD._drag),window.addEventListener("mouseup",v7.DD._endDragAfter,!1),window.addEventListener("touchend",v7.DD._endDragAfter,!1));var yn="absoluteOpacity",yr="allEventListeners",yi="absoluteTransform",ya="absoluteScale",yo="canvas",ys="listening",yl="mouseenter",yu="mouseleave",yc="Shape",yd="stage",yh="transform",yf="visible";let yp=1;class ym{constructor(e){this._id=yp++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===yh||e===yi)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){var n=this._cache.get(e),r=e===yh||e===yi;return(void 0===n||r&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){let n=t.map(e=>e+"Change.konva").join(" ");this.on(n,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(yo)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===yi&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(yo)){let{scene:e,filter:t,hit:n}=this._cache.get(yo);vW.Util.releaseCanvas(e,t,n),this._cache.delete(yo)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},n={};(void 0===t.x||void 0===t.y||void 0===t.width||void 0===t.height)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),a=t.pixelRatio,o=void 0===t.x?Math.floor(n.x):t.x,s=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,u=t.drawBorder||!1,c=t.hitCanvasPixelRatio||1;if(!r||!i){vW.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}r+=2*l+1,i+=2*l+1,o-=l,s-=l;var d=new v5.SceneCanvas({pixelRatio:a,width:r,height:i}),h=new v5.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),f=new v5.HitCanvas({pixelRatio:c,width:r,height:i}),p=d.getContext(),m=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete(yo),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,h.getContext()._context.imageSmoothingEnabled=!1),p.save(),m.save(),p.translate(-o,-s),m.translate(-o,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(yn),this._clearSelfAndDescendantCache(ya),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),m.restore(),u&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(yo,{scene:d,filter:h,hit:f,x:o,y:s}),this._requestDraw(),this}isCached(){return this._cache.has(yo)}getClientRect(e){throw Error('abstract "getClientRect" method call')}_transformedRect(e,t){var n,r,i,a,o=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return o.forEach(function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=a=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),a=Math.max(a,t.y)}),{x:n,y:r,width:i-n,height:a-r}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,n,r,i=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,l=s.getContext();if(i){if(!this._filterUpToDate){var u=o.pixelRatio;s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio);try{for(e=i.length,l.clear(),l.drawImage(o._canvas,0,0,o.getWidth()/u,o.getHeight()/u),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++){if(r=i[n],"function"!=typeof r){vW.Util.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters");continue}r.call(this,t),l.putImageData(t,0,0)}}catch(e){vW.Util.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return o}on(e,t){if(this._cache&&this._cache.delete(yr),3==arguments.length)return this._delegate.apply(this,arguments);var n,r,i,a,o=e.split(" "),s=o.length;for(n=0;n<s;n++)i=(r=o[n].split("."))[0],a=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:a,handler:t});return this}off(e,t){var n,r,i,a,o,s=(e||"").split(" "),l=s.length;if(this._cache&&this._cache.delete(yr),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(a=(i=s[n].split("."))[0],o=i[1],a)this.eventListeners[a]&&this._off(a,o,t);else for(r in this.eventListeners)this._off(r,o,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){var r=this;this.on(e,function(e){for(var i=e.target.findAncestors(t,!0,r),a=0;a<i.length;a++)(e=vW.Util.cloneObject(e)).currentTarget=i[a],n.call(i[a],e)})}remove(){return this.isDragging()&&this.stopDrag(),v7.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(yi),this._clearSelfAndDescendantCache(yn),this._clearSelfAndDescendantCache(ya),this._clearSelfAndDescendantCache(yd),this._clearSelfAndDescendantCache(yf),this._clearSelfAndDescendantCache(ys)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+vW.Util._capitalize(e);return vW.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+vW.Util._capitalize(t),vW.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(ys,this._isListening)}_isListening(e){let t=this.listening();if(!t)return!1;let n=this.getParent();return!n||n===e||this===e||n._isListening(e)}isVisible(){return this._getCache(yf,this._isVisible)}_isVisible(e){let t=this.visible();if(!t)return!1;let n=this.getParent();return!n||n===e||this===e||n._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),r=!1;v7.DD._dragElements.forEach(e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType?r=!0:e.node.getLayer()===n&&(r=!0))});var i=!t&&!vG.Konva.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,n,r,i=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(l){for(n=0,e=[],t=l.length;n<t;n++)r=l[n],o++,r.nodeType!==yc&&(e=e.concat(r.getChildren().slice())),r._id===a._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(a.getStage().getChildren()),o}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(yh),this._clearSelfAndDescendantCache(yi)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var r=this.getAbsoluteTransform(e).getMatrix(),i=new vW.Transform,a=this.offset();return i.m=r.slice(),i.translate(a.x,a.y),i.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(yh);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(yh),this._clearSelfAndDescendantCache(yi),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,t){var n,r,i=[],a=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);a&&(!t||a._id!==t._id);)i.unshift(a),a=a.parent;for(r=0,n=i.length;r<n;r++)e(i[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return vW.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return vW.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return vW.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return vW.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return vW.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&vW.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(yn,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,n,r,i={},a=this.getAttrs();for(e in i.attrs={},a)t=a[e],(!vW.Util.isObject(t)||vW.Util._isPlainObject(t)||vW.Util._isArray(t))&&(n="function"==typeof this[e]&&this[e],delete a[e],r=n?n.call(this):null,a[e]=t,r!==t&&(i.attrs[e]=t));return i.className=this.getClassName(),vW.Util._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i&&i!==n;)i._isMatch(e)&&r.push(i),i=i.parent;return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);var t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],vW.Util.isValidSelector(n)||(vW.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),vW.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),vW.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(yd,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():void 0}fire(e,t={},n){return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(yi,this._getAbsoluteTransform)}_getAbsoluteTransform(e){if(e)return t=new vW.Transform,this._eachAncestorReverse(function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())},e),t;t=this._cache.get(yi)||new vW.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var t,n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){let e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;t.translate(e-r,n-i)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();let n=this.getAbsoluteTransform(e),r=n.decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(yh,this._getTransform)}_getTransform(){var e,t,n=this._cache.get(yh)||new vW.Transform;n.reset();var r=this.x(),i=this.y(),a=vG.Konva.getAngle(this.rotation()),o=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,s=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,l=this.attrs.skewX||0,u=this.attrs.skewY||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return(0!==r||0!==i)&&n.translate(r,i),0!==a&&n.rotate(a),(0!==l||0!==u)&&n.skew(l,u),(1!==o||1!==s)&&n.scale(o,s),(0!==c||0!==d)&&n.translate(-1*c,-1*d),n.dirty=!1,n}clone(e){var t,n,r,i,a,o=vW.Util.cloneObject(this.attrs);for(t in e)o[t]=e[t];var s=new this.constructor(o);for(t in this.eventListeners)for(i=0,r=(n=this.eventListeners[t]).length;i<r;i++)0>(a=n[i]).name.indexOf("konva")&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(a));return s}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),i=void 0!==e.y?e.y:Math.floor(t.y),a=e.pixelRatio||1,o=new v5.SceneCanvas({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:a}),s=o.getContext();return!1===e.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(o),s.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){return new Promise((t,n)=>{try{let n=null==e?void 0:e.callback;n&&delete e.callback,vW.Util._urlToImage(this.toDataURL(e),function(e){t(e),null==n||n(e)})}catch(e){n(e)}})}toBlob(e){return new Promise((t,n)=>{try{let n=null==e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob(e=>{t(e),null==n||n(e)})}catch(e){n(e)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():vG.Konva.dragDistance}_off(e,t,n){var r,i,a,o=this.eventListeners[e];for(r=0;r<o.length;r++)if(i=o[r].name,a=o[r].handler,("konva"!==i||"konva"===t)&&(!t||i===t)&&(!n||n===a)){if(o.splice(r,1),0===o.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;let t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return -1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){var n=this["set"+vW.Util._capitalize(e)];return vW.Util._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(vG.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){var n=this.attrs[e];(n!==t||vW.Util.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){if(t&&this.nodeType===yc&&(t.target=this),!((e===yl||e===yu)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);var r=(e===yl||e===yu)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,r;let i=null!==(t=this._cache.get(yr))&&void 0!==t?t:{},a=null==i?void 0:i[e];if(void 0===a){a=[];let t=Object.getPrototypeOf(this);for(;t;){let i=null!==(r=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==r?r:[];a.push(...i),t=Object.getPrototypeOf(t)}i[e]=a,this._cache.set(yr,i)}return a}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;let n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);let i=this.eventListeners[e];if(i)for(var r=0;r<i.length;r++)i[r].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(t)||n._changedPointerPositions[0]||r;v7.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){v7.DD._dragElements.has(this._id)||this._createDragElement(e);let n=v7.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){let n=this.getStage()._getPointerById(t.pointerId);if(n){var r={x:n.x-t.offset.x,y:n.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){let t=i.call(this,r,e);t?r=t:vW.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}stopDrag(e){let t=v7.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),v7.DD._endDragBefore(e),v7.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=v7.DD._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if((!(void 0!==e.evt.button)||vG.Konva.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;v7.DD._dragElements.forEach(e=>{this.isAncestorOf(e.node)&&(t=!0)}),t||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let e=v7.DD._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&v7.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let t=this.getStage();if(!t)return!1;let n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return vW.Util.haveIntersection(n,this.getClientRect())}static create(e,t){return vW.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var n,r,i,a=ym.prototype.getClassName.call(e),o=e.children;t&&(e.attrs.container=t),vG.Konva[a]||(vW.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");let s=vG.Konva[a];if(n=new s(e.attrs),o)for(i=0,r=o.length;i<r;i++)n.add(ym._createNode(o[i]));return n}}"use strict";v0.Node=ym,ym.prototype.nodeType="Node",ym.prototype._attrsAffectingSize=[],ym.prototype.eventListeners={},ym.prototype.on.call(ym.prototype,"xChange.konva yChange.konva scaleXChange.konva scaleYChange.konva skewXChange.konva skewYChange.konva rotationChange.konva offsetXChange.konva offsetYChange.konva transformsEnabledChange.konva",function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(yh),this._clearSelfAndDescendantCache(yi)}),ym.prototype.on.call(ym.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(yf)}),ym.prototype.on.call(ym.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ys)}),ym.prototype.on.call(ym.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(yn)});const yg=v1.Factory.addGetterSetter;yg(ym,"zIndex"),yg(ym,"absolutePosition"),yg(ym,"position"),yg(ym,"x",0,(0,v2.getNumberValidator)()),yg(ym,"y",0,(0,v2.getNumberValidator)()),yg(ym,"globalCompositeOperation","source-over",(0,v2.getStringValidator)()),yg(ym,"opacity",1,(0,v2.getNumberValidator)()),yg(ym,"name","",(0,v2.getStringValidator)()),yg(ym,"id","",(0,v2.getStringValidator)()),yg(ym,"rotation",0,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(ym,"scale",["x","y"]),yg(ym,"scaleX",1,(0,v2.getNumberValidator)()),yg(ym,"scaleY",1,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(ym,"skew",["x","y"]),yg(ym,"skewX",0,(0,v2.getNumberValidator)()),yg(ym,"skewY",0,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(ym,"offset",["x","y"]),yg(ym,"offsetX",0,(0,v2.getNumberValidator)()),yg(ym,"offsetY",0,(0,v2.getNumberValidator)()),yg(ym,"dragDistance",null,(0,v2.getNumberValidator)()),yg(ym,"width",0,(0,v2.getNumberValidator)()),yg(ym,"height",0,(0,v2.getNumberValidator)()),yg(ym,"listening",!0,(0,v2.getBooleanValidator)()),yg(ym,"preventDefault",!0,(0,v2.getBooleanValidator)()),yg(ym,"filters",null,function(e){return this._filterUpToDate=!1,e}),yg(ym,"visible",!0,(0,v2.getBooleanValidator)()),yg(ym,"transformsEnabled","all",(0,v2.getStringValidator)()),yg(ym,"size"),yg(ym,"dragBoundFunc"),yg(ym,"draggable",!1,(0,v2.getBooleanValidator)()),v1.Factory.backCompat(ym,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var yv={};Object.defineProperty(yv,"__esModule",{value:!0}),yv.Container=void 0;class yy extends v0.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];let t=this.children||[];var n=[];return t.forEach(function(t){e(t)&&n.push(t)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(0===e.length)return this;if(e.length>1){for(var t=0;t<e.length;t++)this.add(e[t]);return this}let n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var n=[];return this._descendants(r=>{let i=r._isMatch(e);return i&&n.push(r),!!i&&!!t}),n}_descendants(e){let t=this.getChildren();for(let n of t)if(e(n)||n.hasChildren()&&n._descendants(e))return!0;return!1}toObject(){var e=v0.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=v0.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(e){t.add(e.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(function(n){n.isVisible()&&n.intersects(e)&&t.push(n)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach(function(t){t._clearSelfAndDescendantCache(e)})}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach(function(e,t){e.index=t}),this._requestDraw()}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas(),i=r&&r.getContext(),a=this._getCanvasCache(),o=a&&a.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(o){i.save();var l=this.getAbsoluteTransform(t).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),a=this._getCanvasCache();if(a&&a.hit){i.save();var o=this.getAbsoluteTransform(t).getMatrix();i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n){var r,i=t&&t.getContext(),a=this.clipWidth(),o=this.clipHeight(),s=this.clipFunc(),l=a&&o||s;let u=n===this;if(l){let e;i.save();var c=this.getAbsoluteTransform(n),d=c.getMatrix();if(i.transform(d[0],d[1],d[2],d[3],d[4],d[5]),i.beginPath(),s)e=s.call(this,i,this);else{var h=this.clipX(),f=this.clipY();i.rect(h,f,a,o)}i.clip.apply(i,e),d=c.copy().invert().getMatrix(),i.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(r=this.children)||void 0===r||r.forEach(function(r){r[e](t,n)}),p&&i.restore(),l&&i.restore()}getClientRect(e){var t,n,r,i,a,o=(e=e||{}).skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},u=this;null===(t=this.children)||void 0===t||t.forEach(function(t){if(t.visible()){var o=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});(0!==o.width||0!==o.height)&&(void 0===n?(n=o.x,r=o.y,i=o.x+o.width,a=o.y+o.height):(n=Math.min(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.x+o.width),a=Math.max(a,o.y+o.height)))}});for(var c=this.find("Shape"),d=!1,h=0;h<c.length;h++)if(c[h]._isVisible(this)){d=!0;break}return(l=d&&void 0!==n?{x:n,y:r,width:i-n,height:a-r}:{x:0,y:0,width:0,height:0},o)?l:this._transformedRect(l,s)}}"use strict";"use strict";yv.Container=yy,v1.Factory.addComponentsGetterSetter(yy,"clip",["x","y","width","height"]),v1.Factory.addGetterSetter(yy,"clipX",void 0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(yy,"clipY",void 0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(yy,"clipWidth",void 0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(yy,"clipHeight",void 0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(yy,"clipFunc");var yb={};Object.defineProperty(yb,"__esModule",{value:!0}),yb.Stage=yb.stages=void 0;var y_={};Object.defineProperty(y_,"__esModule",{value:!0}),y_.releaseCapture=y_.setPointerCapture=y_.hasPointerCapture=y_.createEvent=y_.getCapturedShape=void 0;const yx=new Map,yS=void 0!==vG.Konva._global.PointerEvent;function yw(e){return{evt:e,pointerId:e.pointerId}}function yE(e,t){let n=yx.get(e);if(!n)return;let r=n.getStage();r&&r.content,yx.delete(e),yS&&n._fire("lostpointercapture",yw(new PointerEvent("lostpointercapture")))}y_.getCapturedShape=function(e){return yx.get(e)},y_.createEvent=yw,y_.hasPointerCapture=function(e,t){return yx.get(e)===t},y_.setPointerCapture=function(e,t){yE(e);let n=t.getStage();n&&(yx.set(e,t),yS&&t._fire("gotpointercapture",yw(new PointerEvent("gotpointercapture"))))},y_.releaseCapture=yE;var yM="mouseleave",yT="mouseover",yC="mouseenter",yP="mousemove",yA="mousedown",yR="mouseup",yO="pointermove",yk="pointerdown",yL="pointerup",yN="pointercancel",yI="pointerout",yD="pointerleave",yU="pointerover",yz="pointerenter",yF="contextmenu",yj="touchstart",yB="touchend",yV="touchmove",yG="touchcancel",yH="wheel",yW=[[yC,"_pointerenter"],[yA,"_pointerdown"],[yP,"_pointermove"],[yR,"_pointerup"],[yM,"_pointerleave"],[yj,"_pointerdown"],[yV,"_pointermove"],[yB,"_pointerup"],[yG,"_pointercancel"],[yT,"_pointerover"],[yH,"_wheel"],[yF,"_contextmenu"],[yk,"_pointerdown"],[yO,"_pointermove"],[yL,"_pointerup"],[yN,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const yX={mouse:{[yI]:"mouseout",[yD]:yM,[yU]:yT,[yz]:yC,[yO]:yP,[yk]:yA,[yL]:yR,[yN]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[yI]:"touchout",[yD]:"touchleave",[yU]:"touchover",[yz]:"touchenter",[yO]:yV,[yk]:yj,[yL]:yB,[yN]:yG,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[yI]:yI,[yD]:yD,[yU]:yU,[yz]:yz,[yO]:yO,[yk]:yk,[yL]:yL,[yN]:yN,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},y$=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",yq=e=>{let t=y$(e);return"pointer"===t?vG.Konva.pointerEventsEnabled&&yX.pointer:"touch"===t?yX.touch:"mouse"===t?yX.mouse:void 0};function yY(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&vW.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}yb.stages=[];class yK extends yv.Container{constructor(e){super(yY(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),yb.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{yY(this.attrs)}),this._checkVisibility()}_validateAdd(e){let t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||vW.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){if("."===e.charAt(0)){var t,n=e.slice(1);e=document.getElementsByClassName(n)[0]}else t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),yv.Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&vW.Util._isInDocument(e)&&this.container().removeChild(e);var t=yb.stages.indexOf(this);return t>-1&&yb.stages.splice(t,1),vW.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(vW.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new v5.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach(function(t){if(t.isVisible()){var r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}}),t}getIntersection(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){let r=n[t].getIntersection(e);if(r)return r}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(n=>{n.setSize({width:e,height:t}),n.draw()})}add(e,...t){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(e);var r=this.children.length;return r>5&&vW.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),vG.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return y_.hasPointerCapture(e,this)}setPointerCapture(e){y_.setPointerCapture(e,this)}releaseCapture(e){y_.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){vG.Konva.isBrowser&&yW.forEach(([e,t])=>{this.content.addEventListener(e,e=>{this[t](e)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let t=yq(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let t=yq(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){let t=yq(e.type),n=y$(e.type);if(t){this.setPointersPositions(e);var r=this._getTargetShape(n),i=!v7.DD.isDragging||vG.Konva.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){let t=yq(e.type),n=y$(e.type);if(t){this.setPointersPositions(e);var r=!1;this._changedPointerPositions.forEach(i=>{var a=this.getIntersection(i);v7.DD.justDragged=!1,vG.Konva["_"+n+"ListenClick"]=!0;let o=a&&a.isListening();if(!o)return;vG.Konva.capturePointerEventsEnabled&&a.setPointerCapture(i.id),this[n+"ClickStartShape"]=a,a._fireAndBubble(t.pointerdown,{evt:e,pointerId:i.id}),r=!0;let s=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&s&&e.preventDefault()}),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){let t=yq(e.type),n=y$(e.type);if(!t||(v7.DD.isDragging&&v7.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!v7.DD.isDragging||vG.Konva.hitOnDragEnabled)))return;var r={};let i=!1;var a=this._getTargetShape(n);this._changedPointerPositions.forEach(o=>{let s=y_.getCapturedShape(o.id)||this.getIntersection(o),l=o.id,u={evt:e,pointerId:l};var c=a!==s;if(c&&a&&(a._fireAndBubble(t.pointerout,Object.assign({},u),s),a._fireAndBubble(t.pointerleave,Object.assign({},u),s)),s){if(r[s._id])return;r[s._id]=!0}s&&s.isListening()?(i=!0,c&&(s._fireAndBubble(t.pointerover,Object.assign({},u),a),s._fireAndBubble(t.pointerenter,Object.assign({},u),a),this[n+"targetShape"]=s),s._fireAndBubble(t.pointermove,Object.assign({},u))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)}),i||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let t=yq(e.type),n=y$(e.type);if(!t)return;this.setPointersPositions(e);let r=this[n+"ClickStartShape"],i=this[n+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach(s=>{let l=y_.getCapturedShape(s.id)||this.getIntersection(s);if(l){if(l.releaseCapture(s.id),a[l._id])return;a[l._id]=!0}let u=s.id,c={evt:e,pointerId:u},d=!1;vG.Konva["_"+n+"InDblClickWindow"]?(d=!0,clearTimeout(this[n+"DblTimeout"])):v7.DD.justDragged||(vG.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){vG.Konva["_"+n+"InDblClickWindow"]=!1},vG.Konva.dblClickWindow),l&&l.isListening()?(o=!0,this[n+"ClickEndShape"]=l,l._fireAndBubble(t.pointerup,Object.assign({},c)),vG.Konva["_"+n+"ListenClick"]&&r&&r===l&&(l._fireAndBubble(t.pointerclick,Object.assign({},c)),d&&i&&i===l&&l._fireAndBubble(t.pointerdblclick,Object.assign({},c)))):(this[n+"ClickEndShape"]=null,vG.Konva["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),d&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),o||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),vG.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(yF,{evt:e}):this._fire(yF,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(yH,{evt:e}):this._fire(yH,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let t=y_.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(yL,y_.createEvent(e)),y_.releaseCapture(e.pointerId)}_lostpointercapture(e){y_.releaseCapture(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:vW.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:vW.Util._getFirstPointerId(e)}])}_setPointerPosition(e){vW.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new v5.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new v5.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),vG.Konva.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return vW.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}"use strict";"use strict";yb.Stage=yK,yK.prototype.nodeType="Stage",(0,vG._registerNode)(yK),v1.Factory.addGetterSetter(yK,"container");var yZ={};Object.defineProperty(yZ,"__esModule",{value:!0}),yZ.Layer=void 0;var yQ={};Object.defineProperty(yQ,"__esModule",{value:!0}),yQ.Shape=yQ.shapes=void 0;var yJ="hasShadow",y0="shadowRGBA",y1="patternImage",y2="linearGradient",y3="radialGradient";function y5(){return o||(o=vW.Util.createCanvasElement().getContext("2d"))}yQ.shapes={};class y4 extends v0.Node{constructor(e){let t;for(super(e);!(t=vW.Util.getRandomColor())||(t in yQ.shapes););this.colorKey=t,yQ.shapes[t]=this}getContext(){return vW.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return vW.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(yJ,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y1,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=y5();let t=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){let e=new vW.Transform;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(vG.Konva.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let n=e.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);t.setTransform(r)}return t}}_getLinearGradient(){return this._getCache(y2,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=y5(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y),a=0;a<e.length;a+=2)i.addColorStop(e[a],e[a+1]);return i}}_getRadialGradient(){return this._getCache(y3,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=y5(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),a=0;a<e.length;a+=2)i.addColorStop(e[a],e[a+1]);return i}}getShadowRGBA(){return this._getCache(y0,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=vW.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return v0.Node.prototype.destroy.call(this),delete yQ.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!this.getStage())return!1;let n=null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t;if(!n)return!1;let r=e||this.hasFill(),i=this.hasStroke(),a=1!==this.getAbsoluteOpacity();if(r&&i&&a)return!0;let o=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!r&&!!i&&!!o&&!!s}setStrokeHitEnabled(e){vW.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=e.skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke(),a=i&&this.strokeWidth()||0,o=r.width+a,s=r.height+a,l=!e.skipShadow&&this.hasShadow(),u=l?this.shadowOffsetX():0,c=l?this.shadowOffsetY():0,d=o+Math.abs(u),h=s+Math.abs(c),f=l&&this.shadowBlur()||0,p={width:d+2*f,height:h+2*f,x:-(a/2+f)+Math.min(u,0)+r.x,y:-(a/2+f)+Math.min(c,0)+r.y};return t?p:this._transformedRect(p,n)}drawScene(e,t){var n,r,i=this.getLayer(),a=e||i.getCanvas(),o=a.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),c=a.isCache,d=t===this;if(!this.isVisible()&&!d)return this;if(s){o.save();var h=this.getAbsoluteTransform(t).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()&&!c){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var f=this.getAbsoluteTransform(t).getMatrix();r.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,r,this),r.restore();var p=n.pixelRatio;u&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else{if(o._applyLineJoin(this),!d){var f=this.getAbsoluteTransform(t).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}u&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,t,n=!1){if(!this.shouldDrawHit(t,n))return this;var r=this.getLayer(),i=e||r.hitCanvas,a=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||vW.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){a.save();var u=this.getAbsoluteTransform(t).getMatrix();return a.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;a.save(),a._applyLineJoin(this);let c=this===t;if(!c){var d=this.getAbsoluteTransform(t).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){var t,n,r,i,a,o=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=o.hit,u=l.getContext(),c=l.getWidth(),d=l.getHeight();u.clear(),u.drawImage(s._canvas,0,0,c,d);try{for(a=0,r=(n=(t=u.getImageData(0,0,c,d)).data).length,i=vW.Util._hexToRgb(this.colorKey);a<r;a+=4)n[a+3]>e?(n[a]=i.r,n[a+1]=i.g,n[a+2]=i.b,n[a+3]=255):n[a+3]=0;u.putImageData(t,0,0)}catch(e){vW.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return y_.hasPointerCapture(e,this)}setPointerCapture(e){y_.setPointerCapture(e,this)}releaseCapture(e){y_.releaseCapture(e,this)}}yQ.Shape=y4,y4.prototype._fillFunc=function(e){let t=this.attrs.fillRule;t?e.fill(t):e.fill()},y4.prototype._strokeFunc=function(e){e.stroke()},y4.prototype._fillFuncHit=function(e){e.fill()},y4.prototype._strokeFuncHit=function(e){e.stroke()},y4.prototype._centroid=!1,y4.prototype.nodeType="Shape",(0,vG._registerNode)(y4),y4.prototype.eventListeners={},y4.prototype.on.call(y4.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(yJ)}),y4.prototype.on.call(y4.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(y0)}),y4.prototype.on.call(y4.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(y1)}),y4.prototype.on.call(y4.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(y2)}),y4.prototype.on.call(y4.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(y3)}),v1.Factory.addGetterSetter(y4,"stroke",void 0,(0,v2.getStringOrGradientValidator)()),v1.Factory.addGetterSetter(y4,"strokeWidth",2,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillAfterStrokeEnabled",!1),v1.Factory.addGetterSetter(y4,"hitStrokeWidth","auto",(0,v2.getNumberOrAutoValidator)()),v1.Factory.addGetterSetter(y4,"strokeHitEnabled",!0,(0,v2.getBooleanValidator)()),v1.Factory.addGetterSetter(y4,"perfectDrawEnabled",!0,(0,v2.getBooleanValidator)()),v1.Factory.addGetterSetter(y4,"shadowForStrokeEnabled",!0,(0,v2.getBooleanValidator)()),v1.Factory.addGetterSetter(y4,"lineJoin"),v1.Factory.addGetterSetter(y4,"lineCap"),v1.Factory.addGetterSetter(y4,"sceneFunc"),v1.Factory.addGetterSetter(y4,"hitFunc"),v1.Factory.addGetterSetter(y4,"dash"),v1.Factory.addGetterSetter(y4,"dashOffset",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"shadowColor",void 0,(0,v2.getStringValidator)()),v1.Factory.addGetterSetter(y4,"shadowBlur",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"shadowOpacity",1,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(y4,"shadowOffset",["x","y"]),v1.Factory.addGetterSetter(y4,"shadowOffsetX",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"shadowOffsetY",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillPatternImage"),v1.Factory.addGetterSetter(y4,"fill",void 0,(0,v2.getStringOrGradientValidator)()),v1.Factory.addGetterSetter(y4,"fillPatternX",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillPatternY",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillLinearGradientColorStops"),v1.Factory.addGetterSetter(y4,"strokeLinearGradientColorStops"),v1.Factory.addGetterSetter(y4,"fillRadialGradientStartRadius",0),v1.Factory.addGetterSetter(y4,"fillRadialGradientEndRadius",0),v1.Factory.addGetterSetter(y4,"fillRadialGradientColorStops"),v1.Factory.addGetterSetter(y4,"fillPatternRepeat","repeat"),v1.Factory.addGetterSetter(y4,"fillEnabled",!0),v1.Factory.addGetterSetter(y4,"strokeEnabled",!0),v1.Factory.addGetterSetter(y4,"shadowEnabled",!0),v1.Factory.addGetterSetter(y4,"dashEnabled",!0),v1.Factory.addGetterSetter(y4,"strokeScaleEnabled",!0),v1.Factory.addGetterSetter(y4,"fillPriority","color"),v1.Factory.addComponentsGetterSetter(y4,"fillPatternOffset",["x","y"]),v1.Factory.addGetterSetter(y4,"fillPatternOffsetX",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillPatternOffsetY",0,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(y4,"fillPatternScale",["x","y"]),v1.Factory.addGetterSetter(y4,"fillPatternScaleX",1,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(y4,"fillPatternScaleY",1,(0,v2.getNumberValidator)()),v1.Factory.addComponentsGetterSetter(y4,"fillLinearGradientStartPoint",["x","y"]),v1.Factory.addComponentsGetterSetter(y4,"strokeLinearGradientStartPoint",["x","y"]),v1.Factory.addGetterSetter(y4,"fillLinearGradientStartPointX",0),v1.Factory.addGetterSetter(y4,"strokeLinearGradientStartPointX",0),v1.Factory.addGetterSetter(y4,"fillLinearGradientStartPointY",0),v1.Factory.addGetterSetter(y4,"strokeLinearGradientStartPointY",0),v1.Factory.addComponentsGetterSetter(y4,"fillLinearGradientEndPoint",["x","y"]),v1.Factory.addComponentsGetterSetter(y4,"strokeLinearGradientEndPoint",["x","y"]),v1.Factory.addGetterSetter(y4,"fillLinearGradientEndPointX",0),v1.Factory.addGetterSetter(y4,"strokeLinearGradientEndPointX",0),v1.Factory.addGetterSetter(y4,"fillLinearGradientEndPointY",0),v1.Factory.addGetterSetter(y4,"strokeLinearGradientEndPointY",0),v1.Factory.addComponentsGetterSetter(y4,"fillRadialGradientStartPoint",["x","y"]),v1.Factory.addGetterSetter(y4,"fillRadialGradientStartPointX",0),v1.Factory.addGetterSetter(y4,"fillRadialGradientStartPointY",0),v1.Factory.addComponentsGetterSetter(y4,"fillRadialGradientEndPoint",["x","y"]),v1.Factory.addGetterSetter(y4,"fillRadialGradientEndPointX",0),v1.Factory.addGetterSetter(y4,"fillRadialGradientEndPointY",0),v1.Factory.addGetterSetter(y4,"fillPatternRotation",0),v1.Factory.addGetterSetter(y4,"fillRule",void 0,(0,v2.getStringValidator)()),v1.Factory.backCompat(y4,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var y6=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],y8=y6.length;class y9 extends yv.Container{constructor(e){super(e),this.canvas=new v5.SceneCanvas,this.hitCanvas=new v5.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){let e=this.canvas._canvas;return e.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){v0.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!v0.Node.prototype.moveUp.call(this))return!1;var e=this.getStage();return!!e&&!!e.content&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(v0.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(v0.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return v0.Node.prototype.remove.call(this),e&&e.parentNode&&vW.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&vW.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),v0.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){let e=this.visible();e?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){vW.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){vW.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,vW.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(let r=0;r<y8;r++){let i=y6[r],a=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){let t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){let e=vW.Util._rgbToHex(n[0],n[1],n[2]),t=yQ.shapes["#"+e];return t?{shape:t}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),yv.Container.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}drawHit(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),yv.Container.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){vW.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return vW.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return vW.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}"use strict";yZ.Layer=y9,y9.prototype.nodeType="Layer",(0,vG._registerNode)(y9),v1.Factory.addGetterSetter(y9,"imageSmoothingEnabled",!0),v1.Factory.addGetterSetter(y9,"clearBeforeDraw",!0),v1.Factory.addGetterSetter(y9,"hitGraphEnabled",!0,(0,v2.getBooleanValidator)());var y7={};Object.defineProperty(y7,"__esModule",{value:!0}),y7.FastLayer=void 0;class be extends yZ.Layer{constructor(e){super(e),this.listening(!1),vW.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}"use strict";y7.FastLayer=be,be.prototype.nodeType="FastLayer",(0,vG._registerNode)(be);var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.Group=void 0;class bn extends yv.Container{_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&vW.Util.throw("You may only add groups and shapes to groups.")}}"use strict";bt.Group=bn,bn.prototype.nodeType="Group",(0,vG._registerNode)(bn);var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.Animation=void 0;var bi=vG.glob.performance&&vG.glob.performance.now?function(){return vG.glob.performance.now()}:function(){return new Date().getTime()};class ba{constructor(e,t){this.id=ba.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:bi(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e,t=ba.animations,n=t.length;for(e=0;e<n;e++)if(t[e].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=bi(),ba._addAnimation(this),this}stop(){return ba._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}}static _runFrames(){var e,t,n,r,i,a,o,s,l={},u=this.animations;for(r=0;r<u.length;r++)if(t=(e=u[r]).layers,n=e.func,e._updateFrameObject(bi()),a=t.length,!n||!1!==n.call(e,e.frame))for(i=0;i<a;i++)void 0!==(o=t[i])._id&&(l[o._id]=o);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){ba.animations.length?(ba._runFrames(),vW.Util.requestAnimFrame(ba._animationLoop)):ba.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,vW.Util.requestAnimFrame(this._animationLoop))}}"use strict";br.Animation=ba,ba.animations=[],ba.animIdCounter=0,ba.animRunning=!1;var bo={};Object.defineProperty(bo,"__esModule",{value:!0}),bo.Easings=bo.Tween=void 0;var bs={node:1,duration:1,easing:1,onFinish:1,yoyo:1},bl=0,bu=["fill","stroke","shadowColor"];class bc{constructor(e,t,n,r,i,a,o){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class bd{constructor(e){var t,n,r=this,i=e.node,a=i._id,o=e.easing||bo.Easings.Linear,s=!!e.yoyo;t=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=i,this._id=bl++;var l=i.getLayer()||(i instanceof vG.Konva.Stage?i.getLayers():null);for(n in l||vW.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new br.Animation(function(){r.tween.onEnterFrame()},l),this.tween=new bc(n,function(e){r._tweenFunc(e)},o,0,1,1e3*t,s),this._addListeners(),bd.attrs[a]||(bd.attrs[a]={}),bd.attrs[a][this._id]||(bd.attrs[a][this._id]={}),bd.tweens[a]||(bd.tweens[a]={}),e)void 0===bs[n]&&this._addAttr(n,e[n]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var n,r,i,a,o,s,l,u,c=this.node,d=c._id;if((i=bd.tweens[d][e])&&delete bd.attrs[d][i][e],n=c.getAttr(e),vW.Util._isArray(t)){if(r=[],o=Math.max(t.length,n.length),"points"===e&&t.length!==n.length&&(t.length>n.length?(l=n,n=vW.Util._prepareArrayForTween(n,t,c.closed())):(s=t,t=vW.Util._prepareArrayForTween(t,n,c.closed()))),0===e.indexOf("fill"))for(a=0;a<o;a++)if(a%2==0)r.push(t[a]-n[a]);else{var h=vW.Util.colorToRGBA(n[a]);u=vW.Util.colorToRGBA(t[a]),n[a]=h,r.push({r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a})}else for(a=0;a<o;a++)r.push(t[a]-n[a])}else -1!==bu.indexOf(e)?(n=vW.Util.colorToRGBA(n),r={r:(u=vW.Util.colorToRGBA(t)).r-n.r,g:u.g-n.g,b:u.b-n.b,a:u.a-n.a}):r=t-n;bd.attrs[d][this._id][e]={start:n,diff:r,end:t,trueEnd:s,trueStart:l},bd.tweens[d][e]=this._id}_tweenFunc(e){var t,n,r,i,a,o,s,l,u=this.node,c=bd.attrs[u._id][this._id];for(t in c){if(r=(n=c[t]).start,i=n.diff,l=n.end,vW.Util._isArray(r)){if(a=[],s=Math.max(r.length,l.length),0===t.indexOf("fill"))for(o=0;o<s;o++)o%2==0?a.push((r[o]||0)+i[o]*e):a.push("rgba("+Math.round(r[o].r+i[o].r*e)+","+Math.round(r[o].g+i[o].g*e)+","+Math.round(r[o].b+i[o].b*e)+","+(r[o].a+i[o].a*e)+")");else for(o=0;o<s;o++)a.push((r[o]||0)+i[o]*e)}else a=-1!==bu.indexOf(t)?"rgba("+Math.round(r.r+i.r*e)+","+Math.round(r.g+i.g*e)+","+Math.round(r.b+i.b*e)+","+(r.a+i.a*e)+")":r+i*e;u.setAttr(t,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=bd.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=bd.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e,t=this.node._id,n=this._id,r=bd.tweens[t];for(e in this.pause(),r)delete bd.tweens[t][e];delete bd.attrs[t][n]}}"use strict";bo.Tween=bd,bd.attrs={},bd.tweens={},v0.Node.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new bd(e).play()},bo.Easings={BackEaseIn:(e,t,n,r)=>n*(e/=r)*e*(2.70158*e-1.70158)+t,BackEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*(2.70158*e+1.70158)+1)+t,BackEaseInOut(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,a){var o=0;return 0===e?t:1==(e/=r)?t+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a))+t)},ElasticEaseOut(e,t,n,r,i,a){var o=0;return 0===e?t:1==(e/=r)?t+n:(a||(a=.3*r),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/a)+n+t)},ElasticEaseInOut(e,t,n,r,i,a){var o=0;return 0===e?t:2==(e/=r/2)?t+n:(a||(a=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),e<1)?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/a)*.5+n+t},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,r)=>n-bo.Easings.BounceEaseOut(r-e,0,n,r)+t,BounceEaseInOut:(e,t,n,r)=>e<r/2?.5*bo.Easings.BounceEaseIn(2*e,0,n,r)+t:.5*bo.Easings.BounceEaseOut(2*e-r,0,n,r)+.5*n+t,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t},vV.Konva=vW.Util._assign(vG.Konva,{Util:vW.Util,Transform:vW.Transform,Node:v0.Node,Container:yv.Container,Stage:yb.Stage,stages:yb.stages,Layer:yZ.Layer,FastLayer:y7.FastLayer,Group:bt.Group,DD:v7.DD,Shape:yQ.Shape,shapes:yQ.shapes,Animation:br.Animation,Tween:bo.Tween,Easings:bo.Easings,Context:v4.Context,Canvas:v5.Canvas}),vV.default=vV.Konva;var bh={};Object.defineProperty(bh,"__esModule",{value:!0}),bh.Arc=void 0;class bf extends yQ.Shape{_sceneFunc(e){var t=vG.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=vG.Konva.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),o=Math.sin(Math.min(r,Math.PI/2)),s=i*(i>0?e:t),l=a*(a>0?e:t),u=o*(o>0?t:e);return{x:s,y:n?-1*u:l,width:1*t-s,height:u-l}}}"use strict";"use strict";bh.Arc=bf,bf.prototype._centroid=!0,bf.prototype.className="Arc",bf.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,vG._registerNode)(bf),v1.Factory.addGetterSetter(bf,"innerRadius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bf,"outerRadius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bf,"angle",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bf,"clockwise",!1,(0,v2.getBooleanValidator)());var bp={};Object.defineProperty(bp,"__esModule",{value:!0}),bp.Arrow=void 0;var bm={};function bg(e,t,n,r,i,a,o){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=o*s/(s+l),c=o*l/(s+l);return[n-u*(i-e),r-u*(a-t),n+c*(i-e),r+c*(a-t)]}function bv(e,t){var n,r,i=e.length,a=[];for(n=2;n<i-2;n+=2)isNaN((r=bg(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t))[0])||(a.push(r[0]),a.push(r[1]),a.push(e[n]),a.push(e[n+1]),a.push(r[2]),a.push(r[3]));return a}Object.defineProperty(bm,"__esModule",{value:!0}),bm.Line=void 0;class by extends yQ.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t,n,r,i=this.points(),a=i.length,o=this.tension(),s=this.closed(),l=this.bezier();if(a){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==o&&a>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[a-2],i[a-1])}else if(l)for(r=2;r<a;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<a;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():bv(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,n=this.tension(),r=bg(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=bg(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),a=bv(e,n);return[r[2],r[3]].concat(a).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e,t,n=this.points();if(n.length<4)return{x:n[0]||0,y:n[1]||0,width:0,height:0};for(var r=(n=0!==this.tension()?[n[0],n[1],...this._getTensionPoints(),n[n.length-2],n[n.length-1]]:this.points())[0],i=n[0],a=n[1],o=n[1],s=0;s<n.length/2;s++)e=n[2*s],t=n[2*s+1],r=Math.min(r,e),i=Math.max(i,e),a=Math.min(a,t),o=Math.max(o,t);return{x:r,y:a,width:i-r,height:o-a}}}"use strict";"use strict";bm.Line=by,by.prototype.className="Line",by.prototype._attrsAffectingSize=["points","bezier","tension"],(0,vG._registerNode)(by),v1.Factory.addGetterSetter(by,"closed",!1),v1.Factory.addGetterSetter(by,"bezier",!1),v1.Factory.addGetterSetter(by,"tension",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(by,"points",[],(0,v2.getNumberArrayValidator)());var bb={};Object.defineProperty(bb,"__esModule",{value:!0}),bb.Path=void 0;var b_={};Object.defineProperty(b_,"__esModule",{value:!0}),b_.t2length=b_.getQuadraticArcLength=b_.getCubicArcLength=b_.binomialCoefficients=b_.cValues=b_.tValues=void 0,b_.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],b_.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],b_.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],b_.getCubicArcLength=(e,t,n)=>{let r,i,a;r=n/2,i=0;for(let n=0;n<20;n++)a=r*b_.tValues[20][n]+r,i+=b_.cValues[20][n]*function(e,t,n){let r=bx(1,n,e),i=bx(1,n,t);return Math.sqrt(r*r+i*i)}(e,t,a);return r*i},b_.getQuadraticArcLength=(e,t,n)=>{void 0===n&&(n=1);let r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],a=2*e[1]-2*e[0],o=2*t[1]-2*t[0],s=4*(r*r+i*i);if(0===s)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));let l=4*(r*a+i*o)/(2*s),u=n+l,c=(a*a+o*o)/s-l*l,d=u*u+c>0?Math.sqrt(u*u+c):0,h=l*l+c>0?Math.sqrt(l*l+c):0;return Math.sqrt(s)/2*(u*d-l*h+(l+Math.sqrt(l*l+c)!==0?c*Math.log(Math.abs((u+d)/(l+h))):0))};const bx=(e,t,n)=>{let r,i;let a=n.length-1;if(0===a)return 0;if(0===e){i=0;for(let e=0;e<=a;e++)i+=b_.binomialCoefficients[a][e]*Math.pow(1-t,a-e)*Math.pow(t,e)*n[e];return i}r=Array(a);for(let e=0;e<a;e++)r[e]=a*(n[e+1]-n[e]);return bx(e-1,t,r)};b_.t2length=(e,t,n)=>{let r=1,i=e/t,a=(e-n(i))/t,o=0;for(;r>.001;){let s=n(i+a),l=Math.abs(e-s)/t;if(l<r)r=l,i+=a;else{let o=n(i-a),s=Math.abs(e-o)/t;s<r?(r=s,i-=a):a/=2}if(++o>500)break}return i};class bS extends yQ.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=bS.parsePathData(this.data()),this.pathLength=bS.getPathLength(this.dataArray)}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var n=!1,r=0;r<t.length;r++){var i=t[r].command,a=t[r].points;switch(i){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],d=a[5],h=a[6],f=a[7],p=l>u?l:u,m=l>u?1:l/u,g=l>u?u/l:1;e.translate(o,s),e.rotate(h),e.scale(m,g),e.arc(0,0,p,c,c+d,1-f),e.scale(1/m,1/g),e.rotate(-h),e.translate(-o,-s);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e,t,n=[];this.dataArray.forEach(function(e){if("A"===e.command){var t=e.points[4],r=e.points[5],i=e.points[4]+r,a=Math.PI/180;if(Math.abs(t-i)<a&&(a=Math.abs(t-i)),r<0)for(let r=t-a;r>i;r-=a){let t=bS.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],r,0);n.push(t.x,t.y)}else for(let r=t+a;r<i;r+=a){let t=bS.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],r,0);n.push(t.x,t.y)}}else if("C"===e.command)for(let t=0;t<=1;t+=.01){let r=bS.getPointOnCubicBezier(t,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);n.push(r.x,r.y)}else n=n.concat(e.points)});for(var r=n[0],i=n[0],a=n[1],o=n[1],s=0;s<n.length/2;s++)e=n[2*s],t=n[2*s+1],isNaN(e)||(r=Math.min(r,e),i=Math.max(i,e)),isNaN(t)||(a=Math.min(a,t),o=Math.max(o,t));return{x:r,y:a,width:i-r,height:o-a}}getLength(){return this.pathLength}getPointAtLength(e){return bS.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(var n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){var n,r=0,i=t.length;if(!i)return null;for(;r<i&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===i)return{x:(n=t[r-1].points.slice(-2))[0],y:n[1]};if(e<.01)return{x:(n=t[r].points.slice(0,2))[0],y:n[1]};var a=t[r],o=a.points;switch(a.command){case"L":return bS.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return bS.getPointOnCubicBezier((0,b_.t2length)(e,bS.getPathLength(t),e=>(0,b_.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],e)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return bS.getPointOnQuadraticBezier((0,b_.t2length)(e,bS.getPathLength(t),e=>(0,b_.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],e)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":var s=o[0],l=o[1],u=o[2],c=o[3],d=o[4],h=o[5],f=o[6];return d+=h*e/a.pathLength,bS.getPointOnEllipticalArc(s,l,u,c,d,f)}return null}static getPointOnLine(e,t,n,r,i,a,o){void 0===a&&(a=t),void 0===o&&(o=n);var s=(i-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+s*s));r<t&&(l*=-1);var u=s*l;if(r===t)c={x:a,y:o+u};else if((o-n)/(a-t+1e-8)===s)c={x:a+l,y:o+u};else{var c,d,h,f=this.getLineLength(t,n,r,i),p=(a-t)*(r-t)+(o-n)*(i-n);p/=f*f,d=t+p*(r-t),h=n+p*(i-n);var m=this.getLineLength(a,o,d,h),g=Math.sqrt(e*e-m*m);l=Math.sqrt(g*g/(1+s*s)),r<t&&(l*=-1),u=s*l,c={x:d+l,y:h+u}}return c}static getPointOnCubicBezier(e,t,n,r,i,a,o,s,l){function u(e){return 3*e*(1-e)*(1-e)}return{x:s*(e*e*e)+a*(3*e*e*(1-e))+r*u(e)+t*((1-e)*(1-e)*(1-e)),y:l*(e*e*e)+o*(3*e*e*(1-e))+i*u(e)+n*((1-e)*(1-e)*(1-e))}}static getPointOnQuadraticBezier(e,t,n,r,i,a,o){return{x:a*(e*e)+r*(2*e*(1-e))+t*((1-e)*(1-e)),y:o*(e*e)+i*(2*e*(1-e))+n*((1-e)*(1-e))}}static getPointOnEllipticalArc(e,t,n,r,i,a){var o=Math.cos(a),s=Math.sin(a),l={x:n*Math.cos(i),y:r*Math.sin(i)};return{x:e+(l.x*o-l.y*s),y:t+(l.x*s+l.y*o)}}static parsePathData(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(RegExp(n[r],"g"),"|"+n[r]);var i=t.split("|"),a=[],o=[],s=0,l=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<i.length;r++){var c=i[r],d=c.charAt(0);for(c=c.slice(1),o.length=0;g=u.exec(c);)o.push(g[0]);for(var h=[],f=0,p=o.length;f<p;f++){if("00"===o[f]){h.push(0,0);continue}var m=parseFloat(o[f]);isNaN(m)?h.push(0):h.push(m)}for(;h.length>0&&!isNaN(h[0]);){var g,v,y,b,_,x,S,w,E,M,T,C=null,P=[],A=s,R=l;switch(d){case"l":s+=h.shift(),l+=h.shift(),C="L",P.push(s,l);break;case"L":s=h.shift(),l=h.shift(),P.push(s,l);break;case"m":var O=h.shift(),k=h.shift();if(s+=O,l+=k,C="M",a.length>2&&"z"===a[a.length-1].command){for(var L=a.length-2;L>=0;L--)if("M"===a[L].command){s=a[L].points[0]+O,l=a[L].points[1]+k;break}}P.push(s,l),d="l";break;case"M":s=h.shift(),l=h.shift(),C="M",P.push(s,l),d="L";break;case"h":s+=h.shift(),C="L",P.push(s,l);break;case"H":s=h.shift(),C="L",P.push(s,l);break;case"v":l+=h.shift(),C="L",P.push(s,l);break;case"V":l=h.shift(),C="L",P.push(s,l);break;case"C":P.push(h.shift(),h.shift(),h.shift(),h.shift()),s=h.shift(),l=h.shift(),P.push(s,l);break;case"c":P.push(s+h.shift(),l+h.shift(),s+h.shift(),l+h.shift()),s+=h.shift(),l+=h.shift(),C="C",P.push(s,l);break;case"S":y=s,b=l,"C"===(v=a[a.length-1]).command&&(y=s+(s-v.points[2]),b=l+(l-v.points[3])),P.push(y,b,h.shift(),h.shift()),s=h.shift(),l=h.shift(),C="C",P.push(s,l);break;case"s":y=s,b=l,"C"===(v=a[a.length-1]).command&&(y=s+(s-v.points[2]),b=l+(l-v.points[3])),P.push(y,b,s+h.shift(),l+h.shift()),s+=h.shift(),l+=h.shift(),C="C",P.push(s,l);break;case"Q":P.push(h.shift(),h.shift()),s=h.shift(),l=h.shift(),P.push(s,l);break;case"q":P.push(s+h.shift(),l+h.shift()),s+=h.shift(),l+=h.shift(),C="Q",P.push(s,l);break;case"T":y=s,b=l,"Q"===(v=a[a.length-1]).command&&(y=s+(s-v.points[0]),b=l+(l-v.points[1])),s=h.shift(),l=h.shift(),C="Q",P.push(y,b,s,l);break;case"t":y=s,b=l,"Q"===(v=a[a.length-1]).command&&(y=s+(s-v.points[0]),b=l+(l-v.points[1])),s+=h.shift(),l+=h.shift(),C="Q",P.push(y,b,s,l);break;case"A":_=h.shift(),x=h.shift(),S=h.shift(),w=h.shift(),E=h.shift(),M=s,T=l,s=h.shift(),l=h.shift(),C="A",P=this.convertEndpointToCenterParameterization(M,T,s,l,w,E,_,x,S);break;case"a":_=h.shift(),x=h.shift(),S=h.shift(),w=h.shift(),E=h.shift(),M=s,T=l,s+=h.shift(),l+=h.shift(),C="A",P=this.convertEndpointToCenterParameterization(M,T,s,l,w,E,_,x,S)}a.push({command:C||d,points:P,start:{x:A,y:R},pathLength:this.calcLength(A,R,C||d,P)})}("z"===d||"Z"===d)&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,t,n,r){var i,a,o,s;switch(n){case"L":return bS.getLineLength(e,t,r[0],r[1]);case"C":return(0,b_.getCubicArcLength)([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return(0,b_.getQuadraticArcLength)([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":i=0;var l=r[4],u=r[5],c=r[4]+u,d=Math.PI/180;if(Math.abs(l-c)<d&&(d=Math.abs(l-c)),a=bS.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),u<0)for(s=l-d;s>c;s-=d)o=bS.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=bS.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=l+d;s<c;s+=d)o=bS.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=bS.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=bS.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),i+=bS.getLineLength(a.x,a.y,o.x,o.y)}return 0}static convertEndpointToCenterParameterization(e,t,n,r,i,a,o,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,d=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,h=c*c/(o*o)+d*d/(s*s);h>1&&(o*=Math.sqrt(h),s*=Math.sqrt(h));var f=Math.sqrt((o*o*(s*s)-o*o*(d*d)-s*s*(c*c))/(o*o*(d*d)+s*s*(c*c)));i===a&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*d/s,m=-(f*s)*c/o,g=(e+n)/2+Math.cos(u)*p-Math.sin(u)*m,v=(t+r)/2+Math.sin(u)*p+Math.cos(u)*m,y=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},x=_([1,0],[(c-p)/o,(d-m)/s]),S=[(c-p)/o,(d-m)/s],w=[(-1*c-p)/o,(-1*d-m)/s],E=_(S,w);return -1>=b(S,w)&&(E=Math.PI),b(S,w)>=1&&(E=0),0===a&&E>0&&(E-=2*Math.PI),1===a&&E<0&&(E+=2*Math.PI),[g,v,o,s,x,E,u,a]}}bb.Path=bS,bS.prototype.className="Path",bS.prototype._attrsAffectingSize=["data"],(0,vG._registerNode)(bS),v1.Factory.addGetterSetter(bS,"data");class bw extends bm.Line{_sceneFunc(e){super._sceneFunc(e);var t,n,r=2*Math.PI,i=this.points(),a=i,o=0!==this.tension()&&i.length>4;o&&(a=this.getTensionPoints());var s=this.pointerLength(),l=i.length;if(o){let e=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],i[l-2],i[l-1]],r=bb.Path.calcLength(a[a.length-4],a[a.length-3],"C",e),o=bb.Path.getPointOnQuadraticBezier(Math.min(1,1-s/r),e[0],e[1],e[2],e[3],e[4],e[5]);t=i[l-2]-o.x,n=i[l-1]-o.y}else t=i[l-2]-i[l-4],n=i[l-1]-i[l-3];var u=(Math.atan2(n,t)+r)%r,c=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[l-2],i[l-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-s,c/2),e.lineTo(-s,-c/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),o?(t=(a[0]+a[2])/2-i[0],n=(a[1]+a[3])/2-i[1]):(t=i[2]-i[0],n=i[3]-i[1]),e.rotate((Math.atan2(-n,-t)+r)%r),e.moveTo(0,0),e.lineTo(-s,c/2),e.lineTo(-s,-c/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}"use strict";bp.Arrow=bw,bw.prototype.className="Arrow",(0,vG._registerNode)(bw),v1.Factory.addGetterSetter(bw,"pointerLength",10,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bw,"pointerWidth",10,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bw,"pointerAtBeginning",!1),v1.Factory.addGetterSetter(bw,"pointerAtEnding",!0);var bE={};Object.defineProperty(bE,"__esModule",{value:!0}),bE.Circle=void 0;class bM extends yQ.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}"use strict";bE.Circle=bM,bM.prototype._centroid=!0,bM.prototype.className="Circle",bM.prototype._attrsAffectingSize=["radius"],(0,vG._registerNode)(bM),v1.Factory.addGetterSetter(bM,"radius",0,(0,v2.getNumberValidator)());var bT={};Object.defineProperty(bT,"__esModule",{value:!0}),bT.Ellipse=void 0;class bC extends yQ.Shape{_sceneFunc(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}"use strict";bT.Ellipse=bC,bC.prototype.className="Ellipse",bC.prototype._centroid=!0,bC.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,vG._registerNode)(bC),v1.Factory.addComponentsGetterSetter(bC,"radius",["x","y"]),v1.Factory.addGetterSetter(bC,"radiusX",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bC,"radiusY",0,(0,v2.getNumberValidator)());var bP={};Object.defineProperty(bP,"__esModule",{value:!0}),bP.Image=void 0;class bA extends yQ.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&4===e.readyState||!e||!e.addEventListener||e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){let t;let n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;if(a){let e=this.attrs.cropWidth,i=this.attrs.cropHeight;t=e&&i?[a,this.cropX(),this.cropY(),e,i,0,0,n,r]:[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?vW.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),a&&(i&&e.clip(),e.drawImage.apply(e,t))}_hitFunc(e){var t=this.width(),n=this.height(),r=this.cornerRadius();e.beginPath(),r?vW.Util.drawRoundedRectPath(e,t,n,r):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t,n=null){var r=vW.Util.createImageElement();r.onload=function(){t(new bA({image:r}))},r.onerror=n,r.crossOrigin="Anonymous",r.src=e}}"use strict";bP.Image=bA,bA.prototype.className="Image",(0,vG._registerNode)(bA),v1.Factory.addGetterSetter(bA,"cornerRadius",0,(0,v2.getNumberOrArrayOfNumbersValidator)(4)),v1.Factory.addGetterSetter(bA,"image"),v1.Factory.addComponentsGetterSetter(bA,"crop",["x","y","width","height"]),v1.Factory.addGetterSetter(bA,"cropX",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bA,"cropY",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bA,"cropWidth",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bA,"cropHeight",0,(0,v2.getNumberValidator)());var bR={};Object.defineProperty(bR,"__esModule",{value:!0}),bR.Tag=bR.Label=void 0;var bO=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],bk="right",bL="down",bN="left",bI=bO.length;class bD extends bt.Group{constructor(e){super(e),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,n=this,r=function(){n._sync()};for(t=0;t<bI;t++)e.on(bO[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,n,r,i,a,o,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),o=l.pointerHeight(),i=0,a=0,n){case"up":i=e/2,a=-1*o;break;case bk:i=e+r,a=t/2;break;case bL:i=e/2,a=t+o;break;case bN:i=-1*r,a=t/2}l.setAttrs({x:-1*i,y:-1*a,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*a})}}}bR.Label=bD,bD.prototype.className="Label",(0,vG._registerNode)(bD);class bU extends yQ.Shape{_sceneFunc(e){var t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,u=0,c=0;"number"==typeof o?s=l=u=c=Math.min(o,t/2,n/2):(s=Math.min(o[0]||0,t/2,n/2),l=Math.min(o[1]||0,t/2,n/2),c=Math.min(o[2]||0,t/2,n/2),u=Math.min(o[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),"up"===r&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*a),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===bk&&(e.lineTo(t,(n-a)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+a)/2)),e.lineTo(t,n-c),e.arc(t-c,n-c,c,0,Math.PI/2,!1),r===bL&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+a),e.lineTo((t-i)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===bN&&(e.lineTo(0,(n+a)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-a)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),a=this.width(),o=this.height();return"up"===i?(t-=r,o+=r):i===bL?o+=r:i===bN?(e-=1.5*n,a+=n):i===bk&&(a+=1.5*n),{x:e,y:t,width:a,height:o}}}"use strict";bR.Tag=bU,bU.prototype.className="Tag",(0,vG._registerNode)(bU),v1.Factory.addGetterSetter(bU,"pointerDirection","none"),v1.Factory.addGetterSetter(bU,"pointerWidth",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bU,"pointerHeight",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bU,"cornerRadius",0,(0,v2.getNumberOrArrayOfNumbersValidator)(4));var bz={};Object.defineProperty(bz,"__esModule",{value:!0}),bz.Rect=void 0;class bF extends yQ.Shape{_sceneFunc(e){var t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?vW.Util.drawRoundedRectPath(e,n,r,t):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}}"use strict";bz.Rect=bF,bF.prototype.className="Rect",(0,vG._registerNode)(bF),v1.Factory.addGetterSetter(bF,"cornerRadius",0,(0,v2.getNumberOrArrayOfNumbersValidator)(4));var bj={};Object.defineProperty(bj,"__esModule",{value:!0}),bj.RegularPolygon=void 0;class bB extends yQ.Shape{_sceneFunc(e){let t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(var r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){let e=this._getPoints();var t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach(e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)}),{x:t,y:r,width:n-t,height:i-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}"use strict";bj.RegularPolygon=bB,bB.prototype.className="RegularPolygon",bB.prototype._centroid=!0,bB.prototype._attrsAffectingSize=["radius"],(0,vG._registerNode)(bB),v1.Factory.addGetterSetter(bB,"radius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bB,"sides",0,(0,v2.getNumberValidator)());var bV={};Object.defineProperty(bV,"__esModule",{value:!0}),bV.Ring=void 0;var bG=2*Math.PI;class bH extends yQ.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,bG,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),bG,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}"use strict";bV.Ring=bH,bH.prototype.className="Ring",bH.prototype._centroid=!0,bH.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,vG._registerNode)(bH),v1.Factory.addGetterSetter(bH,"innerRadius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bH,"outerRadius",0,(0,v2.getNumberValidator)());var bW={};Object.defineProperty(bW,"__esModule",{value:!0}),bW.Sprite=void 0;class bX extends yQ.Shape{constructor(e){super(e),this._updated=!0,this.anim=new br.Animation(()=>{var e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],a=this.frameOffsets(),o=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c){if(a){var d=a[t],h=2*n;e.drawImage(c,o,s,l,u,d[h+0],d[h+1],l,u)}else e.drawImage(c,o,s,l,u,0,0,l,u)}}_hitFunc(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],a=this.frameOffsets(),o=i[r+2],s=i[r+3];if(e.beginPath(),a){var l=a[t],u=2*n;e.rect(l[u+0],l[u+1],o,s)}else e.rect(0,0,o,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}"use strict";bW.Sprite=bX,bX.prototype.className="Sprite",(0,vG._registerNode)(bX),v1.Factory.addGetterSetter(bX,"animation"),v1.Factory.addGetterSetter(bX,"animations"),v1.Factory.addGetterSetter(bX,"frameOffsets"),v1.Factory.addGetterSetter(bX,"image"),v1.Factory.addGetterSetter(bX,"frameIndex",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bX,"frameRate",17,(0,v2.getNumberValidator)()),v1.Factory.backCompat(bX,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var b$={};Object.defineProperty(b$,"__esModule",{value:!0}),b$.Star=void 0;class bq extends yQ.Shape{_sceneFunc(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<2*r;i++){var a=i%2==0?n:t,o=a*Math.sin(i*Math.PI/r),s=-1*a*Math.cos(i*Math.PI/r);e.lineTo(o,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}"use strict";b$.Star=bq,bq.prototype.className="Star",bq.prototype._centroid=!0,bq.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,vG._registerNode)(bq),v1.Factory.addGetterSetter(bq,"numPoints",5,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bq,"innerRadius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(bq,"outerRadius",0,(0,v2.getNumberValidator)());var bY={};function bK(e){return Array.from(e)}Object.defineProperty(bY,"__esModule",{value:!0}),bY.Text=bY.stringToArray=void 0,bY.stringToArray=bK;var bZ="auto",bQ="justify",bJ="left",b0="middle",b1="normal",b2="none",b3=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],b5=b3.length;function b4(){return A||(A=vW.Util.createCanvasElement().getContext("2d"))}class b6 extends yQ.Shape{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<b5;t++)this.on(b3[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,n=t.length;if(this.text()){var r,i=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),h=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),m=-1!==f.indexOf("line-through"),g=o/2,v=0,y=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",b0),e.setAttr("textAlign",bJ),s===b0?l=(this.getHeight()-n*o-2*i)/2:"bottom"===s&&(l=this.getHeight()-n*o-2*i),e.translate(i,l+i),r=0;r<n;r++){var b,_,x,v=0,y=0,S=t[r],w=S.text,E=S.width,M=S.lastInParagraph;if(e.save(),"right"===u?v+=c-E-2*i:"center"===u&&(v+=(c-E-2*i)/2),p){e.save(),e.beginPath(),e.moveTo(v,g+y+Math.round(a/2)),_=0==(b=w.split(" ").length-1),x=u!==bQ||M?E:c-2*i,e.lineTo(v+Math.round(x),g+y+Math.round(a/2)),e.lineWidth=a/15;let t=this._getLinearGradient();e.strokeStyle=t||h,e.stroke(),e.restore()}if(m){e.save(),e.beginPath(),e.moveTo(v,g+y),_=0==(b=w.split(" ").length-1),x=u===bQ&&M&&!_?c-2*i:E,e.lineTo(v+Math.round(x),g+y),e.lineWidth=a/15;let t=this._getLinearGradient();e.strokeStyle=t||h,e.stroke(),e.restore()}if(0!==d||u===bQ){b=w.split(" ").length-1;for(var T=bK(w),C=0;C<T.length;C++){var P=T[C];" "!==P||M||u!==bQ||(v+=(c-2*i-E)/b),this._partialTextX=v,this._partialTextY=g+y,this._partialText=P,e.fillStrokeShape(this),v+=this.measureSize(P).width+d}}else this._partialTextX=v,this._partialTextY=g+y,this._partialText=w,e.fillStrokeShape(this);e.restore(),n>1&&(g+=o)}}}_hitFunc(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=vW.Util._isString(e)?e:null==e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===bZ||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===bZ||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return vW.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n=b4(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:r}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily().split(",").map(e=>{e=e.trim();let t=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e}).join(", ")}_addTextLine(e){let t=this.align();t===bQ&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),n=e.length;return b4().measureText(e).width+(n?t*(n-1):0)}_setTextData(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,a=this.attrs.height,o=i!==bZ&&void 0!==i,s=a!==bZ&&void 0!==a,l=this.padding(),u=i-2*l,c=a-2*l,d=0,h=this.wrap(),f="char"!==h&&h!==b2,p=this.ellipsis();this.textArr=[],b4().font=this._getContextFont();for(var m=p?this._getTextWidth("…"):0,g=0,v=e.length;g<v;++g){var y=e[g],b=this._getTextWidth(y);if(o&&b>u)for(;y.length>0;){for(var _=0,x=y.length,S="",w=0;_<x;){var E=_+x>>>1,M=y.slice(0,E+1),T=this._getTextWidth(M)+m;T<=u?(_=E+1,S=M,w=T):x=E}if(S){if(f){var C,P=y[S.length];(C=(" "===P||"-"===P)&&w<=u?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)>0&&(_=C,S=S.slice(0,_),w=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,w),d+=r,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if((y=(y=y.slice(_)).trimLeft()).length>0&&(b=this._getTextWidth(y))<=u){this._addTextLine(y),d+=r,n=Math.max(n,b);break}}else break}else this._addTextLine(y),d+=r,n=Math.max(n,b),this._shouldHandleEllipsis(d)&&g<v-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&d+r>c)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){var t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,i=this.padding();return!(this.wrap()!==b2)||r!==bZ&&void 0!==r&&e+n>r-2*i}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=this.padding(),n=this.ellipsis(),r=this.textArr[this.textArr.length-1];r&&n&&(e===bZ||void 0===e||this._getTextWidth(r.text+"…")<e-2*t||(r.text=r.text.slice(0,r.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(r.text+"…"))}getStrokeScaleEnabled(){return!0}}"use strict";bY.Text=b6,b6.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},b6.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},b6.prototype.className="Text",b6.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,vG._registerNode)(b6),v1.Factory.overWriteSetter(b6,"width",(0,v2.getNumberOrAutoValidator)()),v1.Factory.overWriteSetter(b6,"height",(0,v2.getNumberOrAutoValidator)()),v1.Factory.addGetterSetter(b6,"fontFamily","Arial"),v1.Factory.addGetterSetter(b6,"fontSize",12,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(b6,"fontStyle",b1),v1.Factory.addGetterSetter(b6,"fontVariant",b1),v1.Factory.addGetterSetter(b6,"padding",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(b6,"align",bJ),v1.Factory.addGetterSetter(b6,"verticalAlign","top"),v1.Factory.addGetterSetter(b6,"lineHeight",1,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(b6,"wrap","word"),v1.Factory.addGetterSetter(b6,"ellipsis",!1,(0,v2.getBooleanValidator)()),v1.Factory.addGetterSetter(b6,"letterSpacing",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(b6,"text","",(0,v2.getStringValidator)()),v1.Factory.addGetterSetter(b6,"textDecoration","");var b8={};Object.defineProperty(b8,"__esModule",{value:!0}),b8.TextPath=void 0;var b9="normal";function b7(e){e.fillText(this.partialText,0,0)}function _e(e){e.strokeText(this.partialText,0,0)}class _t extends yQ.Shape{constructor(e){super(e),this.dummyCanvas=vW.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return bb.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let t=this.pathLength;return e-1>t?null:bb.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=bb.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(var a=0;a<i.length;a++){e.save();var o=i[a].p0;e.translate(o.x,o.y),e.rotate(i[a].rotation),this.partialText=i[a].text,e.fillStrokeShape(this),"underline"===t&&(0===a&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return vW.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return bY.Text.prototype.setText.call(this,e)}_getContextFont(){return bY.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;let n=this.letterSpacing(),r=this.align(),i=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0),o=0;"center"===r&&(o=Math.max(0,this.pathLength/2-a/2)),"right"===r&&(o=Math.max(0,this.pathLength-a));let s=(0,bY.stringToArray)(this.text()),l=o;for(var u=0;u<s.length;u++){let e=this._getPointAtLength(l);if(!e)return;let t=this._getTextSize(s[u]).width+n;if(" "===s[u]&&"justify"===r){let e=this.text().split(" ").length-1;t+=(this.pathLength-a)/e}let o=this._getPointAtLength(l+t);if(!o)return;let c=bb.Path.getLineLength(e.x,e.y,o.x,o.y),d=0;if(i)try{d=i(s[u-1],s[u])*this.fontSize()}catch(e){d=0}e.x+=d,o.x+=d,this.textWidth+=d;let h=bb.Path.getPointOnLine(d+c/2,e.x,e.y,o.x,o.y),f=Math.atan2(o.y-e.y,o.x-e.x);this.glyphInfo.push({transposeX:h.x,transposeY:h.y,text:s[u],rotation:f,p0:e,p1:o}),l+=t}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e,t,n=[];this.glyphInfo.forEach(function(e){n.push(e.p0.x),n.push(e.p0.y),n.push(e.p1.x),n.push(e.p1.y)});for(var r=n[0]||0,i=n[0]||0,a=n[1]||0,o=n[1]||0,s=0;s<n.length/2;s++)e=n[2*s],t=n[2*s+1],r=Math.min(r,e),i=Math.max(i,e),a=Math.min(a,t),o=Math.max(o,t);var l=this.fontSize();return{x:r-l/2,y:a-l/2,width:i-r+l,height:o-a+l}}destroy(){return vW.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}"use strict";b8.TextPath=_t,_t.prototype._fillFunc=b7,_t.prototype._strokeFunc=_e,_t.prototype._fillFuncHit=b7,_t.prototype._strokeFuncHit=_e,_t.prototype.className="TextPath",_t.prototype._attrsAffectingSize=["text","fontSize","data"],(0,vG._registerNode)(_t),v1.Factory.addGetterSetter(_t,"data"),v1.Factory.addGetterSetter(_t,"fontFamily","Arial"),v1.Factory.addGetterSetter(_t,"fontSize",12,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_t,"fontStyle",b9),v1.Factory.addGetterSetter(_t,"align","left"),v1.Factory.addGetterSetter(_t,"letterSpacing",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_t,"textBaseline","middle"),v1.Factory.addGetterSetter(_t,"fontVariant",b9),v1.Factory.addGetterSetter(_t,"text",""),v1.Factory.addGetterSetter(_t,"textDecoration",null),v1.Factory.addGetterSetter(_t,"kerningFunc",null);var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),_n.Transformer=void 0;var _r="tr-konva",_i=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${_r}`).join(" "),_a="nodesRect",_o=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],_s={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const _l="ontouchstart"in vG.Konva._global;var _u=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function _c(e,t,n){let r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}class _d extends bt.Group{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(_i,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return vW.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return _r+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let t=e.filter(e=>!e.isAncestorOf(this)||(vW.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(e=>{let t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=e._attrsAffectingSize.map(e=>e+"Change."+this._getEventNamespace()).join(" ");e.on(n,t),e.on(_o.map(e=>e+`.${this._getEventNamespace()}`).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!t)return;let r=e.getAbsolutePosition(),i=r.x-t.x,a=r.y-t.y;this.nodes().forEach(t=>{if(t===e||t.isDragging())return;let r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+i,y:r.y+a}),t.startDrag(n)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(_a),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(_a,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),n){var r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),a=e.getAbsolutePosition(n),o=r.x*i.x-e.offsetX()*i.x,s=r.y*i.y-e.offsetY()*i.y;let l=(vG.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI),u={x:a.x+o*Math.cos(l)+s*Math.sin(-l),y:a.y+s*Math.cos(l)+o*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l};return _c(u,-vG.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){var e,t,n,r;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};let i=[];this.nodes().map(e=>{let t=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],r=e.getAbsoluteTransform();n.forEach(function(e){var t=r.point(e);i.push(t)})});let a=new vW.Transform;a.rotate(-vG.Konva.getAngle(this.rotation())),i.forEach(function(i){var o=a.point(i);void 0===e&&(e=n=o.x,t=r=o.y),e=Math.min(e,o.x),t=Math.min(t,o.y),n=Math.max(n,o.x),r=Math.max(r,o.y)}),a.invert();let o=a.point({x:e,y:t});return{x:o.x,y:o.y,width:n-e,height:r-t,rotation:vG.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),_u.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var t=new bz.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_l?10:"auto"}),n=this;t.on("mousedown touchstart",function(e){n._handleMouseDown(e)}),t.on("dragstart",e=>{t.stopDrag(),e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),t.on("mouseenter",()=>{var n=function(e,t){if("rotater"===e)return"crosshair";t+=vW.Util.degToRad(_s[e]||0);var n=(vW.Util.radToDeg(t)%360+360)%360;return vW.Util._inRange(n,337.5,360)||vW.Util._inRange(n,0,22.5)?"ns-resize":vW.Util._inRange(n,22.5,67.5)?"nesw-resize":vW.Util._inRange(n,67.5,112.5)?"ew-resize":vW.Util._inRange(n,112.5,157.5)?"nwse-resize":vW.Util._inRange(n,157.5,202.5)?"ns-resize":vW.Util._inRange(n,202.5,247.5)?"nesw-resize":vW.Util._inRange(n,247.5,292.5)?"ew-resize":vW.Util._inRange(n,292.5,337.5)?"nwse-resize":(vW.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,vG.Konva.getAngle(this.rotation()));t.getStage().content&&(t.getStage().content.style.cursor=n),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new yQ.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*vW.Util._sign(this.height())-n),e.fillStrokeShape(this)},hitFunc:(e,t)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",e=>{e.cancelBubble=!0}),e.on("dragmove",e=>{e.cancelBubble=!0}),e.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(t=>{t._fire("transformstart",{evt:e.evt,target:t})})}_handleMouseMove(e){var t,n,r,i,a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(e);let s=o.getPointerPosition(),l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y},u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),a.setAbsolutePosition(l);let c=a.getAbsolutePosition();if(u.x!==c.x||u.y!==c.y){if("rotater"===this._movingAnchorName){var d=this._getNodeRect();t=a.x()-d.width/2;let r=Math.atan2(-(n=-a.y()+d.height/2),t)+Math.PI/2;d.height<0&&(r-=Math.PI);var h=vG.Konva.getAngle(this.rotation());let i=h+r,o=vG.Konva.getAngle(this.rotationSnapTolerance()),s=function(e,t,n){let r=t;for(let i=0;i<e.length;i++){let a=vG.Konva.getAngle(e[i]),o=Math.abs(a-t)%(2*Math.PI),s=Math.min(o,2*Math.PI-o);s<n&&(r=a)}return r}(this.rotationSnaps(),i,o),l=s-d.rotation,u=function(e,t){let n={x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)};return _c(e,t,n)}(d,l);this._fitNodesInto(u,e);return}var f=this.shiftBehavior();i="inverted"===f?this.keepRatio()&&!e.shiftKey:"none"===f?this.keepRatio():this.keepRatio()||e.shiftKey;var p=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(i){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(m.y-a.y(),2));var g=this.findOne(".top-left").x()>m.x?-1:1,v=this.findOne(".top-left").y()>m.y?-1:1;t=r*this.cos*g,n=r*this.sin*v,this.findOne(".top-left").x(m.x-t),this.findOne(".top-left").y(m.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(a.y());else if("top-right"===this._movingAnchorName){if(i){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(m.y-a.y(),2));var g=this.findOne(".top-right").x()<m.x?-1:1,v=this.findOne(".top-right").y()>m.y?-1:1;t=r*this.cos*g,n=r*this.sin*v,this.findOne(".top-right").x(m.x+t),this.findOne(".top-right").y(m.y-n)}var y=a.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(a.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(a.x());else if("bottom-left"===this._movingAnchorName){if(i){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(a.y()-m.y,2));var g=m.x<a.x()?-1:1,v=a.y()<m.y?-1:1;t=r*this.cos*g,n=r*this.sin*v,a.x(m.x-t),a.y(m.y+n)}y=a.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(a.y());else if("bottom-right"===this._movingAnchorName){if(i){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(a.y()-m.y,2));var g=this.findOne(".bottom-right").x()<m.x?-1:1,v=this.findOne(".bottom-right").y()<m.y?-1:1;t=r*this.cos*g,n=r*this.sin*v,this.findOne(".bottom-right").x(m.x+t),this.findOne(".bottom-right").y(m.y+n)}}else console.error(Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var p=this.centeredScaling()||e.altKey;if(p){var b=this.findOne(".top-left"),_=this.findOne(".bottom-right"),x=b.x(),S=b.y(),w=this.getWidth()-_.x(),E=this.getHeight()-_.y();_.move({x:-x,y:-S}),b.move({x:w,y:E})}var M=this.findOne(".top-left").getAbsolutePosition();t=M.x,n=M.y;var T=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:T,height:C,rotation:vG.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach(t=>{t._fire("transformend",{evt:e,target:t})}),this._movingAnchorName=null}}_fitNodesInto(e,t){var n=this._getNodeRect();if(vW.Util._inRange(e.width,-(2*this.padding())-1,1)||vW.Util._inRange(e.height,-(2*this.padding())-1,1)){this.update();return}let r=this.flipEnabled();var i=new vW.Transform;if(i.rotate(vG.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let t=i.point({x:-(2*this.padding()),y:0});if(e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,!r){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let t=i.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding(),!r){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let t=i.point({x:0,y:-(2*this.padding())});if(e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!r){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let t=i.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!r){this.update();return}}if(this.boundBoxFunc()){let t=this.boundBoxFunc()(n,e);t?e=t:vW.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let a=new vW.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/1e7,n.height/1e7);let o=new vW.Transform;o.translate(e.x,e.y),o.rotate(e.rotation),o.scale(e.width/1e7,e.height/1e7);let s=o.multiply(a.invert());this._nodes.forEach(e=>{var n;let r=e.getParent().getAbsoluteTransform(),i=e.getTransform().copy();i.translate(e.offsetX(),e.offsetY());let a=new vW.Transform;a.multiply(r.copy().invert()).multiply(s).multiply(r).multiply(i);let o=a.decompose();e.setAttrs(o),this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e}),null===(n=e.getLayer())||void 0===n||n.batchDraw()}),this.rotation(vW.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){let n=this.findOne(e);n.setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(vW.Util._getRotation(t.rotation));var n=t.width,r=t.height,i=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize();let l=this.find("._anchor");l.forEach(e=>{e.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+o,visible:a&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:s/2+o,visible:a&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:s/2-o,visible:a&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:s/2+o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:s/2-o,visible:a&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:s/2-o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*vW.Util._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let u=this.anchorStyleFunc();u&&l.forEach(e=>{u(e)}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),bt.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return v0.Node.prototype.toObject.call(this)}clone(e){return v0.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}"use strict";_n.Transformer=_d,_d.prototype.className="Transformer",(0,vG._registerNode)(_d),v1.Factory.addGetterSetter(_d,"enabledAnchors",_u,function(e){return e instanceof Array||vW.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(e){-1===_u.indexOf(e)&&vW.Util.warn("Unknown anchor name: "+e+". Available names are: "+_u.join(", "))}),e||[]}),v1.Factory.addGetterSetter(_d,"flipEnabled",!0,(0,v2.getBooleanValidator)()),v1.Factory.addGetterSetter(_d,"resizeEnabled",!0),v1.Factory.addGetterSetter(_d,"anchorSize",10,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"rotateEnabled",!0),v1.Factory.addGetterSetter(_d,"rotationSnaps",[]),v1.Factory.addGetterSetter(_d,"rotateAnchorOffset",50,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"rotationSnapTolerance",5,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"borderEnabled",!0),v1.Factory.addGetterSetter(_d,"anchorStroke","rgb(0, 161, 255)"),v1.Factory.addGetterSetter(_d,"anchorStrokeWidth",1,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"anchorFill","white"),v1.Factory.addGetterSetter(_d,"anchorCornerRadius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"borderStroke","rgb(0, 161, 255)"),v1.Factory.addGetterSetter(_d,"borderStrokeWidth",1,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"borderDash"),v1.Factory.addGetterSetter(_d,"keepRatio",!0),v1.Factory.addGetterSetter(_d,"shiftBehavior","default"),v1.Factory.addGetterSetter(_d,"centeredScaling",!1),v1.Factory.addGetterSetter(_d,"ignoreStroke",!1),v1.Factory.addGetterSetter(_d,"padding",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_d,"node"),v1.Factory.addGetterSetter(_d,"nodes"),v1.Factory.addGetterSetter(_d,"boundBoxFunc"),v1.Factory.addGetterSetter(_d,"anchorDragBoundFunc"),v1.Factory.addGetterSetter(_d,"anchorStyleFunc"),v1.Factory.addGetterSetter(_d,"shouldOverdrawWholeArea",!1),v1.Factory.addGetterSetter(_d,"useSingleNodeRotation",!0),v1.Factory.backCompat(_d,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var _h={};Object.defineProperty(_h,"__esModule",{value:!0}),_h.Wedge=void 0;class _f extends yQ.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,vG.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}"use strict";_h.Wedge=_f,_f.prototype.className="Wedge",_f.prototype._centroid=!0,_f.prototype._attrsAffectingSize=["radius"],(0,vG._registerNode)(_f),v1.Factory.addGetterSetter(_f,"radius",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_f,"angle",0,(0,v2.getNumberValidator)()),v1.Factory.addGetterSetter(_f,"clockwise",!1),v1.Factory.backCompat(_f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var _p={};function _m(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}"use strict";Object.defineProperty(_p,"__esModule",{value:!0}),_p.Blur=void 0;"use strict";var _g=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_v=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];_p.Blur=function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,b,_,x,S,w,E,M,T=e.data,C=e.width,P=e.height,A=t+t+1,R=C-1,O=P-1,k=t+1,L=k*(k+1)/2,N=new _m,I=null,D=N,U=null,z=null,F=_g[t],j=_v[t];for(i=1;i<A;i++)D=D.next=new _m,i===k&&(I=D);for(r=0,D.next=N,l=s=0;r<P;r++){for(v=y=b=_=u=c=d=h=0,f=k*(x=T[s]),p=k*(S=T[s+1]),m=k*(w=T[s+2]),g=k*(E=T[s+3]),u+=L*x,c+=L*S,d+=L*w,h+=L*E,D=N,i=0;i<k;i++)D.r=x,D.g=S,D.b=w,D.a=E,D=D.next;for(i=1;i<k;i++)a=s+((R<i?R:i)<<2),u+=(D.r=x=T[a])*(M=k-i),c+=(D.g=S=T[a+1])*M,d+=(D.b=w=T[a+2])*M,h+=(D.a=E=T[a+3])*M,v+=x,y+=S,b+=w,_+=E,D=D.next;for(n=0,U=N,z=I;n<C;n++)T[s+3]=E=h*F>>j,0!==E?(E=255/E,T[s]=(u*F>>j)*E,T[s+1]=(c*F>>j)*E,T[s+2]=(d*F>>j)*E):T[s]=T[s+1]=T[s+2]=0,u-=f,c-=p,d-=m,h-=g,f-=U.r,p-=U.g,m-=U.b,g-=U.a,a=l+((a=n+t+1)<R?a:R)<<2,v+=U.r=T[a],y+=U.g=T[a+1],b+=U.b=T[a+2],_+=U.a=T[a+3],u+=v,c+=y,d+=b,h+=_,U=U.next,f+=x=z.r,p+=S=z.g,m+=w=z.b,g+=E=z.a,v-=x,y-=S,b-=w,_-=E,z=z.next,s+=4;l+=C}for(n=0;n<C;n++){for(y=b=_=v=c=d=h=u=0,f=k*(x=T[s=n<<2]),p=k*(S=T[s+1]),m=k*(w=T[s+2]),g=k*(E=T[s+3]),u+=L*x,c+=L*S,d+=L*w,h+=L*E,D=N,i=0;i<k;i++)D.r=x,D.g=S,D.b=w,D.a=E,D=D.next;for(i=1,o=C;i<=t;i++)s=o+n<<2,u+=(D.r=x=T[s])*(M=k-i),c+=(D.g=S=T[s+1])*M,d+=(D.b=w=T[s+2])*M,h+=(D.a=E=T[s+3])*M,v+=x,y+=S,b+=w,_+=E,D=D.next,i<O&&(o+=C);for(r=0,s=n,U=N,z=I;r<P;r++)T[(a=s<<2)+3]=E=h*F>>j,E>0?(E=255/E,T[a]=(u*F>>j)*E,T[a+1]=(c*F>>j)*E,T[a+2]=(d*F>>j)*E):T[a]=T[a+1]=T[a+2]=0,u-=f,c-=p,d-=m,h-=g,f-=U.r,p-=U.g,m-=U.b,g-=U.a,a=n+((a=r+k)<O?a:O)*C<<2,u+=v+=U.r=T[a],c+=y+=U.g=T[a+1],d+=b+=U.b=T[a+2],h+=_+=U.a=T[a+3],U=U.next,f+=x=z.r,p+=S=z.g,m+=w=z.b,g+=E=z.a,v-=x,y-=S,b-=w,_-=E,z=z.next,s+=C}}(e,t)},v1.Factory.addGetterSetter(v0.Node,"blurRadius",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _y={};Object.defineProperty(_y,"__esModule",{value:!0}),_y.Brighten=void 0,_y.Brighten=function(e){var t,n=255*this.brightness(),r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},v1.Factory.addGetterSetter(v0.Node,"brightness",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _b={};Object.defineProperty(_b,"__esModule",{value:!0}),_b.Contrast=void 0,_b.Contrast=function(e){var t,n=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,a=150,o=150,s=150;for(t=0;t<i;t+=4)a=r[t],o=r[t+1],s=r[t+2],a/=255,a-=.5,a*=n,a+=.5,a*=255,o/=255,o-=.5,o*=n,o+=.5,o*=255,s/=255,s-=.5,s*=n,s+=.5,s*=255,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,r[t]=a,r[t+1]=o,r[t+2]=s},v1.Factory.addGetterSetter(v0.Node,"contrast",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);var __={};Object.defineProperty(__,"__esModule",{value:!0}),__.Emboss=void 0,__.Emboss=function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),a=0,o=0,s=e.data,l=e.width,u=e.height,c=4*l,d=u;switch(r){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:vW.Util.error("Unknown emboss direction: "+r)}do{var h=(d-1)*c,f=a;d+f<1&&(f=0),d+f>u&&(f=0);var p=(d-1+f)*l*4,m=l;do{var g=h+(m-1)*4,v=o;m+v<1&&(v=0),m+v>l&&(v=0);var y=p+(m-1+v)*4,b=s[g]-s[y],_=s[g+1]-s[y+1],x=s[g+2]-s[y+2],S=b,w=S>0?S:-S,E=x>0?x:-x;if((_>0?_:-_)>w&&(S=_),E>w&&(S=x),S*=t,i){var M=s[g]+S,T=s[g+1]+S,C=s[g+2]+S;s[g]=M>255?255:M<0?0:M,s[g+1]=T>255?255:T<0?0:T,s[g+2]=C>255?255:C<0?0:C}else{var P=n-S;P<0?P=0:P>255&&(P=255),s[g]=s[g+1]=s[g+2]=P}}while(--m)}while(--d)},v1.Factory.addGetterSetter(v0.Node,"embossStrength",.5,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"embossWhiteLevel",.5,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"embossDirection","top-left",null,v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"embossBlend",!1,null,v1.Factory.afterSetFilter);var _x={};function _S(e,t,n,r,i){var a=n-t,o=i-r;return 0===a?r+o/2:0===o?r:o*((e-t)/a)+r}"use strict";"use strict";Object.defineProperty(_x,"__esModule",{value:!0}),_x.Enhance=void 0,_x.Enhance=function(e){var t,n,r,i,a,o,s,l,u,c,d,h,f,p=e.data,m=p.length,g=p[0],v=g,y=p[1],b=y,_=p[2],x=_,S=this.enhance();if(0!==S){for(f=0;f<m;f+=4)(c=p[f+0])<g?g=c:c>v&&(v=c),(d=p[f+1])<y?y=d:d>b&&(b=d),(h=p[f+2])<_?_=h:h>x&&(x=h);for(v===g&&(v=255,g=0),b===y&&(b=255,y=0),x===_&&(x=255,_=0),S>0?(n=v+S*(255-v),r=g-S*(g-0),a=b+S*(255-b),o=y-S*(y-0),l=x+S*(255-x),u=_-S*(_-0)):(t=(v+g)*.5,n=v+S*(v-t),r=g+S*(g-t),i=(b+y)*.5,a=b+S*(b-i),o=y+S*(y-i),s=(x+_)*.5,l=x+S*(x-s),u=_+S*(_-s)),f=0;f<m;f+=4)p[f+0]=_S(p[f+0],g,v,r,n),p[f+1]=_S(p[f+1],y,b,o,a),p[f+2]=_S(p[f+2],_,x,u,l)}},v1.Factory.addGetterSetter(v0.Node,"enhance",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _w={};Object.defineProperty(_w,"__esModule",{value:!0}),_w.Grayscale=void 0,_w.Grayscale=function(e){var t,n,r=e.data,i=r.length;for(t=0;t<i;t+=4)n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t]=n,r[t+1]=n,r[t+2]=n};"use strict";var _E={};Object.defineProperty(_E,"__esModule",{value:!0}),_E.HSL=void 0,v1.Factory.addGetterSetter(v0.Node,"hue",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"saturation",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"luminance",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),_E.HSL=function(e){var t,n,r,i,a,o=e.data,s=o.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(u*Math.PI/180),h=1*l*Math.sin(u*Math.PI/180),f=.299+.701*d+.167*h,p=.587-.587*d+.33*h,m=.114-.114*d-.497*h,g=.299-.299*d-.328*h,v=.587+.413*d+.035*h,y=.114-.114*d+.293*h,b=.299-.3*d+1.25*h,_=.587-.586*d-1.05*h,x=.114+.886*d-.2*h;for(a=0;a<s;a+=4)t=o[a+0],n=o[a+1],r=o[a+2],i=o[a+3],o[a+0]=f*t+p*n+m*r+c,o[a+1]=g*t+v*n+y*r+c,o[a+2]=b*t+_*n+x*r+c,o[a+3]=i};"use strict";var _M={};Object.defineProperty(_M,"__esModule",{value:!0}),_M.HSV=void 0,_M.HSV=function(e){var t,n,r,i,a,o=e.data,s=o.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*u*Math.cos(c*Math.PI/180),h=l*u*Math.sin(c*Math.PI/180),f=.299*l+.701*d+.167*h,p=.587*l-.587*d+.33*h,m=.114*l-.114*d-.497*h,g=.299*l-.299*d-.328*h,v=.587*l+.413*d+.035*h,y=.114*l-.114*d+.293*h,b=.299*l-.3*d+1.25*h,_=.587*l-.586*d-1.05*h,x=.114*l+.886*d-.2*h;for(a=0;a<s;a+=4)t=o[a+0],n=o[a+1],r=o[a+2],i=o[a+3],o[a+0]=f*t+p*n+m*r,o[a+1]=g*t+v*n+y*r,o[a+2]=b*t+_*n+x*r,o[a+3]=i},v1.Factory.addGetterSetter(v0.Node,"hue",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"saturation",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"value",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);var _T={};Object.defineProperty(_T,"__esModule",{value:!0}),_T.Invert=void 0,_T.Invert=function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]};"use strict";var _C={};Object.defineProperty(_C,"__esModule",{value:!0}),_C.Kaleidoscope=void 0;var _P=function(e,t,n){var r,i,a,o,s=e.data,l=t.data,u=e.width,c=e.height,d=n.polarCenterX||u/2,h=n.polarCenterY||c/2,f=0,p=0,m=0,g=0,v=Math.sqrt(d*d+h*h);v=(o=Math.sqrt((i=u-d)*i+(a=c-h)*a))>v?o:v;var y,b,_,x,S=360/u*Math.PI/180;for(b=0;b<u;b+=1)for(y=0,_=Math.sin(b*S),x=Math.cos(b*S);y<c;y+=1)i=Math.floor(d+v*y/c*x),f=s[(r=((a=Math.floor(h+v*y/c*_))*u+i)*4)+0],p=s[r+1],m=s[r+2],g=s[r+3],l[(r=(b+y*u)*4)+0]=f,l[r+1]=p,l[r+2]=m,l[r+3]=g},_A=function(e,t,n){var r,i,a,o,s,l,u,c=e.data,d=t.data,h=e.width,f=e.height,p=n.polarCenterX||h/2,m=n.polarCenterY||f/2,g=0,v=0,y=0,b=0,_=Math.sqrt(p*p+m*m);_=(u=Math.sqrt((a=h-p)*a+(o=f-m)*o))>_?u:_;var x,S=n.polarRotation||0;for(a=0;a<h;a+=1)for(o=0;o<f;o+=1)x=Math.sqrt((s=a-p)*s+(l=o-m)*l)*f/_,r=Math.floor((180*Math.atan2(l,s)/Math.PI+360+S)%360*h/360),g=c[(i=(Math.floor(x)*h+r)*4)+0],v=c[i+1],y=c[i+2],b=c[i+3],d[(i=(o*h+a)*4)+0]=g,d[i+1]=v,d[i+2]=y,d[i+3]=b};_C.Kaleidoscope=function(e){var t,n,r,i,a,o,s,l,u,c,d=e.width,h=e.height,f=Math.round(this.kaleidoscopePower()),p=Math.floor(d*(Math.round(this.kaleidoscopeAngle())%360)/360);if(!(f<1)){var m=vW.Util.createCanvasElement();m.width=d,m.height=h;var g=m.getContext("2d").getImageData(0,0,d,h);vW.Util.releaseCanvas(m),_P(e,g,{polarCenterX:d/2,polarCenterY:h/2});for(var v=d/Math.pow(2,f);v<=8;)v*=2,f-=1;var y=v=Math.ceil(v),b=0,_=y,x=1;for(p+v>d&&(b=y,_=0,x=-1),n=0;n<h;n+=1)for(t=b;t!==_;t+=x)r=Math.round(t+p)%d,u=(d*n+r)*4,a=g.data[u+0],o=g.data[u+1],s=g.data[u+2],l=g.data[u+3],c=(d*n+t)*4,g.data[c+0]=a,g.data[c+1]=o,g.data[c+2]=s,g.data[c+3]=l;for(n=0;n<h;n+=1)for(i=0,y=Math.floor(v);i<f;i+=1){for(t=0;t<y+1;t+=1)u=(d*n+t)*4,a=g.data[u+0],o=g.data[u+1],s=g.data[u+2],l=g.data[u+3],c=(d*n+2*y-t-1)*4,g.data[c+0]=a,g.data[c+1]=o,g.data[c+2]=s,g.data[c+3]=l;y*=2}_A(g,e,{polarRotation:0})}},v1.Factory.addGetterSetter(v0.Node,"kaleidoscopePower",2,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"kaleidoscopeAngle",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);var _R={};function _O(e,t,n){var r=(n*e.width+t)*4,i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function _k(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}"use strict";"use strict";Object.defineProperty(_R,"__esModule",{value:!0}),_R.Mask=void 0,_R.Mask=function(e){var t=function(e,t){var n=_O(e,0,0),r=_O(e,e.width-1,0),i=_O(e,0,e.height-1),a=_O(e,e.width-1,e.height-1),o=t||10;if(_k(n,r)<o&&_k(r,a)<o&&_k(a,i)<o&&_k(i,n)<o){for(var s=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,a,i]),l=[],u=0;u<e.width*e.height;u++){var c=_k(s,[e.data[4*u],e.data[4*u+1],e.data[4*u+2]]);l[u]=c<o?0:255}return l}}(e,this.threshold());return t&&(t=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var f=s+d-a,p=l+h-a;if(f>=0&&f<n&&p>=0&&p<t){var m=f*t+p,g=r[d*i+h];c+=e[m]*g}}o[u]=c}return o}(t=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var f=s+d-a,p=l+h-a;if(f>=0&&f<n&&p>=0&&p<t){var m=f*t+p,g=r[d*i+h];c+=e[m]*g}}o[u]=c>=1020?255:0}return o}(t=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),o=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var f=s+d-a,p=l+h-a;if(f>=0&&f<n&&p>=0&&p<t){var m=f*t+p,g=r[d*i+h];c+=e[m]*g}}o[u]=2040===c?255:0}return o}(t,e.width,e.height),e.width,e.height),e.width,e.height),function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},v1.Factory.addGetterSetter(v0.Node,"threshold",0,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _L={};Object.defineProperty(_L,"__esModule",{value:!0}),_L.Noise=void 0,_L.Noise=function(e){var t,n=255*this.noise(),r=e.data,i=r.length,a=n/2;for(t=0;t<i;t+=4)r[t+0]+=a-2*a*Math.random(),r[t+1]+=a-2*a*Math.random(),r[t+2]+=a-2*a*Math.random()},v1.Factory.addGetterSetter(v0.Node,"noise",.2,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _N={};Object.defineProperty(_N,"__esModule",{value:!0}),_N.Pixelate=void 0,_N.Pixelate=function(e){var t,n,r,i,a,o,s,l,u,c,d,h,f,p,m=Math.ceil(this.pixelSize()),g=e.width,v=e.height,y=Math.ceil(g/m),b=Math.ceil(v/m),_=e.data;if(m<=0){vW.Util.error("pixelSize value can not be <= 0");return}for(h=0;h<y;h+=1)for(f=0;f<b;f+=1){for(i=0,a=0,o=0,s=0,u=(l=h*m)+m,d=(c=f*m)+m,p=0,t=l;t<u;t+=1)if(!(t>=g))for(n=c;n<d;n+=1)n>=v||(i+=_[(r=(g*n+t)*4)+0],a+=_[r+1],o+=_[r+2],s+=_[r+3],p+=1);for(i/=p,a/=p,o/=p,s/=p,t=l;t<u;t+=1)if(!(t>=g))for(n=c;n<d;n+=1)n>=v||(_[(r=(g*n+t)*4)+0]=i,_[r+1]=a,_[r+2]=o,_[r+3]=s)}},v1.Factory.addGetterSetter(v0.Node,"pixelSize",8,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _I={};Object.defineProperty(_I,"__esModule",{value:!0}),_I.Posterize=void 0,_I.Posterize=function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,i=r.length,a=255/n;for(t=0;t<i;t+=1)r[t]=Math.floor(r[t]/a)*a},v1.Factory.addGetterSetter(v0.Node,"levels",.5,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter);"use strict";var _D={};Object.defineProperty(_D,"__esModule",{value:!0}),_D.RGB=void 0,_D.RGB=function(e){var t,n,r=e.data,i=r.length,a=this.red(),o=this.green(),s=this.blue();for(t=0;t<i;t+=4)n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255,r[t]=n*a,r[t+1]=n*o,r[t+2]=n*s,r[t+3]=r[t+3]},v1.Factory.addGetterSetter(v0.Node,"red",0,function(e){return(this._filterUpToDate=!1,e>255)?255:e<0?0:Math.round(e)}),v1.Factory.addGetterSetter(v0.Node,"green",0,function(e){return(this._filterUpToDate=!1,e>255)?255:e<0?0:Math.round(e)}),v1.Factory.addGetterSetter(v0.Node,"blue",0,v2.RGBComponent,v1.Factory.afterSetFilter);"use strict";var _U={};Object.defineProperty(_U,"__esModule",{value:!0}),_U.RGBA=void 0,_U.RGBA=function(e){var t,n,r=e.data,i=r.length,a=this.red(),o=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<i;t+=4)n=1-l,r[t]=a*l+r[t]*n,r[t+1]=o*l+r[t+1]*n,r[t+2]=s*l+r[t+2]*n},v1.Factory.addGetterSetter(v0.Node,"red",0,function(e){return(this._filterUpToDate=!1,e>255)?255:e<0?0:Math.round(e)}),v1.Factory.addGetterSetter(v0.Node,"green",0,function(e){return(this._filterUpToDate=!1,e>255)?255:e<0?0:Math.round(e)}),v1.Factory.addGetterSetter(v0.Node,"blue",0,v2.RGBComponent,v1.Factory.afterSetFilter),v1.Factory.addGetterSetter(v0.Node,"alpha",1,function(e){return(this._filterUpToDate=!1,e>1)?1:e<0?0:e});"use strict";var _z={};Object.defineProperty(_z,"__esModule",{value:!0}),_z.Sepia=void 0,_z.Sepia=function(e){var t,n,r,i,a=e.data,o=a.length;for(t=0;t<o;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],a[t+0]=Math.min(255,.393*n+.769*r+.189*i),a[t+1]=Math.min(255,.349*n+.686*r+.168*i),a[t+2]=Math.min(255,.272*n+.534*r+.131*i)};"use strict";var _F={};Object.defineProperty(_F,"__esModule",{value:!0}),_F.Solarize=void 0,_F.Solarize=function(e){var t=e.data,n=e.width,r=e.height,i=4*n,a=r;do{var o=(a-1)*i,s=n;do{var l=o+(s-1)*4,u=t[l],c=t[l+1],d=t[l+2];u>127&&(u=255-u),c>127&&(c=255-c),d>127&&(d=255-d),t[l]=u,t[l+1]=c,t[l+2]=d}while(--s)}while(--a)};"use strict";var _j={};Object.defineProperty(_j,"__esModule",{value:!0}),_j.Threshold=void 0,_j.Threshold=function(e){var t,n=255*this.threshold(),r=e.data,i=r.length;for(t=0;t<i;t+=1)r[t]=r[t]<n?0:255},v1.Factory.addGetterSetter(v0.Node,"threshold",.5,(0,v2.getNumberValidator)(),v1.Factory.afterSetFilter),vB.Konva=vV.Konva.Util._assign(vV.Konva,{Arc:bh.Arc,Arrow:bp.Arrow,Circle:bE.Circle,Ellipse:bT.Ellipse,Image:bP.Image,Label:bR.Label,Tag:bR.Tag,Line:bm.Line,Path:bb.Path,Rect:bz.Rect,RegularPolygon:bj.RegularPolygon,Ring:bV.Ring,Sprite:bW.Sprite,Star:b$.Star,Text:bY.Text,TextPath:b8.TextPath,Transformer:_n.Transformer,Wedge:_h.Wedge,Filters:{Blur:_p.Blur,Brighten:_y.Brighten,Contrast:_b.Contrast,Emboss:__.Emboss,Enhance:_x.Enhance,Grayscale:_w.Grayscale,HSL:_E.HSL,HSV:_M.HSV,Invert:_T.Invert,Kaleidoscope:_C.Kaleidoscope,Mask:_R.Mask,Noise:_L.Noise,Pixelate:_N.Pixelate,Posterize:_I.Posterize,RGB:_D.RGB,RGBA:_U.RGBA,Sepia:_z.Sepia,Solarize:_F.Solarize,Threshold:_j.Threshold}}),vj=vB.Konva;"use strict";var n1=N("acw62"),_B={};Object.defineProperty(_B,"__esModule",{value:!0}),_B.Konva=void 0,Object.defineProperty(_B,"Konva",{enumerable:!0,get:function(){return vV.Konva}}),_B=vV.Konva;var _V={};_V=N("8RuUj");var _G={};_G=N("02ePV");var _H={};s(_H,"appendInitialChild",()=>_2),s(_H,"createInstance",()=>_3),s(_H,"createTextInstance",()=>_5),s(_H,"finalizeInitialChildren",()=>_4),s(_H,"getPublicInstance",()=>_6),s(_H,"prepareForCommit",()=>_8),s(_H,"preparePortalMount",()=>_9),s(_H,"prepareUpdate",()=>_7),s(_H,"resetAfterCommit",()=>xe),s(_H,"resetTextContent",()=>xt),s(_H,"shouldDeprioritizeSubtree",()=>xn),s(_H,"getRootHostContext",()=>xr),s(_H,"getChildHostContext",()=>xi),s(_H,"scheduleTimeout",()=>xa),s(_H,"cancelTimeout",()=>xo),s(_H,"noTimeout",()=>xs),s(_H,"shouldSetTextContent",()=>xl),s(_H,"isPrimaryRenderer",()=>xu),s(_H,"warnsIfNotActing",()=>xc),s(_H,"supportsMutation",()=>xd),s(_H,"appendChild",()=>xh),s(_H,"appendChildToContainer",()=>xf),s(_H,"insertBefore",()=>xp),s(_H,"insertInContainerBefore",()=>xm),s(_H,"removeChild",()=>xg),s(_H,"removeChildFromContainer",()=>xv),s(_H,"commitTextUpdate",()=>xy),s(_H,"commitMount",()=>xb),s(_H,"commitUpdate",()=>x_),s(_H,"hideInstance",()=>xx),s(_H,"hideTextInstance",()=>xS),s(_H,"unhideInstance",()=>xw),s(_H,"unhideTextInstance",()=>xE),s(_H,"clearContainer",()=>xM),s(_H,"detachDeletedInstance",()=>xT),s(_H,"getCurrentEventPriority",()=>xC),s(_H,"now",()=>N("fO90s").unstable_now),s(_H,"idlePriority",()=>N("fO90s").unstable_IdlePriority),s(_H,"run",()=>N("fO90s").unstable_runWithPriority);const _W={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let _X=!1,_$=!1;const _q=".react-konva-event",_Y=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,_K=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,_Z={};function _Q(e,t,n=_Z){if(!_X&&"zIndex"in t&&(console.warn(_K),_X=!0),!_$&&t.draggable){var r=void 0!==t.x||void 0!==t.y,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(_Y),_$=!0)}for(var a in n)if(!_W[a]){var o="on"===a.slice(0,2),s=n[a]!==t[a];if(o&&s){var l=a.substr(2).toLowerCase();"content"===l.substr(0,7)&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e.off(l,n[a])}t.hasOwnProperty(a)||e.setAttr(a,void 0)}var u=t._useStrictMode,c={},d=!1;let h={};for(var a in t)if(!_W[a]){var o="on"===a.slice(0,2),f=n[a]!==t[a];if(o&&f){var l=a.substr(2).toLowerCase();"content"===l.substr(0,7)&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t[a]&&(h[l]=t[a])}!o&&(t[a]!==n[a]||u&&t[a]!==e.getAttr(a))&&(d=!0,c[a]=t[a])}for(var l in d&&(e.setAttrs(c),_J(e)),h)e.on(l+_q,h[l])}function _J(e){if(!vG.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}N("fO90s");const _0={},_1={};function _2(e,t){if("string"==typeof t){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),_J(e)}function _3(e,t,n){let r=O(_B)[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=O(_B).Group);let i={},a={};for(var o in t)"on"===o.slice(0,2)?a[o]=t[o]:i[o]=t[o];let s=new r(i);return _Q(s,a),s}function _5(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function _4(e,t,n){return!1}function _6(e){return e}function _8(){return null}function _9(){return null}function _7(e,t,n,r){return _1}function xe(){}function xt(e){}function xn(e,t){return!1}function xr(){return _0}function xi(){return _0}O(_B).Node.prototype._applyProps=_Q;const xa=setTimeout,xo=clearTimeout,xs=-1;function xl(e,t){return!1}const xu=!1,xc=!0,xd=!0;function xh(e,t){t.parent===e?t.moveToTop():e.add(t),_J(e)}function xf(e,t){t.parent===e?t.moveToTop():e.add(t),_J(e)}function xp(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),_J(e)}function xm(e,t,n){xp(e,t,n)}function xg(e,t){t.destroy(),t.off(_q),_J(e)}function xv(e,t){t.destroy(),t.off(_q),_J(e)}function xy(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function xb(e,t,n){}function x_(e,t,n,r,i){_Q(e,i,r)}function xx(e){e.hide(),_J(e)}function xS(e){}function xw(e,t){(null==t.visible||t.visible)&&e.show()}function xE(e,t){}function xM(e){}function xT(){}const xC=()=>_G.DefaultEventPriority;var n1=N("acw62"),xP=Object.defineProperty,xA=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,xO=Object.getOwnPropertySymbols,xk=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,xN=(e,t,n)=>t in e?xP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xI=(e,t)=>{for(var n in t||(t={}))xk.call(t,n)&&xN(e,n,t[n]);if(xO)for(var n of xO(t))xL.call(t,n)&&xN(e,n,t[n]);return e},xD=(e,t)=>xA(e,xR(t));function xU(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const xz=xU(n1.createContext(null));class xF extends n1.Component{render(){return n1.createElement(xz.Provider,{value:this._reactInternals},this.props.children)}}"use strict";"use strict";const{ReactCurrentOwner:xj,ReactCurrentDispatcher:xB}=n1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xV=e=>{let t=O(n1).useRef(),n=O(n1).useRef(),r=O(n1).useRef(),i=function(e){let t=O(n1).useRef({});return O(n1).useLayoutEffect(()=>{t.current=e}),O(n1).useLayoutEffect(()=>()=>{t.current={}},[]),t.current}(e),a=function(){let e=function(){var e,t;let n=function(){let e=n1.useContext(xz);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=n1.useId(),n=n1.useMemo(()=>{for(let n of[null==xj?void 0:xj.current,e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let i=n?t.return:t.child;for(;i;){let t=e(i,n,r);if(t)return t;i=n?null:i.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t]);return n}(),[r]=n1.useState(()=>new Map);r.clear();let i=n;for(;i;){let n=null==(e=i.type)?void 0:e._context;n&&n!==xz&&!r.has(n)&&r.set(n,null==(t=null==xB?void 0:xB.current)?void 0:t.readContext(xU(n))),i=i.return}return r}();return n1.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>n1.createElement(t,null,n1.createElement(n.Provider,xD(xI({},r),{value:e.get(n)}))),e=>n1.createElement(xF,xI({},e))),[e])}(),o=t=>{let{forwardedRef:n}=e;n&&("function"==typeof n?n(t):n.current=t)};return O(n1).useLayoutEffect(()=>(n.current=new(O(_B)).Stage({width:e.width,height:e.height,container:t.current}),o(n.current),r.current=xG.createContainer(n.current,_G.LegacyRoot,!1,null),xG.updateContainer(O(n1).createElement(a,{},e.children),r.current),()=>{O(_B).isBrowser&&(o(null),xG.updateContainer(null,r.current,null),n.current.destroy())}),[]),O(n1).useLayoutEffect(()=>{o(n.current),_Q(n.current,e,i),xG.updateContainer(O(n1).createElement(a,{},e.children),r.current,null)}),O(n1).createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},xG=O(_V)(_H);xG.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:O(n1).version,rendererPackageName:"react-konva"});const xH=O(n1).forwardRef((e,t)=>O(n1).createElement(xF,{},O(n1).createElement(xV,{...e,forwardedRef:t})));var oe=N("8nd05"),ot=N("1En50"),n1=N("acw62"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),n1=N("acw62");const xW=n1.createContext({});var oj=N("beCSm"),oB=N("4Cod0");function xX(e){return(0,oB.default)("MuiList",e)}(0,oj.default)("MuiList",["root","padding","dense","subheader"]);var I=N("ayMG0");const x$=["children","className","component","dense","disablePadding","subheader"],xq=e=>{let{classes:t,disablePadding:n,dense:r,subheader:i}=e;return(0,ov.default)({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},xX,t)},xY=(0,ob.default)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>(0,oe.default)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),xK=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiList"}),{children:r,className:i,component:a="ul",dense:o=!1,disablePadding:s=!1,subheader:l}=n,u=(0,ot.default)(n,x$),c=n1.useMemo(()=>({dense:o}),[o]),d=(0,oe.default)({},n,{component:a,dense:o,disablePadding:s}),h=xq(d);return(0,I.jsx)(xW.Provider,{value:c,children:(0,I.jsxs)(xY,(0,oe.default)({as:a,className:(0,on.default)(h.root,i),ref:t,ownerState:d},u,{children:[l,r]}))})});var I=N("ayMG0");const xZ=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xQ(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function xJ(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function x0(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function x1(e,t,n,r,i,a){let o=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(o)return!1;o=!0}let t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&x0(s,a)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const x2=n1.forwardRef(function(e,t){let{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:a,className:o,disabledItemsFocusable:s=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu"}=e,d=(0,ot.default)(e,xZ),h=n1.useRef(null),f=n1.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ow(()=>{r&&h.current.focus()},[r]),n1.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(e,t)=>{let n=!h.current.style.width;if(e.clientHeight<h.current.clientHeight&&n){let n=`${sU(sI(e))}px`;h.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,h.current.style.width=`calc(100% + ${n})`}return h.current}}),[]);let p=oS(h,t),m=-1;n1.Children.forEach(a,(e,t)=>{if(!n1.isValidElement(e)){m===t&&(m+=1)>=a.length&&(m=-1);return}e.props.disabled||("selectedMenu"===c&&e.props.selected?m=t:-1!==m||(m=t)),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1)>=a.length&&(m=-1)});let g=n1.Children.map(a,(e,t)=>{if(t===m){let t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),n1.cloneElement(e,t)}return e});return(0,I.jsx)(xK,(0,oe.default)({role:"menu",ref:p,className:o,onKeyDown:e=>{let t=h.current,n=e.key,r=sI(t).activeElement;if("ArrowDown"===n)e.preventDefault(),x1(t,r,l,s,xQ);else if("ArrowUp"===n)e.preventDefault(),x1(t,r,l,s,xJ);else if("Home"===n)e.preventDefault(),x1(t,null,l,s,xQ);else if("End"===n)e.preventDefault(),x1(t,null,l,s,xJ);else if(1===n.length){let i=f.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);let l=r&&!i.repeating&&x0(r,i);i.previousKeyMatched&&(l||x1(t,r,!1,s,xQ,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},d,{children:g}))});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),oy=N("jgarO"),ob=N("d8seH"),o_=N("6g9fa"),oj=N("beCSm"),oB=N("4Cod0");function x3(e){return(0,oB.default)("MuiListItemIcon",e)}const x5=(0,oj.default)("MuiListItemIcon",["root","alignItemsFlexStart"]);var oj=N("beCSm"),oB=N("4Cod0");function x4(e){return(0,oB.default)("MuiListItemText",e)}const x6=(0,oj.default)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var oj=N("beCSm"),oB=N("4Cod0");function x8(e){return(0,oB.default)("MuiMenuItem",e)}const x9=(0,oj.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var I=N("ayMG0");const x7=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Se=e=>{let{disabled:t,dense:n,divider:r,disableGutters:i,selected:a,classes:o}=e,s=(0,ov.default)({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},x8,o);return(0,oe.default)({},o,s)},St=(0,ob.default)(o6,{shouldForwardProp:e=>(0,ob.rootShouldForwardProp)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,oe.default)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x9.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,oy.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x9.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,oy.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x9.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,oy.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,oy.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x9.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${x9.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${lK.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${lK.inset}`]:{marginLeft:52},[`& .${x6.root}`]:{marginTop:0,marginBottom:0},[`& .${x6.inset}`]:{paddingLeft:36},[`& .${x5.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,oe.default)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${x5.root} svg`]:{fontSize:"1.25rem"}}))),Sn=n1.forwardRef(function(e,t){let n;let r=(0,o_.default)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:o=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h}=r,f=(0,ot.default)(r,x7),p=n1.useContext(xW),m=n1.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),g=n1.useRef(null);ow(()=>{i&&g.current&&g.current.focus()},[i]);let v=(0,oe.default)({},r,{dense:m.dense,divider:s,disableGutters:l}),y=Se(r),b=oS(g,t);return r.disabled||(n=void 0!==d?d:-1),(0,I.jsx)(xW.Provider,{value:m,children:(0,I.jsx)(St,(0,oe.default)({ref:b,role:c,tabIndex:n,component:a,focusVisibleClassName:(0,on.default)(y.focusVisible,u),className:(0,on.default)(y.root,h)},f,{ownerState:v,classes:y}))})});var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),o8=N("jTnBY"),oj=N("beCSm"),oB=N("4Cod0");function Sr(e){return(0,oB.default)("MuiTypography",e)}(0,oj.default)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var I=N("ayMG0");const Si=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Sa=e=>{let{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e,s={root:["root",a,"inherit"!==e.align&&`align${(0,o8.default)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,ov.default)(s,Sr,o)},So=(0,ob.default)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,o8.default)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,oe.default)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Ss={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Sl={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Su=e=>Sl[e]||e,Sc=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiTypography"}),r=Su(n.color),i=ou((0,oe.default)({},n,{color:r})),{align:a="inherit",className:o,component:s,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:d="body1",variantMapping:h=Ss}=i,f=(0,ot.default)(i,Si),p=(0,oe.default)({},i,{align:a,color:r,className:o,component:s,gutterBottom:l,noWrap:u,paragraph:c,variant:d,variantMapping:h}),m=s||(c?"p":h[d]||Ss[d])||"span",g=Sa(p);return(0,I.jsx)(So,(0,oe.default)({as:m,ref:t,ownerState:p,className:(0,on.default)(g.root,o)},f))});var o_=N("6g9fa"),ob=N("d8seH"),I=N("ayMG0");const Sd=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Sh=e=>{let{classes:t,inset:n,primary:r,secondary:i,dense:a}=e;return(0,ov.default)({root:["root",n&&"inset",a&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},x4,t)},Sf=(0,ob.default)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${x6.primary}`]:t.primary},{[`& .${x6.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>(0,oe.default)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Sp=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:a=!1,inset:o=!1,primary:s,primaryTypographyProps:l,secondary:u,secondaryTypographyProps:c}=n,d=(0,ot.default)(n,Sd),{dense:h}=n1.useContext(xW),f=null!=s?s:r,p=u,m=(0,oe.default)({},n,{disableTypography:a,inset:o,primary:!!f,secondary:!!p,dense:h}),g=Sh(m);return null==f||f.type===Sc||a||(f=(0,I.jsx)(Sc,(0,oe.default)({variant:h?"body2":"body1",className:g.primary,component:null!=l&&l.variant?void 0:"span",display:"block"},l,{children:f}))),null==p||p.type===Sc||a||(p=(0,I.jsx)(Sc,(0,oe.default)({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},c,{children:p}))),(0,I.jsxs)(Sf,(0,oe.default)({className:(0,on.default)(g.root,i),ownerState:m,ref:t},d,{children:[f,p]}))});"use strict";var ot=N("1En50"),oe=N("8nd05"),n1=N("acw62"),on=N("1SA7b"),ov=N("8Indx"),ob=N("d8seH"),o_=N("6g9fa"),I=N("ayMG0");const Sm=["className"],Sg=e=>{let{alignItems:t,classes:n}=e;return(0,ov.default)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},x3,n)},Sv=(0,ob.default)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>(0,oe.default)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8})),Sy=n1.forwardRef(function(e,t){let n=(0,o_.default)({props:e,name:"MuiListItemIcon"}),{className:r}=n,i=(0,ot.default)(n,Sm),a=n1.useContext(xW),o=(0,oe.default)({},n,{alignItems:a.alignItems}),s=Sg(o);return(0,I.jsx)(Sv,(0,oe.default)({className:(0,on.default)(s.root,r),ownerState:o,ref:t},i))});"use strict";var Sb={};Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.default=void 0;var S_=sa(N("7Ekty")),I=N("ayMG0"),Sx=(0,S_.default)((0,I.jsx)("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"}),"ContentCut");Sb.default=Sx;"use strict";var SS={};Object.defineProperty(SS,"__esModule",{value:!0}),SS.default=void 0;var Sw=sa(N("7Ekty")),I=N("ayMG0"),SE=(0,Sw.default)((0,I.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");SS.default=SE;"use strict";var SM={};Object.defineProperty(SM,"__esModule",{value:!0}),SM.default=void 0;var ST=sa(N("7Ekty")),I=N("ayMG0"),SC=(0,ST.default)((0,I.jsx)("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}),"ContentPaste");SM.default=SC;"use strict";var SP={};Object.defineProperty(SP,"__esModule",{value:!0}),SP.default=void 0;var SA=sa(N("7Ekty")),I=N("ayMG0"),SR=(0,SA.default)((0,I.jsx)("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation");SP.default=SR;var SO={};Object.defineProperty(SO,"__esModule",{value:!0}),SO.default=void 0;var Sk=sa(N("7Ekty")),I=N("ayMG0"),SL=(0,Sk.default)((0,I.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),"Cloud");SO.default=SL,rP(({width:e,height:t})=>{let n=(0,n1.useRef)(null),r=a4(),i=e=>{e.evt.pageX;let t=()=>{},n=()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)};return(0,I.jsxs)("div",{className:"slt-2d",style:{width:e,height:t},children:[(0,I.jsxs)(x2,{children:[(0,I.jsxs)(Sn,{children:[(0,I.jsx)(Sy,{children:(0,I.jsx)(O(SP),{fontSize:"small"})}),(0,I.jsx)(Sp,{children:"selection"}),(0,I.jsx)(Sc,{variant:"body2",color:"text.secondary",children:"⌘v"})]}),(0,I.jsxs)(Sn,{children:[(0,I.jsx)(Sy,{children:(0,I.jsx)(O(Sb),{fontSize:"small"})}),(0,I.jsx)(Sp,{children:"Cut"}),(0,I.jsx)(Sc,{variant:"body2",color:"text.secondary",children:"⌘X"})]}),(0,I.jsxs)(Sn,{children:[(0,I.jsx)(Sy,{children:(0,I.jsx)(O(SS),{fontSize:"small"})}),(0,I.jsx)(Sp,{children:"Copy"}),(0,I.jsx)(Sc,{variant:"body2",color:"text.secondary",children:"⌘C"})]}),(0,I.jsxs)(Sn,{children:[(0,I.jsx)(Sy,{children:(0,I.jsx)(O(SM),{fontSize:"small"})}),(0,I.jsx)(Sp,{children:"Paste"}),(0,I.jsx)(Sc,{variant:"body2",color:"text.secondary",children:"⌘V"})]}),(0,I.jsxs)(Sn,{children:[(0,I.jsx)(Sy,{children:(0,I.jsx)(O(SO),{fontSize:"small"})}),(0,I.jsx)(Sp,{children:"Web Clipboard"})]})]}),(0,I.jsx)(xH,{ref:n,style:{backgroundSize:"20px 20px",backgroundPosition:"0 0, 10px 10px",backgroundImage:"linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0,#eee),linear-gradient(45deg, #eee 25%, #fff 0, #fff 75%, #eee 0, #eee)"},width:e,height:t,onDragStart:()=>console.log("drag start"),onDragMove:()=>console.log("drag move"),onDragEnd:()=>console.log("drag end"),onMouseDown:e=>i(e),onContextMenu:e=>{},children:(0,I.jsx)("Layer",{children:r.elements.map((e,t)=>{if("rect"===e.type){let{position:n,value:i,color:a}=e;return(0,I.jsx)("Rect",{...i,fill:a,draggable:!0,...n,onDragMove:t=>{r.moveElement(e.id,{x:e.position.x+t.evt.movementX,y:e.position.y+t.evt.movementY})}},t)}})})})]})}),(({container:e,store:t})=>{let n=l(e);n.render((0,I.jsx)(vF,{store:t}))})({container:document.getElementById("app"),store:a3({classifications:[{id:"car",color:"aliceblue"},{id:"person",color:"antiquewhite"},{id:"bicycle",color:"aqua",properties:[]},{id:"motorcycle",color:"#7914ee"},{id:"airplane",color:"#b10555"},{id:"bus",color:"#c35b4c"},{id:"train",color:"#89bed2"},{id:"truck",color:"#6bfbe3"},{id:"boat",color:"#575cde"},{id:"traffic_light",color:"#780161"},{id:"fire_hydrant",color:"#ab92b0"},{id:"stop_sign",color:"#ffaa36"},{id:"parking_meter",color:"#27bb6a"},{id:"bench",color:"#714c70"}]})});
//# sourceMappingURL=index.df125f2d.js.map
